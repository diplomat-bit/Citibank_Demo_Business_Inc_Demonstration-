openapi: 3.1.0
info:
  version: '1.1'
  title: "James Burvel O'Callaghan III API: The Quantum Core - Publisher Edition"
  description: |
    Welcome to the **Quantum Core 3.1**, the pinnacle of financial technology. This specification has been rigorously refined to meet the highest standards of RESTful design, security, and scalability.
    
    **Key Improvements in v1.1:**
    *   **Cursor-Based Pagination:** All list endpoints now use cursor-based pagination for superior performance and data integrity.
    *   **Semantic Correctness:** Partial updates now correctly use `PATCH`.
    *   **RESTful Design:** RPC-style verbs have been replaced with resource-oriented state changes.
    *   **Enhanced Security:** OAuth2 scopes are hierarchically organized, and biometric authentication is integrated into the standard flow.
    *   **OpenAPI 3.1 Compliance:** strict typing and nullability handling.
servers:
  - description: SwaggerHub API Auto Mocking
    url: https://virtserver.swaggerhub.com/JOCALL3_1/jamesburvelocallaghaniiiapi/1.0

tags:
  - name: "Users & Identity Management"
  - name: "Accounts & Balances"
  - name: "Transactions & Insights"
  - name: "Budgets & Financial Planning"
  - name: "Investments & Portfolio Intelligence"
  - name: "AI Advisor (Quantum)"
  - name: "Quantum Weaver (Business Incubation)"
  - name: "Quantum Oracle (Predictive Simulation)"
  - name: "AI Ad Studio (Veo 2.0)"
  - name: "Personalization & Experience Design"
  - name: "Financial Goals & Strategic Planning"
  - name: "Marketplace (Plato AI)"
  - name: "Decentralized Finance (DeFi) & Web3 Assets"
  - name: "Corporate Finance - Enterprise Cards"
  - name: "Corporate Finance - Global Payments & Treasury"
  - name: "Corporate Finance - Compliance & Risk"
  - name: "Rewards & Gamification Engine"
  - name: "Credit Health & AI Underwriting"
  - name: "Notifications & Proactive Alerts"
  - name: "Security & Open Banking Ecosystem"
  - name: "Real-time Analytics & Predictive Intelligence"
  - name: "Global Payments & Foreign Exchange"
  - name: "Sustainability & ESG Impact"
  - name: "AI-Powered Lending & Credit Solutions"
  - name: "Developer Tools & API Management"
  - name: "Digital Identity & Verifiable Credentials"
  - name: "Treasury & Liquidity Management"
  - name: "Enterprise Risk & Fraud Prevention"

security:
  - oAuth2Auth:
      - user.profile.read
      - user.profile.write
      - banking.accounts.read
      - banking.accounts.write
      - banking.transactions.read
      - banking.transactions.write
      - banking.payments.write
      - ai.advisor.interact
      - ai.oracle.interact
      - business.weaver.read
      - business.weaver.write
      - ai.ad_studio.read
      - ai.ad_studio.write
      - corporate.cards.read
      - corporate.cards.write
      - corporate.payments.read
      - corporate.payments.write
      - corporate.compliance.read
      - corporate.compliance.write
      - user.rewards.read
      - user.rewards.write
      - analytics.read
      - analytics.write
      - web3.read
      - web3.write
      - sustainability.read
      - sustainability.write
      - lending.read
      - lending.write
      - developer.tools.read
      - developer.tools.write
      - identity.read
      - identity.write
      - corporate.treasury.read
      - corporate.treasury.write
      - fx.rates.read
      - investments.read
      - investments.write
      - user.personalization.read
      - user.personalization.write
  - apiKeyAuth: []

paths:
  /users/register:
    post:
      tags:
        - "Users & Identity Management"
      summary: "Register a New User Account"
      operationId: "registerUser"
      security:
        - {}
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UserRegistrationRequest"
      responses:
        "201":
          description: "User registered successfully."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/User"
        "400":
          $ref: "#/components/responses/BadRequestError"
        "409":
          $ref: "#/components/responses/ConflictError"

  /users/login:
    post:
      tags:
        - "Users & Identity Management"
      summary: "User Login"
      operationId: "userLogin"
      security:
        - {}
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UserLoginRequest"
      responses:
        "200":
          description: "Login successful."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/LoginResponse"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "403":
          description: "MFA required or account locked."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /password-resets:
    post:
      tags:
        - "Users & Identity Management"
      summary: "Initiate Password Reset"
      operationId: "initiatePasswordReset"
      security:
        - {}
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - identifier
              properties:
                identifier:
                  type: string
                  format: email
      responses:
        "200":
          description: "Password reset initiated."
          content:
            application/json:
              schema:
                type: object
                properties:
                  message:
                    type: string
        "404":
          $ref: "#/components/responses/NotFoundError"

  /password-resets/confirm:
    post:
      tags:
        - "Users & Identity Management"
      summary: "Confirm Password Reset"
      operationId: "confirmPasswordReset"
      security:
        - {}
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - identifier
                - verificationCode
                - newPassword
              properties:
                identifier:
                  type: string
                  format: email
                verificationCode:
                  type: string
                newPassword:
                  type: string
                  format: password
      responses:
        "200":
          description: "Password updated successfully."
        "400":
          $ref: "#/components/responses/BadRequestError"
        "401":
          $ref: "#/components/responses/UnauthorizedError"

  /users/me:
    get:
      tags:
        - "Users & Identity Management"
      summary: "Retrieve Current User Profile"
      operationId: "getCurrentUserEnhancedProfile"
      security:
        - oAuth2Auth: [user.profile.read, identity.read]
        - apiKeyAuth: []
      responses:
        "200":
          description: "The user's profile."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/User"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
    patch:
      tags:
        - "Users & Identity Management"
      summary: "Update Current User Profile"
      description: "Partially updates the authenticated user's profile."
      operationId: "updateCurrentUserProfile"
      security:
        - oAuth2Auth: [user.profile.write]
        - apiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UserUpdateProfileRequest"
      responses:
        "200":
          description: "User profile updated."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/User"
        "400":
          $ref: "#/components/responses/BadRequestError"
        "401":
          $ref: "#/components/responses/UnauthorizedError"

  /users/me/preferences:
    get:
      tags:
        - "Users & Identity Management"
        - "Personalization & Experience Design"
      summary: "Get User Preferences"
      operationId: "getUserPreferences"
      security:
        - oAuth2Auth: [user.profile.read, user.personalization.read]
        - apiKeyAuth: []
      responses:
        "200":
          description: "User preferences."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UserPreferences"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
    patch:
      tags:
        - "Users & Identity Management"
        - "Personalization & Experience Design"
      summary: "Update User Preferences"
      operationId: "updateUserPreferences"
      security:
        - oAuth2Auth: [user.profile.write, user.personalization.write]
        - apiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UserPreferences"
      responses:
        "200":
          description: "Preferences updated."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UserPreferences"
        "400":
          $ref: "#/components/responses/BadRequestError"
        "401":
          $ref: "#/components/responses/UnauthorizedError"

  /users/me/devices:
    get:
      tags:
        - "Users & Identity Management"
        - "Security & Open Banking Ecosystem"
      summary: "List Connected Devices"
      operationId: "listConnectedDevices"
      security:
        - oAuth2Auth: [user.profile.read]
        - apiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/Limit"
        - $ref: "#/components/parameters/Cursor"
      responses:
        "200":
          description: "Paginated list of devices."
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/PaginatedCursorList"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: "#/components/schemas/Device"
    post:
      tags:
        - "Users & Identity Management"
      summary: "Register a New Device"
      operationId: "registerDevice"
      security:
        - oAuth2Auth: [user.profile.write]
        - apiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RegisterDeviceRequest"
      responses:
        "201":
          description: "Device registered."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Device"
        "400":
          $ref: "#/components/responses/BadRequestError"

  /users/me/devices/{deviceId}:
    delete:
      tags:
        - "Users & Identity Management"
      summary: "Deregister a Device"
      operationId: "deregisterDevice"
      security:
        - oAuth2Auth: [user.profile.write]
        - apiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/DeviceId"
      responses:
        "204":
          description: "Device removed."
        "404":
          $ref: "#/components/responses/NotFoundError"

  /users/me/biometrics/enroll:
    post:
      tags:
        - "Users & Identity Management"
      summary: "Enroll Biometric Data"
      operationId: "enrollBiometrics"
      security:
        - oAuth2Auth: [user.profile.write]
        - apiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/BiometricEnrollmentRequest"
      responses:
        "201":
          description: "Biometric enrollment successful."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/BiometricStatus"
        "400":
          $ref: "#/components/responses/BadRequestError"

  /users/me/biometrics/verify:
    post:
      tags:
        - "Users & Identity Management"
      summary: "Verify Biometric Data"
      operationId: "verifyBiometrics"
      security:
        - oAuth2Auth: [user.profile.read]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/BiometricVerificationRequest"
      responses:
        "200":
          description: "Verification successful."
          content:
            application/json:
              schema:
                type: object
                properties:
                  verificationStatus:
                    type: string
                    enum: [success, failed]
                  message:
                    type: string
        "401":
          $ref: "#/components/responses/UnauthorizedError"

  /users/me/biometrics:
    get:
      tags:
        - "Users & Identity Management"
      summary: "Get Biometric Status"
      operationId: "getBiometricStatus"
      security:
        - oAuth2Auth: [user.profile.read]
        - apiKeyAuth: []
      responses:
        "200":
          description: "Biometric status."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/BiometricStatus"
    delete:
      tags:
        - "Users & Identity Management"
      summary: "Deregister All Biometrics"
      operationId: "deregisterAllBiometrics"
      security:
        - oAuth2Auth: [user.profile.write]
        - apiKeyAuth: []
      responses:
        "204":
          description: "Biometrics removed."

  /accounts/me:
    get:
      tags:
        - "Accounts & Balances"
      summary: "List Linked Accounts"
      operationId: "listLinkedAccounts"
      security:
        - oAuth2Auth: [banking.accounts.read]
        - apiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/Limit"
        - $ref: "#/components/parameters/Cursor"
      responses:
        "200":
          description: "Paginated list of accounts."
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/PaginatedCursorList"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: "#/components/schemas/LinkedAccount"
        "401":
          $ref: "#/components/responses/UnauthorizedError"

  /accounts/{accountId}:
    get:
      tags:
        - "Accounts & Balances"
        - "Real-time Analytics & Predictive Intelligence"
      summary: "Get Account Details & Analytics"
      description: "Retrieves comprehensive details and analytics for a specific financial account."
      operationId: "getAccountDetails"
      security:
        - oAuth2Auth: [banking.accounts.read, analytics.read]
        - apiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/AccountId"
      responses:
        "200":
          description: "Detailed account information."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AccountDetail"
        "404":
          $ref: "#/components/responses/NotFoundError"

  /accounts/{accountId}/transactions/pending:
    get:
      tags:
        - "Accounts & Balances"
        - "Transactions & Insights"
      summary: "Get Pending Transactions"
      operationId: "getPendingAccountTransactions"
      security:
        - oAuth2Auth: [banking.accounts.read, banking.transactions.read]
        - apiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/AccountId"
        - $ref: "#/components/parameters/Limit"
        - $ref: "#/components/parameters/Cursor"
      responses:
        "200":
          description: "Paginated list of pending transactions."
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/PaginatedCursorList"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: "#/components/schemas/Transaction"
        "404":
          $ref: "#/components/responses/NotFoundError"

  /accounts/{accountId}/statements:
    get:
      tags:
        - "Accounts & Balances"
      summary: "Retrieve Account Statements"
      operationId: "getAccountStatements"
      security:
        - oAuth2Auth: [banking.accounts.read]
        - apiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/AccountId"
        - name: "year"
          in: "query"
          required: true
          schema:
            type: integer
        - name: "month"
          in: "query"
          required: true
          schema:
            type: integer
            minimum: 1
            maximum: 12
        - name: "format"
          in: "query"
          schema:
            type: string
            enum: [pdf, csv]
            default: pdf
      responses:
        "200":
          description: "Statement metadata or file content."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/StatementDownloadInfo"
            application/pdf:
              schema:
                type: string
                format: binary
            text/csv:
              schema:
                type: string
                format: binary
        "404":
          $ref: "#/components/responses/NotFoundError"

  /accounts/{accountId}/overdraft-settings:
    get:
      tags:
        - "Accounts & Balances"
      summary: "Get Overdraft Settings"
      operationId: "getOverdraftSettings"
      security:
        - oAuth2Auth: [banking.accounts.read]
        - apiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/AccountId"
      responses:
        "200":
          description: "Overdraft settings."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OverdraftSettings"
        "404":
          $ref: "#/components/responses/NotFoundError"
    put:
      tags:
        - "Accounts & Balances"
      summary: "Update Overdraft Settings"
      operationId: "updateOverdraftSettings"
      security:
        - oAuth2Auth: [banking.accounts.write]
        - apiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/AccountId"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/OverdraftSettingsUpdateRequest"
      responses:
        "200":
          description: "Settings updated."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OverdraftSettings"
        "400":
          $ref: "#/components/responses/BadRequestError"

  /accounts/link:
    post:
      tags:
        - "Accounts & Balances"
      summary: "Link External Institution"
      operationId: "initiateAccountLinking"
      security:
        - oAuth2Auth: [banking.accounts.write]
        - apiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/LinkAccountRequest"
      responses:
        "200":
          description: "Linking initiated."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/LinkAccountResponse"
        "400":
          $ref: "#/components/responses/BadRequestError"

  /transactions:
    get:
      tags:
        - "Transactions & Insights"
      summary: "List & Filter Transactions"
      operationId: "listTransactionsEnhanced"
      security:
        - oAuth2Auth: [banking.transactions.read]
        - apiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/Limit"
        - $ref: "#/components/parameters/Cursor"
        - name: "type"
          in: "query"
          schema:
            type: string
            enum: [income, expense, transfer, investment, refund, bill_payment]
        - name: "category"
          in: "query"
          schema:
            type: string
        - name: "startDate"
          in: "query"
          schema:
            type: string
            format: date
        - name: "endDate"
          in: "query"
          schema:
            type: string
            format: date
        - name: "minAmount"
          in: "query"
          schema:
            type: number
            format: float
        - name: "maxAmount"
          in: "query"
          schema:
            type: number
            format: float
        - name: "searchQuery"
          in: "query"
          schema:
            type: string
      responses:
        "200":
          description: "Paginated transactions."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PaginatedTransactions"
        "400":
          $ref: "#/components/responses/BadRequestError"

  /transactions/{transactionId}:
    get:
      tags:
        - "Transactions & Insights"
      summary: "Get Transaction Details"
      operationId: "getTransactionByIdDetailed"
      security:
        - oAuth2Auth: [banking.transactions.read]
        - apiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/TransactionId"
      responses:
        "200":
          description: "Transaction details."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Transaction"
        "404":
          $ref: "#/components/responses/NotFoundError"
    patch:
      tags:
        - "Transactions & Insights"
      summary: "Update Transaction (Categorize/Notes)"
      description: "Updates the category, notes, or other editable fields of a transaction."
      operationId: "updateTransaction"
      security:
        - oAuth2Auth: [banking.transactions.write]
        - apiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/TransactionId"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/TransactionUpdateRequest"
      responses:
        "200":
          description: "Transaction updated."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Transaction"
        "400":
          $ref: "#/components/responses/BadRequestError"
        "404":
          $ref: "#/components/responses/NotFoundError"

  /transactions/{transactionId}/dispute:
    post:
      tags:
        - "Transactions & Insights"
      summary: "Initiate Dispute"
      operationId: "initiateTransactionDispute"
      security:
        - oAuth2Auth: [banking.transactions.write]
        - apiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/TransactionId"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/DisputeRequest"
      responses:
        "202":
          description: "Dispute initiated."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DisputeStatus"
        "400":
          $ref: "#/components/responses/BadRequestError"

  /transactions/recurring:
    get:
      tags:
        - "Transactions & Insights"
      summary: "List Recurring Transactions"
      operationId: "listRecurringTransactions"
      security:
        - oAuth2Auth: [banking.transactions.read]
        - apiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/Limit"
        - $ref: "#/components/parameters/Cursor"
      responses:
        "200":
          description: "Paginated recurring transactions."
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/PaginatedCursorList"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: "#/components/schemas/RecurringTransaction"
    post:
      tags:
        - "Transactions & Insights"
      summary: "Create Recurring Transaction"
      operationId: "createRecurringTransaction"
      security:
        - oAuth2Auth: [banking.transactions.write]
        - apiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RecurringTransactionCreationRequest"
      responses:
        "201":
          description: "Recurring transaction created."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RecurringTransaction"
        "400":
          $ref: "#/components/responses/BadRequestError"

  /transactions/insights/spending-trends:
    get:
      tags:
        - "Transactions & Insights"
        - "Real-time Analytics & Predictive Intelligence"
      summary: "Get Spending Trends"
      operationId: "getSpendingTrends"
      security:
        - oAuth2Auth: [banking.transactions.read, analytics.read]
        - apiKeyAuth: []
      responses:
        "200":
          description: "Spending trends."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SpendingTrends"
        "401":
          $ref: "#/components/responses/UnauthorizedError"

  /budgets:
    get:
      tags:
        - "Budgets & Financial Planning"
      summary: "List Budgets"
      operationId: "listBudgets"
      security:
        - oAuth2Auth: [user.profile.read]
        - apiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/Limit"
        - $ref: "#/components/parameters/Cursor"
      responses:
        "200":
          description: "Paginated budgets."
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/PaginatedCursorList"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: "#/components/schemas/Budget"
    post:
      tags:
        - "Budgets & Financial Planning"
      summary: "Create Budget"
      operationId: "createBudget"
      security:
        - oAuth2Auth: [user.profile.write]
        - apiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/BudgetCreationRequest"
      responses:
        "201":
          description: "Budget created."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Budget"
        "400":
          $ref: "#/components/responses/BadRequestError"

  /budgets/{budgetId}:
    get:
      tags:
        - "Budgets & Financial Planning"
      summary: "Get Budget Details"
      operationId: "getBudgetDetails"
      security:
        - oAuth2Auth: [user.profile.read]
        - apiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/BudgetId"
      responses:
        "200":
          description: "Budget details."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Budget"
        "404":
          $ref: "#/components/responses/NotFoundError"
    patch:
      tags:
        - "Budgets & Financial Planning"
      summary: "Update Budget"
      operationId: "updateBudget"
      security:
        - oAuth2Auth: [user.profile.write]
        - apiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/BudgetId"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/BudgetUpdateRequest"
      responses:
        "200":
          description: "Budget updated."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Budget"
        "400":
          $ref: "#/components/responses/BadRequestError"
        "404":
          $ref: "#/components/responses/NotFoundError"
    delete:
      tags:
        - "Budgets & Financial Planning"
      summary: "Delete Budget"
      operationId: "deleteBudget"
      security:
        - oAuth2Auth: [user.profile.write]
        - apiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/BudgetId"
      responses:
        "204":
          description: "Budget deleted."
        "404":
          $ref: "#/components/responses/NotFoundError"

  /investments/portfolios:
    get:
      tags:
        - "Investments & Portfolio Intelligence"
      summary: "List Portfolios"
      operationId: "listInvestmentPortfolios"
      security:
        - oAuth2Auth: [investments.read]
        - apiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/Limit"
        - $ref: "#/components/parameters/Cursor"
      responses:
        "200":
          description: "Paginated portfolios."
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/PaginatedCursorList"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: "#/components/schemas/InvestmentPortfolio"
    post:
      tags:
        - "Investments & Portfolio Intelligence"
      summary: "Create Portfolio"
      operationId: "createInvestmentPortfolio"
      security:
        - oAuth2Auth: [investments.write]
        - apiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/InvestmentPortfolioCreationRequest"
      responses:
        "201":
          description: "Portfolio created."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/InvestmentPortfolio"
        "400":
          $ref: "#/components/responses/BadRequestError"

  /investments/portfolios/{portfolioId}:
    get:
      tags:
        - "Investments & Portfolio Intelligence"
      summary: "Get Portfolio Details"
      operationId: "getInvestmentPortfolioDetails"
      security:
        - oAuth2Auth: [investments.read]
        - apiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/PortfolioId"
      responses:
        "200":
          description: "Portfolio details."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/InvestmentPortfolio"
        "404":
          $ref: "#/components/responses/NotFoundError"
    patch:
      tags:
        - "Investments & Portfolio Intelligence"
      summary: "Update Portfolio"
      operationId: "updateInvestmentPortfolio"
      security:
        - oAuth2Auth: [investments.write]
        - apiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/PortfolioId"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/InvestmentPortfolioUpdateRequest"
      responses:
        "200":
          description: "Portfolio updated."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/InvestmentPortfolio"
        "400":
          $ref: "#/components/responses/BadRequestError"
        "404":
          $ref: "#/components/responses/NotFoundError"

  /investments/portfolios/{portfolioId}/rebalance:
    post:
      tags:
        - "Investments & Portfolio Intelligence"
      summary: "Initiate Rebalancing"
      operationId: "rebalanceInvestmentPortfolio"
      security:
        - oAuth2Auth: [investments.write]
        - apiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/PortfolioId"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RebalanceRequest"
      responses:
        "202":
          description: "Rebalancing initiated."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RebalanceStatus"
        "400":
          $ref: "#/components/responses/BadRequestError"

  /investments/assets/search:
    get:
      tags:
        - "Investments & Portfolio Intelligence"
        - "Sustainability & ESG Impact"
      summary: "Search Assets with ESG"
      operationId: "searchESGAssets"
      security:
        - oAuth2Auth: [investments.read, sustainability.read]
        - apiKeyAuth: []
      parameters:
        - name: "query"
          in: "query"
          required: true
          schema:
            type: string
        - name: "minESGScore"
          in: "query"
          schema:
            type: number
            format: float
        - $ref: "#/components/parameters/Limit"
        - $ref: "#/components/parameters/Cursor"
      responses:
        "200":
          description: "Paginated asset search results."
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/PaginatedCursorList"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: "#/components/schemas/ESGAssetSearchResult"
        "400":
          $ref: "#/components/responses/BadRequestError"

  /ai/advisor/chat:
    post:
      tags:
        - "AI Advisor (Quantum)"
      summary: "Chat with Quantum AI"
      operationId: "chatWithQuantumAdvanced"
      security:
        - oAuth2Auth: [ai.advisor.interact]
        - apiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AIChatRequest"
      responses:
        "200":
          description: "AI response."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AIChatResponse"
        "400":
          $ref: "#/components/responses/BadRequestError"
        "503":
          description: "Service unavailable."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /ai/advisor/tools:
    get:
      tags:
        - "AI Advisor (Quantum)"
        - "Developer Tools & API Management"
      summary: "List AI Tools"
      operationId: "listQuantumAITools"
      security:
        - oAuth2Auth: [ai.advisor.interact]
        - apiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/Limit"
        - $ref: "#/components/parameters/Cursor"
      responses:
        "200":
          description: "Paginated AI tools."
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/PaginatedCursorList"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: "#/components/schemas/AITool"

  /ai/advisor/chat/history:
    get:
      tags:
        - "AI Advisor (Quantum)"
      summary: "Get Chat History"
      operationId: "getQuantumChatHistory"
      security:
        - oAuth2Auth: [ai.advisor.interact]
        - apiKeyAuth: []
      parameters:
        - name: "sessionId"
          in: "query"
          schema:
            type: ["string", "null"]
        - $ref: "#/components/parameters/Limit"
        - $ref: "#/components/parameters/Cursor"
      responses:
        "200":
          description: "Paginated chat history."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PaginatedChatMessages"

  /ai/oracle/simulate:
    post:
      tags:
        - "Quantum Oracle (Predictive Simulation)"
      summary: "Run Standard Simulation"
      operationId: "simulateWithQuantumOracle"
      security:
        - oAuth2Auth: [ai.oracle.interact]
        - apiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SimulationRequest"
      responses:
        "200":
          description: "Simulation results."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SimulationResponse"
        "400":
          $ref: "#/components/responses/BadRequestError"

  /ai/oracle/simulate/advanced:
    post:
      tags:
        - "Quantum Oracle (Predictive Simulation)"
      summary: "Run Advanced Simulation"
      operationId: "simulateWithQuantumOracleAdvanced"
      security:
        - oAuth2Auth: [ai.oracle.interact]
        - apiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AdvancedSimulationRequest"
      responses:
        "200":
          description: "Advanced simulation results."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AdvancedSimulationResponse"
        "400":
          $ref: "#/components/responses/BadRequestError"

  /ai/oracle/simulations:
    get:
      tags:
        - "Quantum Oracle (Predictive Simulation)"
      summary: "List Simulations"
      operationId: "listUserSimulations"
      security:
        - oAuth2Auth: [ai.oracle.interact]
        - apiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/Limit"
        - $ref: "#/components/parameters/Cursor"
      responses:
        "200":
          description: "Paginated simulations."
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/PaginatedCursorList"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: "#/components/schemas/SimulationSummary"

  /ai/oracle/simulations/{simulationId}:
    get:
      tags:
        - "Quantum Oracle (Predictive Simulation)"
      summary: "Get Simulation Results"
      operationId: "getSimulationResults"
      security:
        - oAuth2Auth: [ai.oracle.interact]
        - apiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/SimulationId"
      responses:
        "200":
          description: "Simulation details."
          content:
            application/json:
              schema:
                oneOf:
                  - $ref: "#/components/schemas/SimulationResponse"
                  - $ref: "#/components/schemas/AdvancedSimulationResponse"
        "404":
          $ref: "#/components/responses/NotFoundError"
    delete:
      tags:
        - "Quantum Oracle (Predictive Simulation)"
      summary: "Delete Simulation"
      operationId: "deleteSimulation"
      security:
        - oAuth2Auth: [ai.oracle.interact]
        - apiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/SimulationId"
      responses:
        "204":
          description: "Simulation deleted."
        "404":
          $ref: "#/components/responses/NotFoundError"

  /ai/incubator/pitch:
    post:
      tags:
        - "Quantum Weaver (Business Incubation)"
      summary: "Submit Business Pitch"
      operationId: "pitchToQuantumWeaver"
      security:
        - oAuth2Auth: [business.weaver.write]
        - apiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - businessPlan
                - foundingTeam
                - marketOpportunity
                - financialProjections
              properties:
                businessPlan:
                  type: string
                foundingTeam:
                  type: array
                  items:
                    type: object
                marketOpportunity:
                  type: string
                financialProjections:
                  type: object
      responses:
        "202":
          description: "Pitch submitted."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/QuantumWeaverState"
        "400":
          $ref: "#/components/responses/BadRequestError"

  /ai/incubator/pitch/{pitchId}:
    get:
      tags:
        - "Quantum Weaver (Business Incubation)"
      summary: "Get Pitch Details"
      operationId: "getQuantumWeaverPitchDetails"
      security:
        - oAuth2Auth: [business.weaver.read]
        - apiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/PitchId"
      responses:
        "200":
          description: "Pitch details."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/QuantumWeaverState"
        "404":
          $ref: "#/components/responses/NotFoundError"

  /ai/incubator/pitches:
    get:
      tags:
        - "Quantum Weaver (Business Incubation)"
      summary: "List Pitches"
      operationId: "listUserBusinessPitches"
      security:
        - oAuth2Auth: [business.weaver.read]
        - apiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/Limit"
        - $ref: "#/components/parameters/Cursor"
        - name: "status"
          in: "query"
          schema:
            type: string
            enum: [submitted, initial_review, ai_analysis, feedback_required, test_phase, final_review, approved_for_funding, rejected, incubated_graduated]
      responses:
        "200":
          description: "Paginated pitches."
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/PaginatedCursorList"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: "#/components/schemas/QuantumWeaverState"

  /ai/incubator/pitch/{pitchId}/feedback:
    put:
      tags:
        - "Quantum Weaver (Business Incubation)"
      summary: "Submit Pitch Feedback"
      operationId: "submitQuantumWeaverFeedback"
      security:
        - oAuth2Auth: [business.weaver.write]
        - apiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/PitchId"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/QuantumWeaverFeedbackRequest"
      responses:
        "200":
          description: "Feedback submitted."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/QuantumWeaverState"
        "400":
          $ref: "#/components/responses/BadRequestError"
        "404":
          $ref: "#/components/responses/NotFoundError"

  /ai/ads/generate:
    post:
      tags:
        - "AI Ad Studio (Veo 2.0)"
      summary: "Generate Video Ad"
      operationId: "generateVideoAd"
      security:
        - oAuth2Auth: [ai.ad_studio.write]
        - apiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/GenerateVideoRequest"
      responses:
        "202":
          description: "Generation initiated."
          content:
            application/json:
              schema:
                type: object
                properties:
                  operationId:
                    type: string
                  estimatedCompletionTimeSeconds:
                    type: integer
        "400":
          $ref: "#/components/responses/BadRequestError"

  /ai/ads/generate/advanced:
    post:
      tags:
        - "AI Ad Studio (Veo 2.0)"
      summary: "Generate Advanced Video Ad"
      operationId: "generateAdvancedVideoAd"
      security:
        - oAuth2Auth: [ai.ad_studio.write]
        - apiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AdvancedGenerateVideoRequest"
      responses:
        "202":
          description: "Advanced generation initiated."
          content:
            application/json:
              schema:
                type: object
                properties:
                  operationId:
                    type: string
                  estimatedCompletionTimeSeconds:
                    type: integer
        "400":
          $ref: "#/components/responses/BadRequestError"

  /ai/ads/operations/{operationId}:
    get:
      tags:
        - "AI Ad Studio (Veo 2.0)"
      summary: "Get Generation Status"
      operationId: "getVideoGenerationStatusAndAsset"
      security:
        - oAuth2Auth: [ai.ad_studio.read]
        - apiKeyAuth: []
      parameters:
        - name: "operationId"
          in: "path"
          required: true
          schema:
            type: string
      responses:
        "200":
          description: "Operation status."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/VideoOperationStatus"
        "404":
          $ref: "#/components/responses/NotFoundError"

  /ai/ads:
    get:
      tags:
        - "AI Ad Studio (Veo 2.0)"
      summary: "List Generated Ads"
      operationId: "listGeneratedVideoAds"
      security:
        - oAuth2Auth: [ai.ad_studio.read]
        - apiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/Limit"
        - $ref: "#/components/parameters/Cursor"
        - name: "status"
          in: "query"
          schema:
            type: string
            enum: [queued, generating, done, error]
      responses:
        "200":
          description: "Paginated ads."
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/PaginatedCursorList"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: "#/components/schemas/VideoOperationStatus"

  /corporate/cards:
    get:
      tags:
        - "Corporate Finance - Enterprise Cards"
      summary: "List Corporate Cards"
      operationId: "listCorporateCardsDetailed"
      security:
        - oAuth2Auth: [corporate.cards.read]
        - apiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/Limit"
        - $ref: "#/components/parameters/Cursor"
      responses:
        "200":
          description: "Paginated corporate cards."
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/PaginatedCursorList"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: "#/components/schemas/CorporateCard"

  /corporate/cards/{cardId}:
    patch:
      tags:
        - "Corporate Finance - Enterprise Cards"
      summary: "Update Corporate Card"
      description: "Update card controls or freeze/unfreeze status."
      operationId: "updateCorporateCard"
      security:
        - oAuth2Auth: [corporate.cards.write]
        - apiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/CardId"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CorporateCardUpdateRequest"
      responses:
        "200":
          description: "Card updated."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CorporateCard"
        "400":
          $ref: "#/components/responses/BadRequestError"
        "404":
          $ref: "#/components/responses/NotFoundError"

  /corporate/cards/virtual:
    post:
      tags:
        - "Corporate Finance - Enterprise Cards"
      summary: "Issue Virtual Card"
      operationId: "issueVirtualCorporateCard"
      security:
        - oAuth2Auth: [corporate.cards.write]
        - apiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/VirtualCardCreationRequest"
      responses:
        "201":
          description: "Virtual card issued."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CorporateCard"
        "400":
          $ref: "#/components/responses/BadRequestError"

  /corporate/cards/{cardId}/transactions:
    get:
      tags:
        - "Corporate Finance - Enterprise Cards"
        - "Transactions & Insights"
      summary: "List Card Transactions"
      operationId: "getCorporateCardTransactions"
      security:
        - oAuth2Auth: [corporate.cards.read, banking.transactions.read]
        - apiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/CardId"
        - $ref: "#/components/parameters/Limit"
        - $ref: "#/components/parameters/Cursor"
        - $ref: "#/components/parameters/StartDate"
        - $ref: "#/components/parameters/EndDate"
      responses:
        "200":
          description: "Paginated transactions."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PaginatedTransactions"

  /corporate/anomalies:
    get:
      tags:
        - "Corporate Finance - Compliance & Risk"
        - "Enterprise Risk & Fraud Prevention"
      summary: "List Financial Anomalies"
      operationId: "listFinancialAnomalies"
      security:
        - oAuth2Auth: [corporate.compliance.read]
        - apiKeyAuth: []
      parameters:
        - name: status
          in: query
          schema:
            type: string
            enum: [new, under_review, escalated, dismissed, resolved]
        - name: severity
          in: query
          schema:
            type: string
            enum: [low, medium, high, critical]
        - name: entityType
          in: query
          schema:
            type: string
            enum: [payment_order, transaction, counterparty, corporate_card, invoice]
        - $ref: "#/components/parameters/StartDate"
        - $ref: "#/components/parameters/EndDate"
        - $ref: "#/components/parameters/Limit"
        - $ref: "#/components/parameters/Cursor"
      responses:
        "200":
          description: "Paginated anomalies."
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/PaginatedCursorList"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: "#/components/schemas/FinancialAnomaly"

  /corporate/anomalies/{anomalyId}/status:
    put:
      tags:
        - "Corporate Finance - Compliance & Risk"
      summary: "Update Anomaly Status"
      operationId: "updateAnomalyStatus"
      security:
        - oAuth2Auth: [corporate.compliance.write]
        - apiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/AnomalyId"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - status
              properties:
                status:
                  type: string
                  enum: [dismissed, resolved, under_review, escalated]
                resolutionNotes:
                  type: ["string", "null"]
      responses:
        "200":
          description: "Anomaly updated."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/FinancialAnomaly"
        "400":
          $ref: "#/components/responses/BadRequestError"
        "404":
          $ref: "#/components/responses/NotFoundError"

  /corporate/compliance/audits:
    post:
      tags:
        - "Corporate Finance - Compliance & Risk"
      summary: "Request Compliance Audit"
      operationId: "requestComplianceAudit"
      security:
        - oAuth2Auth: [corporate.compliance.write]
        - apiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ComplianceAuditRequest"
      responses:
        "202":
          description: "Audit initiated."
          content:
            application/json:
              schema:
                type: object
                properties:
                  auditId:
                    type: string
                  status:
                    type: string
                    enum: [initiated, processing, completed, failed]
        "400":
          $ref: "#/components/responses/BadRequestError"

  /corporate/compliance/audits/{auditId}/report:
    get:
      tags:
        - "Corporate Finance - Compliance & Risk"
      summary: "Get Audit Report"
      operationId: "getComplianceAuditReport"
      security:
        - oAuth2Auth: [corporate.compliance.read]
        - apiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/AuditId"
      responses:
        "200":
          description: "Audit report."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ComplianceAuditReport"
        "404":
          $ref: "#/components/responses/NotFoundError"

  /corporate/sanction-screening:
    post:
      tags:
        - "Corporate Finance - Compliance & Risk"
      summary: "Sanction Screening"
      operationId: "performSanctionScreening"
      security:
        - oAuth2Auth: [corporate.compliance.read]
        - apiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SanctionScreeningRequest"
      responses:
        "200":
          description: "Screening results."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SanctionScreeningResponse"
        "400":
          $ref: "#/components/responses/BadRequestError"

  /web3/wallets:
    get:
      tags:
        - "Decentralized Finance (DeFi) & Web3 Assets"
      summary: "List Crypto Wallets"
      operationId: "listCryptoWallets"
      security:
        - oAuth2Auth: [web3.read]
        - apiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/Limit"
        - $ref: "#/components/parameters/Cursor"
      responses:
        "200":
          description: "Paginated wallets."
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/PaginatedCursorList"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: "#/components/schemas/CryptoWalletConnection"
    post:
      tags:
        - "Decentralized Finance (DeFi) & Web3 Assets"
      summary: "Connect Crypto Wallet"
      operationId: "connectCryptoWallet"
      security:
        - oAuth2Auth: [web3.write]
        - apiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ConnectWalletRequest"
      responses:
        "201":
          description: "Wallet connected."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CryptoWalletConnection"
        "400":
          $ref: "#/components/responses/BadRequestError"
        "409":
          $ref: "#/components/responses/ConflictError"

  /web3/wallets/{walletId}/balances:
    get:
      tags:
        - "Decentralized Finance (DeFi) & Web3 Assets"
      summary: "Get Wallet Balances"
      operationId: "getCryptoWalletBalances"
      security:
        - oAuth2Auth: [web3.read]
        - apiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/WalletId"
        - $ref: "#/components/parameters/Limit"
        - $ref: "#/components/parameters/Cursor"
      responses:
        "200":
          description: "Paginated balances."
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/PaginatedCursorList"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: "#/components/schemas/CryptoAssetBalance"
        "404":
          $ref: "#/components/responses/NotFoundError"

  /web3/nfts:
    get:
      tags:
        - "Decentralized Finance (DeFi) & Web3 Assets"
      summary: "List NFTs"
      operationId: "getUserNFTCollection"
      security:
        - oAuth2Auth: [web3.read]
        - apiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/Limit"
        - $ref: "#/components/parameters/Cursor"
      responses:
        "200":
          description: "Paginated NFTs."
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/PaginatedCursorList"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: "#/components/schemas/NFTAsset"

  /web3/transactions/initiate:
    post:
      tags:
        - "Decentralized Finance (DeFi) & Web3 Assets"
      summary: "Initiate Crypto Transfer"
      operationId: "initiateCryptoTransfer"
      security:
        - oAuth2Auth: [web3.write]
        - apiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CryptoTransferRequest"
      responses:
        "202":
          description: "Transfer initiated."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CryptoTransferStatus"
        "400":
          $ref: "#/components/responses/BadRequestError"

  /payments/international/initiate:
    post:
      tags:
        - "Global Payments & FX"
      summary: "Initiate International Payment"
      operationId: "initiateInternationalPayment"
      security:
        - oAuth2Auth: [banking.payments.write, corporate.payments.write]
        - apiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/InternationalPaymentRequest"
      responses:
        "202":
          description: "Payment initiated."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/InternationalPaymentStatus"
        "400":
          $ref: "#/components/responses/BadRequestError"

  /payments/fx/rates:
    get:
      tags:
        - "Global Payments & FX"
      summary: "Get FX Rates"
      operationId: "getFxRates"
      security:
        - oAuth2Auth: [fx.rates.read, analytics.read]
        - apiKeyAuth: []
      parameters:
        - name: "baseCurrency"
          in: "query"
          required: true
          schema:
            type: string
            pattern: '^[A-Z]{3}$'
        - name: "targetCurrency"
          in: "query"
          required: true
          schema:
            type: string
            pattern: '^[A-Z]{3}$'
        - name: "forecastDays"
          in: "query"
          schema:
            type: integer
            minimum: 1
            maximum: 30
            default: 7
      responses:
        "200":
          description: "FX rates."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/FxRateResponse"
        "400":
          $ref: "#/components/responses/BadRequestError"

  /payments/international/{paymentId}/status:
    get:
      tags:
        - "Global Payments & FX"
      summary: "Get Payment Status"
      operationId: "getInternationalPaymentStatus"
      security:
        - oAuth2Auth: [banking.payments.write, corporate.payments.read]
        - apiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/PaymentId"
      responses:
        "200":
          description: "Payment status."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/InternationalPaymentStatus"
        "404":
          $ref: "#/components/responses/NotFoundError"

  /payments/fx/convert:
    post:
      tags:
        - "Global Payments & FX"
      summary: "Convert Currency"
      operationId: "initiateCurrencyConversion"
      security:
        - oAuth2Auth: [banking.payments.write]
        - apiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CurrencyConversionRequest"
      responses:
        "200":
          description: "Conversion successful."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CurrencyConversionResponse"
        "400":
          $ref: "#/components/responses/BadRequestError"

  /sustainability/carbon-footprint:
    get:
      tags:
        - "Sustainability & ESG Impact"
      summary: "Get Carbon Footprint"
      operationId: "getPersonalCarbonFootprint"
      security:
        - oAuth2Auth: [user.profile.read, banking.transactions.read, sustainability.read]
        - apiKeyAuth: []
      responses:
        "200":
          description: "Carbon footprint report."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CarbonFootprintReport"

  /sustainability/investments/impact:
    get:
      tags:
        - "Sustainability & ESG Impact"
      summary: "Get Investment ESG Impact"
      operationId: "getInvestmentESGImpact"
      security:
        - oAuth2Auth: [banking.accounts.read, investments.read, sustainability.read]
        - apiKeyAuth: []
      responses:
        "200":
          description: "ESG impact report."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/InvestmentESGImpact"

  /sustainability/carbon-offsets:
    post:
      tags:
        - "Sustainability & ESG Impact"
      summary: "Purchase Carbon Offsets"
      operationId: "purchaseCarbonOffsets"
      security:
        - oAuth2Auth: [sustainability.write, banking.payments.write]
        - apiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CarbonOffsetPurchaseRequest"
      responses:
        "200":
          description: "Offsets purchased."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CarbonOffsetPurchaseResponse"
        "400":
          $ref: "#/components/responses/BadRequestError"

  /lending/applications:
    post:
      tags:
        - "AI-Powered Lending & Credit Solutions"
      summary: "Submit Loan Application"
      operationId: "submitLoanApplication"
      security:
        - oAuth2Auth: [lending.write, user.profile.read, banking.accounts.read]
        - apiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/LoanApplicationRequest"
      responses:
        "202":
          description: "Application submitted."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/LoanApplicationStatus"
        "400":
          $ref: "#/components/responses/BadRequestError"
        "409":
          $ref: "#/components/responses/ConflictError"

  /lending/applications/{applicationId}:
    get:
      tags:
        - "AI-Powered Lending & Credit Solutions"
      summary: "Get Application Status"
      operationId: "getLoanApplicationDetails"
      security:
        - oAuth2Auth: [lending.read]
        - apiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/ApplicationId"
      responses:
        "200":
          description: "Application details."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/LoanApplicationStatus"
        "404":
          $ref: "#/components/responses/NotFoundError"

  /lending/offers/pre-approved:
    get:
      tags:
        - "AI-Powered Lending & Credit Solutions"
      summary: "Get Pre-Approved Offers"
      operationId: "getPreApprovedLoanOffers"
      security:
        - oAuth2Auth: [lending.read]
        - apiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/Limit"
        - $ref: "#/components/parameters/Cursor"
      responses:
        "200":
          description: "Paginated offers."
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/PaginatedCursorList"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: "#/components/schemas/LoanOffer"

  /developers/webhooks:
    get:
      tags:
        - "Developer Tools & API Management"
      summary: "List Webhooks"
      operationId: "listWebhookSubscriptions"
      security:
        - oAuth2Auth: [developer.tools.read]
        - apiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/Limit"
        - $ref: "#/components/parameters/Cursor"
      responses:
        "200":
          description: "Paginated webhooks."
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/PaginatedCursorList"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: "#/components/schemas/WebhookSubscription"
    post:
      tags:
        - "Developer Tools & API Management"
      summary: "Create Webhook"
      operationId: "createWebhookSubscription"
      security:
        - oAuth2Auth: [developer.tools.write]
        - apiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/WebhookSubscriptionCreationRequest"
      responses:
        "201":
          description: "Webhook created."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/WebhookSubscription"
        "400":
          $ref: "#/components/responses/BadRequestError"

  /developers/webhooks/{subscriptionId}:
    put:
      tags:
        - "Developer Tools & API Management"
      summary: "Update Webhook"
      operationId: "updateWebhookSubscription"
      security:
        - oAuth2Auth: [developer.tools.write]
        - apiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/SubscriptionId"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/WebhookSubscriptionUpdateRequest"
      responses:
        "200":
          description: "Webhook updated."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/WebhookSubscription"
        "400":
          $ref: "#/components/responses/BadRequestError"
        "404":
          $ref: "#/components/responses/NotFoundError"
    delete:
      tags:
        - "Developer Tools & API Management"
      summary: "Delete Webhook"
      operationId: "deleteWebhookSubscription"
      security:
        - oAuth2Auth: [developer.tools.write]
        - apiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/SubscriptionId"
      responses:
        "204":
          description: "Webhook deleted."
        "404":
          $ref: "#/components/responses/NotFoundError"

  /developers/api-keys:
    get:
      tags:
        - "Developer Tools & API Management"
      summary: "List API Keys"
      operationId: "listApiKeys"
      security:
        - oAuth2Auth: [developer.tools.read]
        - apiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/Limit"
        - $ref: "#/components/parameters/Cursor"
      responses:
        "200":
          description: "Paginated API keys."
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/PaginatedCursorList"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: "#/components/schemas/ApiKey"
    post:
      tags:
        - "Developer Tools & API Management"
      summary: "Create API Key"
      operationId: "createApiKey"
      security:
        - oAuth2Auth: [developer.tools.write]
        - apiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ApiKeyCreationRequest"
      responses:
        "201":
          description: "API key created."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiKey"
        "400":
          $ref: "#/components/responses/BadRequestError"

  /developers/api-keys/{keyId}:
    delete:
      tags:
        - "Developer Tools & API Management"
      summary: "Revoke API Key"
      operationId: "revokeApiKey"
      security:
        - oAuth2Auth: [developer.tools.write]
        - apiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/ApiKeyId"
      responses:
        "204":
          description: "API key revoked."
        "404":
          $ref: "#/components/responses/NotFoundError"

  /identity/kyc/submit:
    post:
      tags:
        - "Digital Identity & Verifiable Credentials"
      summary: "Submit KYC Documents"
      operationId: "submitKYCDocuments"
      security:
        - oAuth2Auth: [identity.write]
        - apiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/KYCDocumentSubmission"
      responses:
        "202":
          description: "KYC submitted."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/KYCStatus"
        "400":
          $ref: "#/components/responses/BadRequestError"
        "409":
          $ref: "#/components/responses/ConflictError"

  /identity/kyc/status:
    get:
      tags:
        - "Digital Identity & Verifiable Credentials"
      summary: "Get KYC Status"
      operationId: "getKYCStatus"
      security:
        - oAuth2Auth: [identity.read]
        - apiKeyAuth: []
      responses:
        "200":
          description: "KYC status."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/KYCStatus"

  /corporate/treasury/forecasts/cash-flow:
    get:
      tags:
        - "Treasury & Liquidity Management"
      summary: "Get Cash Flow Forecast"
      operationId: "getCorporateCashFlowForecast"
      security:
        - oAuth2Auth: [corporate.treasury.read, corporate.payments.read, corporate.compliance.read, analytics.read]
        - apiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/ForecastHorizonDays"
        - $ref: "#/components/parameters/IncludeScenarioAnalysis"
      responses:
        "200":
          description: "Cash flow forecast."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CashFlowForecast"

  /corporate/treasury/liquidity-positions:
    get:
      tags:
        - "Treasury & Liquidity Management"
      summary: "Get Liquidity Positions"
      operationId: "getCorporateLiquidityPositions"
      security:
        - oAuth2Auth: [corporate.treasury.read]
        - apiKeyAuth: []
      responses:
        "200":
          description: "Liquidity positions."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/LiquidityPositions"

  /corporate/risk/fraud/rules:
    get:
      tags:
        - "Enterprise Risk & Fraud Prevention"
      summary: "List Fraud Rules"
      operationId: "listFraudDetectionRules"
      security:
        - oAuth2Auth: [corporate.compliance.read, corporate.treasury.read]
        - apiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/Limit"
        - $ref: "#/components/parameters/Cursor"
      responses:
        "200":
          description: "Paginated fraud rules."
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/PaginatedCursorList"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: "#/components/schemas/FraudRule"
    post:
      tags:
        - "Enterprise Risk & Fraud Prevention"
      summary: "Create Fraud Rule"
      operationId: "createFraudDetectionRule"
      security:
        - oAuth2Auth: [corporate.compliance.write, corporate.treasury.write]
        - apiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/FraudRuleCreationRequest"
      responses:
        "201":
          description: "Fraud rule created."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/FraudRule"
        "400":
          $ref: "#/components/responses/BadRequestError"
        "409":
          $ref: "#/components/responses/ConflictError"

  /corporate/risk/fraud/rules/{ruleId}:
    put:
      tags:
        - "Enterprise Risk & Fraud Prevention"
      summary: "Update Fraud Rule"
      operationId: "updateFraudDetectionRule"
      security:
        - oAuth2Auth: [corporate.compliance.write, corporate.treasury.write]
        - apiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/RuleId"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/FraudRuleUpdateRequest"
      responses:
        "200":
          description: "Fraud rule updated."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/FraudRule"
        "400":
          $ref: "#/components/responses/BadRequestError"
        "404":
          $ref: "#/components/responses/NotFoundError"
    delete:
      tags:
        - "Enterprise Risk & Fraud Prevention"
      summary: "Delete Fraud Rule"
      operationId: "deleteFraudDetectionRule"
      security:
        - oAuth2Auth: [corporate.compliance.write, corporate.treasury.write]
        - apiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/RuleId"
      responses:
        "204":
          description: "Fraud rule deleted."
        "404":
          $ref: "#/components/responses/NotFoundError"

  /goals:
    get:
      tags:
        - "Financial Goals & Strategic Planning"
      summary: "List Goals"
      operationId: "listFinancialGoals"
      security:
        - oAuth2Auth: [user.profile.read]
        - apiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/Limit"
        - $ref: "#/components/parameters/Cursor"
      responses:
        "200":
          description: "Paginated goals."
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/PaginatedCursorList"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: "#/components/schemas/FinancialGoal"
    post:
      tags:
        - "Financial Goals & Strategic Planning"
      summary: "Create Goal"
      operationId: "createFinancialGoal"
      security:
        - oAuth2Auth: [user.profile.write]
        - apiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/GoalCreationRequest"
      responses:
        "201":
          description: "Goal created."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/FinancialGoal"
        "400":
          $ref: "#/components/responses/BadRequestError"

  /goals/{goalId}:
    get:
      tags:
        - "Financial Goals & Strategic Planning"
      summary: "Get Goal Details"
      operationId: "getFinancialGoalDetails"
      security:
        - oAuth2Auth: [user.profile.read]
        - apiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/GoalId"
      responses:
        "200":
          description: "Goal details."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/FinancialGoal"
        "404":
          $ref: "#/components/responses/NotFoundError"
    patch:
      tags:
        - "Financial Goals & Strategic Planning"
      summary: "Update Goal"
      operationId: "updateFinancialGoal"
      security:
        - oAuth2Auth: [user.profile.write]
        - apiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/GoalId"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/GoalUpdateRequest"
      responses:
        "200":
          description: "Goal updated."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/FinancialGoal"
        "400":
          $ref: "#/components/responses/BadRequestError"
        "404":
          $ref: "#/components/responses/NotFoundError"
    delete:
      tags:
        - "Financial Goals & Strategic Planning"
      summary: "Delete Goal"
      operationId: "deleteFinancialGoal"
      security:
        - oAuth2Auth: [user.profile.write]
        - apiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/GoalId"
      responses:
        "204":
          description: "Goal deleted."
        "404":
          $ref: "#/components/responses/NotFoundError"

  /notifications/me:
    get:
      tags:
        - "Notifications & Proactive Alerts"
      summary: "List Notifications"
      operationId: "listUserNotifications"
      security:
        - oAuth2Auth: [user.profile.read]
        - apiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/Limit"
        - $ref: "#/components/parameters/Cursor"
        - name: "status"
          in: "query"
          schema:
            type: string
            enum: [read, unread]
        - name: "severity"
          in: "query"
          schema:
            type: string
            enum: [low, medium, high, critical]
      responses:
        "200":
          description: "Paginated notifications."
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/PaginatedCursorList"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: "#/components/schemas/Notification"
        "401":
          $ref: "#/components/responses/UnauthorizedError"

  /notifications/{notificationId}:
    patch:
      tags:
        - "Notifications & Proactive Alerts"
      summary: "Update Notification (Mark Read)"
      operationId: "updateNotification"
      security:
        - oAuth2Auth: [user.profile.write]
        - apiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/NotificationId"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                read:
                  type: boolean
      responses:
        "200":
          description: "Notification updated."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Notification"
        "404":
          $ref: "#/components/responses/NotFoundError"

  /notifications/settings:
    get:
      tags:
        - "Notifications & Proactive Alerts"
      summary: "Get Notification Settings"
      operationId: "getNotificationSettings"
      security:
        - oAuth2Auth: [user.profile.read]
        - apiKeyAuth: []
      responses:
        "200":
          description: "Notification settings."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/NotificationSettings"
    put:
      tags:
        - "Notifications & Proactive Alerts"
      summary: "Update Notification Settings"
      operationId: "updateNotificationSettings"
      security:
        - oAuth2Auth: [user.profile.write]
        - apiKeyAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/NotificationSettingsUpdateRequest"
      responses:
        "200":
          description: "Settings updated."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/NotificationSettings"
        "400":
          $ref: "#/components/responses/BadRequestError"

  /marketplace/products:
    get:
      tags:
        - "Marketplace (Plato AI)"
      summary: "List Marketplace Products"
      operationId: "listMarketplaceProducts"
      security:
        - oAuth2Auth: [user.profile.read, marketplace.read, analytics.read]
        - apiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/Limit"
        - $ref: "#/components/parameters/Cursor"
        - name: "category"
          in: "query"
          schema:
            type: string
            enum: [loans, insurance, credit_cards, investments, budgeting_tools, smart_home, travel, education]
        - name: "minRating"
          in: "query"
          schema:
            type: number
            format: float
        - name: "aiPersonalizationLevel"
          in: "query"
          schema:
            type: string
            enum: [low, medium, high]
      responses:
        "200":
          description: "Paginated products."
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/PaginatedCursorList"
                  - type: object
                    properties:
                      data:
                        type: array
                        items:
                          $ref: "#/components/schemas/MarketplaceProduct"

  /marketplace/products/{productId}/impact-simulate:
    post:
      tags:
        - "Marketplace (Plato AI)"
      summary: "Simulate Product Impact"
      operationId: "simulateMarketplaceProductImpact"
      security:
        - oAuth2Auth: [marketplace.read, ai.oracle.interact, user.profile.read]
        - apiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/ProductId"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                simulationParameters:
                  type: object
      responses:
        "200":
          description: "Impact simulation."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ProductImpactSimulation"
        "400":
          $ref: "#/components/responses/BadRequestError"

  /marketplace/offers/{offerId}/redeem:
    post:
      tags:
        - "Marketplace (Plato AI)"
      summary: "Redeem Offer"
      operationId: "redeemMarketplaceOffer"
      security:
        - oAuth2Auth: [marketplace.write, banking.payments.write]
        - apiKeyAuth: []
      parameters:
        - name: "offerId"
          in: "path"
          required: true
          schema:
            type: string
      requestBody:
        content:
          application/json:
            schema:
              type: object
              properties:
                paymentAccountId:
                  type: string
      responses:
        "200":
          description: "Offer redeemed."
          content:
            application/json:
              schema:
                type: object
                properties:
                  redemptionId:
                    type: string
                  status:
                    type: string
                    enum: [success, pending, failed]
        "400":
          $ref: "#/components/responses/BadRequestError"
        "409":
          $ref: "#/components/responses/ConflictError"

components:
  securitySchemes:
    oAuth2Auth:
      type: oauth2
      description: OAuth 2.0 authentication
      flows:
        authorizationCode:
          authorizationUrl: https://auth.demobank.com/oauth/authorize
          tokenUrl: https://auth.demobank.com/oauth/token
          scopes:
            user.profile.read: Read user profile
            user.profile.write: Update user profile
            banking.accounts.read: Read accounts
            banking.accounts.write: Update accounts
            banking.transactions.read: Read transactions
            banking.transactions.write: Update transactions
            banking.payments.write: Initiate payments
            ai.advisor.interact: Interact with AI Advisor
            ai.oracle.interact: Interact with Quantum Oracle
            business.weaver.read: Read business pitches
            business.weaver.write: Submit business pitches
            ai.ad_studio.read: Read generated ads
            ai.ad_studio.write: Generate ads
            corporate.cards.read: Read corporate cards
            corporate.cards.write: Manage corporate cards
            corporate.payments.read: Read corporate payments
            corporate.payments.write: Initiate corporate payments
            corporate.compliance.read: Read compliance data
            corporate.compliance.write: Manage compliance
            user.rewards.read: Read rewards
            user.rewards.write: Manage rewards
            analytics.read: Read analytics
            analytics.write: Manage analytics
            web3.read: Read Web3 data
            web3.write: Manage Web3 assets
            sustainability.read: Read sustainability data
            sustainability.write: Manage sustainability
            lending.read: Read lending data
            lending.write: Manage lending
            developer.tools.read: Read developer tools
            developer.tools.write: Manage developer tools
            identity.read: Read identity data
            identity.write: Manage identity
            corporate.treasury.read: Read treasury data
            corporate.treasury.write: Manage treasury
            fx.rates.read: Read FX rates
            investments.read: Read investments
            investments.write: Manage investments
            user.personalization.read: Read personalization
            user.personalization.write: Manage personalization
    apiKeyAuth:
      type: apiKey
      in: header
      name: X-API-Key

  parameters:
    Limit:
      name: limit
      in: query
      description: "Maximum number of items to return."
      required: false
      schema:
        type: integer
        minimum: 1
        maximum: 100
        default: 10
    Cursor:
      name: after
      in: query
      description: "Cursor for the next page of results."
      required: false
      schema:
        type: string
    AccountId:
      name: accountId
      in: path
      required: true
      schema:
        type: string
    TransactionId:
      name: transactionId
      in: path
      required: true
      schema:
        type: string
    BudgetId:
      name: budgetId
      in: path
      required: true
      schema:
        type: string
    PortfolioId:
      name: portfolioId
      in: path
      required: true
      schema:
        type: string
    DeviceId:
      name: deviceId
      in: path
      required: true
      schema:
        type: string
    SimulationId:
      name: simulationId
      in: path
      required: true
      schema:
        type: string
    PitchId:
      name: pitchId
      in: path
      required: true
      schema:
        type: string
    CardId:
      name: cardId
      in: path
      required: true
      schema:
        type: string
    AnomalyId:
      name: anomalyId
      in: path
      required: true
      schema:
        type: string
    AuditId:
      name: auditId
      in: path
      required: true
      schema:
        type: string
    WalletId:
      name: walletId
      in: path
      required: true
      schema:
        type: string
    PaymentId:
      name: paymentId
      in: path
      required: true
      schema:
        type: string
    ForecastHorizonDays:
      name: forecastHorizonDays
      in: query
      required: false
      schema:
        type: integer
        minimum: 7
        maximum: 365
        default: 90
    IncludeScenarioAnalysis:
      name: includeScenarioAnalysis
      in: query
      required: false
      schema:
        type: boolean
        default: false
    RuleId:
      name: ruleId
      in: path
      required: true
      schema:
        type: string
    GoalId:
      name: goalId
      in: path
      required: true
      schema:
        type: string
    NotificationId:
      name: notificationId
      in: path
      required: true
      schema:
        type: string
    ProductId:
      name: productId
      in: path
      required: true
      schema:
        type: string
    ApplicationId:
      name: applicationId
      in: path
      required: true
      schema:
        type: string
    SubscriptionId:
      name: subscriptionId
      in: path
      required: true
      schema:
        type: string
    ApiKeyId:
      name: keyId
      in: path
      required: true
      schema:
        type: string
    StartDate:
      name: startDate
      in: query
      schema:
        type: string
        format: date
    EndDate:
      name: endDate
      in: query
      schema:
        type: string
        format: date

  responses:
    BadRequestError:
      description: "Invalid request."
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/Error"
    UnauthorizedError:
      description: "Authentication failed."
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/Error"
    ForbiddenError:
      description: "Permission denied."
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/Error"
    NotFoundError:
      description: "Resource not found."
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/Error"
    ConflictError:
      description: "Resource conflict."
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/Error"
    TooManyRequestsError:
      description: "Rate limit exceeded."
      content:
        application/json:
          schema:
            $ref: "#/components/schemas/Error"

  schemas:
    PaginatedCursorList:
      type: object
      required:
        - hasNextPage
      properties:
        hasNextPage:
          type: boolean
        endCursor:
          type: ["string", "null"]

    Error:
      type: object
      required:
        - code
        - message
        - timestamp
      properties:
        code:
          type: string
        message:
          type: string
        details:
          type: ["object", "null"]
        timestamp:
          type: string
          format: date-time

    Address:
      type: object
      properties:
        street:
          type: string
        city:
          type: string
        state:
          type: string
        zip:
          type: string
        country:
          type: string

    UserPreferences:
      type: object
      properties:
        preferredLanguage:
          type: string
        theme:
          type: string
        aiInteractionMode:
          type: string
          enum: [proactive, balanced, on_demand]
        notificationChannels:
          type: object
          properties:
            email:
              type: boolean
            push:
              type: boolean
            sms:
              type: boolean
            inApp:
              type: boolean
        dataSharingConsent:
          type: boolean
        transactionGrouping:
          type: string
          enum: [category, merchant, date, account]

    SecurityStatus:
      type: object
      properties:
        twoFactorEnabled:
          type: boolean
        biometricsEnrolled:
          type: boolean
        lastLogin:
          type: string
          format: date-time
        lastLoginIp:
          type: string
          format: ipv4

    User:
      type: object
      required:
        - id
        - name
        - email
        - identityVerified
      properties:
        id:
          type: string
        name:
          type: string
        email:
          type: string
          format: email
        phone:
          type: ["string", "null"]
        dateOfBirth:
          type: ["string", "null"]
          format: date
        address:
          $ref: "#/components/schemas/Address"
        loyaltyTier:
          type: string
        loyaltyPoints:
          type: integer
        gamificationLevel:
          type: integer
        aiPersona:
          type: string
        securityStatus:
          $ref: "#/components/schemas/SecurityStatus"
        preferences:
          $ref: "#/components/schemas/UserPreferences"
        identityVerified:
          type: boolean

    UserRegistrationRequest:
      type: object
      required:
        - name
        - email
        - password
      properties:
        name:
          type: string
        email:
          type: string
          format: email
        password:
          type: string
          format: password
        phone:
          type: ["string", "null"]
        dateOfBirth:
          type: ["string", "null"]
          format: date
        address:
          $ref: "#/components/schemas/Address"

    UserLoginRequest:
      type: object
      required:
        - email
        - password
      properties:
        email:
          type: string
          format: email
        password:
          type: string
          format: password
        mfaCode:
          type: ["string", "null"]

    LoginResponse:
      type: object
      required:
        - accessToken
        - refreshToken
        - expiresIn
        - tokenType
      properties:
        accessToken:
          type: string
        refreshToken:
          type: string
        expiresIn:
          type: integer
        tokenType:
          type: string

    UserUpdateProfileRequest:
      type: object
      properties:
        name:
          type: string
        phone:
          type: ["string", "null"]
        address:
          $ref: "#/components/schemas/Address"
        preferences:
          $ref: "#/components/schemas/UserPreferences"

    Device:
      type: object
      required:
        - id
        - type
        - os
        - model
        - lastActive
        - ipAddress
        - trustLevel
      properties:
        id:
          type: string
        type:
          type: string
          enum: [mobile, desktop, tablet, smart_watch]
        os:
          type: string
        model:
          type: string
        deviceName:
          type: ["string", "null"]
        lastActive:
          type: string
          format: date-time
        ipAddress:
          type: string
          format: ipv4
        trustLevel:
          type: string
          enum: [trusted, pending_verification, untrusted, blocked]
        pushToken:
          type: ["string", "null"]

    RegisterDeviceRequest:
      type: object
      required:
        - deviceType
        - os
        - model
      properties:
        deviceType:
          type: string
          enum: [mobile, desktop, tablet, smart_watch]
        os:
          type: string
        model:
          type: string
        biometricSignature:
          type: ["string", "null"]
        deviceName:
          type: ["string", "null"]
        pushToken:
          type: ["string", "null"]

    BiometricEnrollmentRequest:
      type: object
      required:
        - biometricType
        - biometricSignature
        - deviceId
      properties:
        biometricType:
          type: string
          enum: [fingerprint, facial_recognition, voice_recognition]
        biometricSignature:
          type: string
        deviceId:
          type: string
        deviceName:
          type: ["string", "null"]

    BiometricVerificationRequest:
      type: object
      required:
        - biometricType
        - biometricSignature
        - deviceId
      properties:
        biometricType:
          type: string
          enum: [fingerprint, facial_recognition, voice_recognition]
        biometricSignature:
          type: string
        deviceId:
          type: string

    BiometricStatus:
      type: object
      required:
        - biometricsEnrolled
        - enrolledBiometrics
      properties:
        biometricsEnrolled:
          type: boolean
        enrolledBiometrics:
          type: array
          items:
            type: object
            properties:
              type:
                type: string
                enum: [fingerprint, facial_recognition, voice_recognition]
              deviceId:
                type: string
              enrollmentDate:
                type: string
                format: date-time
        lastUsed:
          type: ["string", "null"]
          format: date-time

    LinkedAccount:
      type: object
      required:
        - id
        - name
        - institutionName
        - type
        - currency
        - currentBalance
        - lastUpdated
      properties:
        id:
          type: string
        externalId:
          type: ["string", "null"]
        name:
          type: string
        institutionName:
          type: string
        mask:
          type: ["string", "null"]
        type:
          type: string
          enum: [depository, credit, loan, investment, other]
        subtype:
          type: ["string", "null"]
        currency:
          type: string
          pattern: '^[A-Z]{3}$'
        currentBalance:
          type: number
          format: float
        availableBalance:
          type: ["number", "null"]
          format: float
        lastUpdated:
          type: string
          format: date-time

    AccountDetail:
      allOf:
        - $ref: "#/components/schemas/LinkedAccount"
        - type: object
          properties:
            accountHolder:
              type: string
            interestRate:
              type: ["number", "null"]
              format: float
            openedDate:
              type: ["string", "null"]
              format: date
            transactionsCount:
              type: integer
            projectedCashFlow:
              type: object
              properties:
                days30:
                  type: number
                  format: float
                days90:
                  type: number
                  format: float
                confidenceScore:
                  type: integer
            balanceHistory:
              type: array
              items:
                type: object
                properties:
                  date:
                    type: string
                    format: date
                  balance:
                    type: number
                    format: float

    MerchantDetails:
      type: object
      properties:
        name:
          type: string
        logoUrl:
          type: ["string", "null"]
          format: uri
        website:
          type: ["string", "null"]
          format: uri
        address:
          $ref: "#/components/schemas/Address"
        phone:
          type: ["string", "null"]

    TransactionLocation:
      type: object
      properties:
        latitude:
          type: number
          format: float
        longitude:
          type: number
          format: float
        city:
          type: ["string", "null"]
        state:
          type: ["string", "null"]
        zip:
          type: ["string", "null"]

    Transaction:
      type: object
      required:
        - id
        - accountId
        - type
        - category
        - description
        - amount
        - currency
        - date
      properties:
        id:
          type: string
        accountId:
          type: string
        type:
          type: string
          enum: [income, expense, transfer, investment, refund, bill_payment]
        category:
          type: string
        aiCategoryConfidence:
          type: ["number", "null"]
          format: float
        description:
          type: string
        merchantDetails:
          $ref: "#/components/schemas/MerchantDetails"
        amount:
          type: number
          format: float
        currency:
          type: string
          pattern: '^[A-Z]{3}$'
        date:
          type: string
          format: date
        postedDate:
          type: ["string", "null"]
          format: date
        carbonFootprint:
          type: ["number", "null"]
          format: float
        location:
          $ref: "#/components/schemas/TransactionLocation"
        paymentChannel:
          type: ["string", "null"]
          enum: [in_store, online, mobile, atm, bill_payment, transfer, other]
        tags:
          type: ["array", "null"]
          items:
            type: string
        receiptUrl:
          type: ["string", "null"]
          format: uri
        disputeStatus:
          type: string
          enum: [none, pending, under_review, resolved, rejected]
        notes:
          type: ["string", "null"]

    PaginatedTransactions:
      allOf:
        - $ref: "#/components/schemas/PaginatedCursorList"
        - type: object
          properties:
            data:
              type: array
              items:
                $ref: "#/components/schemas/Transaction"

    TransactionUpdateRequest:
      type: object
      properties:
        category:
          type: string
        notes:
          type: ["string", "null"]
        applyToFuture:
          type: boolean
          default: false

    DisputeRequest:
      type: object
      required:
        - reason
        - details
      properties:
        reason:
          type: string
          enum: [unauthorized, duplicate_charge, incorrect_amount, product_service_issue, other]
        details:
          type: string
        supportingDocuments:
          type: ["array", "null"]
          items:
            type: string
            format: uri

    DisputeStatus:
      type: object
      required:
        - disputeId
        - status
        - nextSteps
        - lastUpdated
      properties:
        disputeId:
          type: string
        status:
          type: string
          enum: [pending, under_review, requires_more_info, resolved, rejected]
        nextSteps:
          type: string
        lastUpdated:
          type: string
          format: date-time

    RecurringTransaction:
      type: object
      required:
        - id
        - description
        - category
        - amount
        - currency
        - frequency
        - status
      properties:
        id:
          type: string
        description:
          type: string
        category:
          type: string
        amount:
          type: number
          format: float
        currency:
          type: string
          pattern: '^[A-Z]{3}$'
        frequency:
          type: string
          enum: [daily, weekly, bi_weekly, monthly, quarterly, semi_annually, annually]
        nextDueDate:
          type: ["string", "null"]
          format: date
        lastPaidDate:
          type: ["string", "null"]
          format: date
        status:
          type: string
          enum: [active, inactive, cancelled, paused]
          linkedAccountId:
            type: ["string", "null"]
        aiConfidenceScore:
          type: ["number", "null"]
          format: float

    RecurringTransactionCreationRequest:
      type: object
      required:
        - description
        - category
        - amount
        - currency
        - frequency
        - startDate
        - linkedAccountId
      properties:
        description:
          type: string
        category:
          type: string
        amount:
          type: number
          format: float
        currency:
          type: string
          pattern: '^[A-Z]{3}$'
        frequency:
          type: string
          enum: [daily, weekly, bi_weekly, monthly, quarterly, semi_annually, annually]
        startDate:
          type: string
          format: date
        linkedAccountId:
          type: string

    AIInsight:
      type: object
      required:
        - id
        - title
        - description
        - category
        - severity
        - timestamp
      properties:
        id:
          type: string
        title:
          type: string
        description:
          type: string
        category:
          type: string
          enum: [spending, saving, investing, budgeting, security, financial_goals, sustainability, corporate_treasury, compliance, other]
        severity:
          type: string
          enum: [low, medium, high, critical]
        actionableRecommendation:
          type: ["string", "null"]
        actionTrigger:
          type: ["string", "null"]
        timestamp:
          type: string
          format: date-time

    SpendingTrends:
      type: object
      required:
        - period
        - overallTrend
        - percentageChange
        - topCategoriesByChange
        - aiInsights
        - forecastNextMonth
      properties:
        period:
          type: string
        overallTrend:
          type: string
          enum: [increasing, decreasing, stable]
        percentageChange:
          type: number
          format: float
        topCategoriesByChange:
          type: array
          items:
            type: object
            properties:
              category:
                type: string
              percentageChange:
                type: number
                format: float
              absoluteChange:
                type: number
                format: float
        aiInsights:
          type: array
          items:
            $ref: "#/components/schemas/AIInsight"
        forecastNextMonth:
          type: number
          format: float

    BudgetCategory:
      type: object
      required:
        - name
        - allocated
        - spent
        - remaining
      properties:
        name:
          type: string
        allocated:
          type: number
          format: float
        spent:
          type: number
          format: float
        remaining:
          type: number
          format: float

    Budget:
      type: object
      required:
        - id
        - name
        - period
        - startDate
        - endDate
        - totalAmount
        - spentAmount
        - remainingAmount
        - categories
        - status
        - alertThreshold
      properties:
        id:
          type: string
        name:
          type: string
        period:
          type: string
          enum: [weekly, bi_weekly, monthly, quarterly, annually, custom]
        startDate:
          type: string
          format: date
        endDate:
          type: string
          format: date
        totalAmount:
          type: number
          format: float
        spentAmount:
          type: number
          format: float
        remainingAmount:
          type: number
          format: float
        categories:
          type: array
          items:
            $ref: "#/components/schemas/BudgetCategory"
        status:
          type: string
          enum: [active, archived, ended]
        alertThreshold:
          type: integer
        aiRecommendations:
          type: ["array", "null"]
          items:
            $ref: "#/components/schemas/AIInsight"

    BudgetCreationRequest:
      type: object
      required:
        - name
        - period
        - startDate
        - endDate
        - totalAmount
      properties:
        name:
          type: string
        period:
          type: string
          enum: [weekly, bi_weekly, monthly, quarterly, annually, custom]
        startDate:
          type: string
          format: date
        endDate:
          type: string
          format: date
        totalAmount:
          type: number
          format: float
        categories:
          type: array
          items:
            type: object
            properties:
              name:
                type: string
              allocated:
                type: number
                format: float
        alertThreshold:
          type: integer
        aiAutoPopulate:
          type: boolean
          default: false

    BudgetUpdateRequest:
      type: object
      properties:
        name:
          type: string
        totalAmount:
          type: number
          format: float
        startDate:
          type: string
          format: date
        endDate:
          type: string
          format: date
        categories:
          type: array
          items:
            type: object
            properties:
              name:
                type: string
              allocated:
                type: number
                format: float
        alertThreshold:
          type: integer
        status:
          type: string
          enum: [active, archived, ended]

    InvestmentHolding:
      type: object
      required:
        - symbol
        - name
        - quantity
        - averageCost
        - currentPrice
        - marketValue
        - percentageOfPortfolio
      properties:
        symbol:
          type: string
        name:
          type: string
        quantity:
          type: number
          format: float
        averageCost:
          type: number
          format: float
        currentPrice:
          type: number
          format: float
        marketValue:
          type: number
          format: float
        percentageOfPortfolio:
          type: number
          format: float
        esgScore:
          type: ["number", "null"]
          format: float

    InvestmentPortfolio:
      type: object
      required:
        - id
        - name
        - type
        - currency
        - totalValue
        - unrealizedGainLoss
        - todayGainLoss
        - lastUpdated
        - riskTolerance
      properties:
        id:
          type: string
        name:
          type: string
        type:
          type: string
          enum: [equities, bonds, diversified, crypto, retirement, other]
        currency:
          type: string
          pattern: '^[A-Z]{3}$'
        totalValue:
          type: number
          format: float
        unrealizedGainLoss:
          type: number
          format: float
        todayGainLoss:
          type: number
          format: float
        lastUpdated:
          type: string
          format: date-time
        riskTolerance:
          type: string
          enum: [conservative, moderate, aggressive, very_aggressive]
        aiPerformanceInsights:
          type: ["array", "null"]
          items:
            $ref: "#/components/schemas/AIInsight"
        holdings:
          type: array
          items:
            $ref: "#/components/schemas/InvestmentHolding"
        aiRebalancingFrequency:
          type: ["string", "null"]
          enum: [monthly, quarterly, semi_annually, annually, never]

    InvestmentPortfolioCreationRequest:
      type: object
      required:
        - name
        - type
        - currency
        - initialInvestment
        - riskTolerance
      properties:
        name:
          type: string
        type:
          type: string
          enum: [equities, bonds, diversified, crypto, retirement, other]
        currency:
          type: string
          pattern: '^[A-Z]{3}$'
        initialInvestment:
          type: number
          format: float
        riskTolerance:
          type: string
          enum: [conservative, moderate, aggressive, very_aggressive]
        aiAutoAllocate:
          type: boolean
          default: false
        linkedAccountId:
          type: ["string", "null"]

    InvestmentPortfolioUpdateRequest:
      type: object
      properties:
        name:
          type: string
        riskTolerance:
          type: string
          enum: [conservative, moderate, aggressive, very_aggressive]
        aiRebalancingFrequency:
          type: ["string", "null"]
          enum: [monthly, quarterly, semi_annually, annually, never]

    RebalanceRequest:
      type: object
      required:
        - targetRiskTolerance
      properties:
        targetRiskTolerance:
          type: string
          enum: [conservative, moderate, aggressive, very_aggressive]
        dryRun:
          type: boolean
          default: true
        confirmationRequired:
          type: boolean
          default: true

    RebalanceStatus:
      type: object
      required:
        - rebalanceId
        - portfolioId
        - status
        - statusMessage
      properties:
        rebalanceId:
          type: string
        portfolioId:
          type: string
        status:
          type: string
          enum: [analyzing, pending_confirmation, executing_trades, completed, failed]
        statusMessage:
          type: string
        proposedTrades:
          type: ["array", "null"]
          items:
            type: object
            properties:
              action:
                type: string
                enum: [buy, sell]
              symbol:
                type: string
              quantity:
                type: number
              estimatedPrice:
                type: number
        estimatedImpact:
          type: ["string", "null"]
        confirmationRequired:
          type: ["boolean", "null"]
        confirmationExpiresAt:
          type: ["string", "null"]
          format: date-time

    ESGAssetSearchResult:
      type: object
      required:
        - assetSymbol
        - assetName
        - assetType
        - currentPrice
        - currency
        - overallESGScore
      properties:
        assetSymbol:
          type: string
        assetName:
          type: string
        assetType:
          type: string
          enum: [stock, etf, mutual_fund, bond]
        currentPrice:
          type: number
          format: float
        currency:
          type: string
          pattern: '^[A-Z]{3}$'
        overallESGScore:
          type: number
          format: float
        environmentalScore:
          type: ["number", "null"]
          format: float
        socialScore:
          type: ["number", "null"]
          format: float
        governanceScore:
          type: ["number", "null"]
          format: float
        esgRatingProvider:
          type: ["string", "null"]
        esgControversies:
          type: ["array", "null"]
          items:
            type: string
        aiESGInsight:
          type: ["string", "null"]

    AIChatMessage:
      type: object
      required:
        - role
        - content
        - timestamp
      properties:
        role:
          type: string
          enum: [user, assistant, tool_call, tool_response]
        content:
          type: string
        timestamp:
          type: string
          format: date-time
        functionCall:
          type: object
          properties:
            name:
              type: string
            args:
              type: object
        functionResponse:
          type: object
          properties:
            name:
              type: string
            response:
              type: object

    AIChatRequest:
      type: object
      oneOf:
        - required: [message]
        - required: [functionResponse]
      properties:
        message:
          type: string
        sessionId:
          type: ["string", "null"]
        functionResponse:
          type: ["object", "null"]
          properties:
            name:
              type: string
            response:
              type: object

    AIChatResponse:
      type: object
      required:
        - sessionId
      properties:
        text:
          type: ["string", "null"]
        sessionId:
          type: string
        proactiveInsights:
          type: ["array", "null"]
          items:
            $ref: "#/components/schemas/AIInsight"
        functionCalls:
          type: ["array", "null"]
          items:
            type: object
            properties:
              id:
                type: string
              name:
                type: string
              args:
                type: object
        requiresUserAction:
          type: boolean
          default: false

    AITool:
      type: object
      required:
        - name
        - description
        - parameters
        - accessScope
      properties:
        name:
          type: string
        description:
          type: string
        parameters:
          type: object
        accessScope:
          type: string

    PaginatedChatMessages:
      allOf:
        - $ref: "#/components/schemas/PaginatedCursorList"
        - type: object
          properties:
            data:
              type: array
              items:
                $ref: "#/components/schemas/AIChatMessage"

    SimulationRequest:
      type: object
      required:
        - prompt
      properties:
        prompt:
          type: string
        parameters:
          type: ["object", "null"]

    SimulationResponse:
      type: object
      required:
        - simulationId
        - narrativeSummary
        - keyImpacts
      properties:
        simulationId:
          type: string
        narrativeSummary:
          type: string
        keyImpacts:
          type: array
          items:
            type: object
            properties:
              metric:
                type: string
              value:
                type: string
              severity:
                type: string
                enum: [low, medium, high]
        recommendations:
          type: ["array", "null"]
          items:
            $ref: "#/components/schemas/AIInsight"
        riskAnalysis:
          type: ["object", "null"]
          properties:
            maxDrawdown:
              type: number
              format: float
            volatilityIndex:
              type: number
              format: float
        visualizations:
          type: ["array", "null"]
          items:
            type: object
            properties:
              type:
                type: string
                enum: [line_chart, bar_chart, table]
              title:
                type: string
              dataUri:
                type: string
                format: uri

    AdvancedSimulationRequest:
      type: object
      required:
        - prompt
        - scenarios
      properties:
        prompt:
          type: string
        scenarios:
          type: array
          minItems: 1
          items:
            type: object
            required:
              - name
              - events
              - durationYears
            properties:
              name:
                type: string
              events:
                type: array
                items:
                  type: object
                  properties:
                    type:
                      type: string
                      enum: [job_loss, market_downturn, large_purchase, income_increase, medical_emergency]
                    details:
                      type: object
              durationYears:
                type: integer
              sensitivityAnalysisParams:
                type: ["array", "null"]
                items:
                  type: object
                  properties:
                    paramName:
                      type: string
                    min:
                      type: number
                    max:
                      type: number
                    step:
                      type: number
        globalEconomicFactors:
          type: ["object", "null"]
          properties:
            inflationRate:
              type: number
              format: float
            interestRateBaseline:
              type: number
              format: float
        personalAssumptions:
          type: ["object", "null"]
          properties:
            annualSavingsRate:
              type: number
              format: float
            riskTolerance:
              type: string
              enum: [conservative, moderate, aggressive]

    AdvancedSimulationResponse:
      type: object
      required:
        - simulationId
        - overallSummary
        - scenarioResults
      properties:
        simulationId:
          type: string
        overallSummary:
          type: string
        scenarioResults:
          type: array
          items:
            type: object
            required:
              - scenarioName
              - narrativeSummary
            properties:
              scenarioName:
                type: string
              narrativeSummary:
                type: string
              finalNetWorthProjected:
                type: ["number", "null"]
                format: float
              liquidityMetrics:
                type: ["object", "null"]
                properties:
                  minCashBalance:
                    type: number
                    format: float
                  recoveryTimeMonths:
                    type: integer
              sensitivityAnalysisGraphs:
                type: ["array", "null"]
                items:
                  type: object
                  properties:
                    paramName:
                      type: string
                    data:
                      type: array
                      items:
                        type: object
                        properties:
                          paramValue:
                            type: number
                          outcomeValue:
                            type: number
              aiInsights:
                type: ["array", "null"]
                items:
                  $ref: "#/components/schemas/AIInsight"
        strategicRecommendations:
          type: ["array", "null"]
          items:
            $ref: "#/components/schemas/AIInsight"

    SimulationSummary:
      type: object
      required:
        - simulationId
        - title
        - status
        - creationDate
        - lastUpdated
        - summary
      properties:
        simulationId:
          type: string
        title:
          type: string
        status:
          type: string
          enum: [processing, completed, failed]
        creationDate:
          type: string
          format: date-time
        lastUpdated:
          type: string
          format: date-time
        summary:
          type: string

    QuantumWeaverState:
      type: object
      required:
        - pitchId
        - stage
        - statusMessage
        - lastUpdated
        - nextSteps
      properties:
        pitchId:
          type: string
        stage:
          type: string
          enum: [submitted, initial_review, ai_analysis, feedback_required, test_phase, final_review, approved_for_funding, rejected, incubated_graduated]
        statusMessage:
          type: string
        lastUpdated:
          type: string
          format: date-time
        feedbackSummary:
          type: ["string", "null"]
        questions:
          type: ["array", "null"]
          items:
            type: object
            properties:
              id:
                type: string
              question:
                type: string
              category:
                type: string
              isRequired:
                type: boolean
        nextSteps:
          type: string
        estimatedFundingOffer:
          type: ["number", "null"]
          format: float
        aiFinancialModel:
          type: ["object", "null"]
          properties:
            revenueBreakdown:
              type: object
            costStructureAnalysis:
              type: object
            breakevenPoint:
              type: string
            capitalRequirements:
              type: number
              format: float
            sensitivityAnalysis:
              type: array
              items:
                type: object
                properties:
                  scenario: {type: string}
                  projectedIRR: {type: number, format: float}
                  terminalValue: {type: number, format: float}
        aiMarketAnalysis:
          type: ["object", "null"]
          properties:
            targetMarketSize:
              type: string
            competitiveAdvantages:
              type: array
              items: {type: string}
            growthOpportunities:
              type: string
            riskFactors:
              type: string
        aiCoachingPlan:
          type: ["object", "null"]
          properties:
            title: {type: string}
            summary: {type: string}
            steps:
              type: array
              items:
                type: object
                properties:
                  title: {type: string}
                  description: {type: string}
                  timeline: {type: string}
                  status: {type: string, enum: [pending, in_progress, completed]}
                  resources:
                    type: array
                    items:
                      type: object
                      properties:
                        name: {type: string}
                        url: {type: string, format: uri}
        investorMatchScore:
          type: ["number", "null"]
          format: float
        aiRiskAssessment:
          type: ["object", "null"]
          properties:
            technicalRisk: {type: string}
            marketRisk: {type: string}
            teamRisk: {type: string}

    QuantumWeaverFeedbackRequest:
      type: object
      properties:
        feedback:
          type: ["string", "null"]
        answers:
          type: array
          items:
            type: object
            required:
              - questionId
              - answer
            properties:
              questionId:
                type: string
              answer:
                type: string

    GenerateVideoRequest:
      type: object
      required:
        - prompt
        - style
        - lengthSeconds
      properties:
        prompt:
          type: string
        style:
          type: string
          enum: [Cinematic, Explainer, Documentary, Abstract, Minimalist]
        lengthSeconds:
          type: integer
        aspectRatio:
          type: string
          enum: ["16:9", "9:16", "1:1"]
          default: "16:9"
        brandColors:
          type: ["array", "null"]
          items:
            type: string
            pattern: "^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$"
        keywords:
          type: ["array", "null"]
          items:
            type: string

    AdvancedGenerateVideoRequest:
      allOf:
        - $ref: "#/components/schemas/GenerateVideoRequest"
        - type: object
          properties:
            voiceoverText:
              type: ["string", "null"]
            voiceoverStyle:
              type: ["string", "null"]
              enum: [male_professional, female_friendly, neutral_calm]
            backgroundMusicGenre:
              type: ["string", "null"]
              enum: [corporate, uplifting, ambient, cinematic, none]
            audienceTarget:
              type: ["string", "null"]
              enum: [general, corporate, investor, youth]
            callToAction:
              type: ["object", "null"]
              properties:
                text:
                  type: string
                url:
                  type: string
                  format: uri
                displayTimeSeconds:
                  type: integer
            brandAssets:
              type: ["array", "null"]
              items:
                type: string
                format: uri

    VideoOperationStatus:
      type: object
      required:
        - operationId
        - status
        - progressPercentage
        - message
      properties:
        operationId:
          type: string
        status:
          type: string
          enum: [queued, generating, rendering, done, error]
        progressPercentage:
          type: integer
        message:
          type: string
        errorMessage:
          type: ["string", "null"]
        videoUri:
          type: ["string", "null"]
          format: uri
        previewImageUri:
          type: ["string", "null"]
          format: uri

    CorporateCardControls:
      type: object
      properties:
        atmWithdrawals:
          type: boolean
        contactlessPayments:
          type: boolean
        onlineTransactions:
          type: boolean
        internationalTransactions:
          type: boolean
        monthlyLimit:
          type: ["number", "null"]
          format: float
        dailyLimit:
          type: ["number", "null"]
          format: float
        singleTransactionLimit:
          type: ["number", "null"]
          format: float
        merchantCategoryRestrictions:
          type: ["array", "null"]
          items:
            type: string
        vendorRestrictions:
          type: ["array", "null"]
          items:
            type: string

    CorporateCard:
      type: object
      required:
        - id
        - holderName
        - cardNumberMask
        - expirationDate
        - status
        - frozen
        - cardType
        - controls
        - createdDate
        - currency
      properties:
        id:
          type: string
        holderName:
          type: string
        associatedEmployeeId:
          type: ["string", "null"]
        cardNumberMask:
          type: string
        expirationDate:
          type: string
          format: date
        status:
          type: string
          enum: [active, suspended, deactivated, pending_activation]
        frozen:
          type: boolean
        cardType:
          type: string
          enum: [physical, virtual]
        controls:
          $ref: "#/components/schemas/CorporateCardControls"
        spendingPolicyId:
          type: ["string", "null"]
        createdDate:
          type: string
          format: date-time
        currency:
          type: string
          pattern: '^[A-Z]{3}$'

    CorporateCardUpdateRequest:
      type: object
      properties:
        frozen:
          type: boolean
        controls:
          $ref: "#/components/schemas/CorporateCardControls"

    VirtualCardCreationRequest:
      type: object
      required:
        - holderName
        - purpose
        - controls
        - expirationDate
      properties:
        holderName:
          type: string
        associatedEmployeeId:
          type: ["string", "null"]
        purpose:
          type: string
        controls:
          $ref: "#/components/schemas/CorporateCardControls"
        expirationDate:
          type: string
          format: date
        spendingPolicyId:
          type: ["string", "null"]

    FinancialAnomaly:
      type: object
      required:
        - id
        - description
        - severity
        - status
        - entityType
        - entityId
        - timestamp
        - riskScore
        - aiConfidenceScore
        - recommendedAction
      properties:
        id:
          type: string
        description:
          type: string
        details:
          type: ["string", "null"]
        severity:
          type: string
          enum: [low, medium, high, critical]
        status:
          type: string
          enum: [new, under_review, escalated, dismissed, resolved]
        entityType:
          type: string
          enum: [payment_order, transaction, counterparty, corporate_card, user, invoice]
        entityId:
          type: string
        timestamp:
          type: string
          format: date-time
        riskScore:
          type: integer
        aiConfidenceScore:
          type: number
          format: float
        recommendedAction:
          type: ["string", "null"]
        relatedTransactions:
          type: ["array", "null"]
          items:
            type: string
        resolutionNotes:
          type: ["string", "null"]

    ComplianceAuditRequest:
      type: object
      required:
        - auditScope
        - startDate
        - endDate
        - regulatoryFrameworks
      properties:
        auditScope:
          type: string
          enum: [all_transactions, specific_accounts, specific_cards, all_users]
        startDate:
          type: string
          format: date
        endDate:
          type: string
          format: date
        regulatoryFrameworks:
          type: array
          items:
            type: string
            enum: [AML, KYC, PCI-DSS, GDPR, CCPA, SOX, OFAC]
        additionalContext:
          type: ["string", "null"]

    ComplianceAuditReport:
      type: object
      required:
        - auditId
        - status
        - auditDate
        - periodCovered
        - overallComplianceScore
        - summary
        - findings
        - recommendedActions
      properties:
        auditId:
          type: string
        status:
          type: string
          enum: [processing, completed, failed]
        auditDate:
          type: string
          format: date-time
        periodCovered:
          type: object
          properties:
            startDate:
              type: string
              format: date
            endDate:
              type: string
              format: date
        overallComplianceScore:
          type: integer
        summary:
          type: string
        findings:
          type: array
          items:
            type: object
            properties:
              type:
                type: string
                enum: [finding, observation, recommendation]
              severity:
                type: string
                enum: [low, medium, high, critical]
              description:
                type: string
              relatedEntities:
                type: ["array", "null"]
                items:
                  type: string
        recommendedActions:
          type: array
          items:
            $ref: "#/components/schemas/AIInsight"

    SanctionScreeningRequest:
      type: object
      required:
        - name
        - entityType
        - country
      properties:
        name:
          type: string
        entityType:
          type: string
          enum: [individual, organization]
        country:
          type: string
          pattern: '^[A-Z]{2}$'
        dateOfBirth:
          type: ["string", "null"]
          format: date
        identificationNumber:
          type: ["string", "null"]
        address:
          $ref: "#/components/schemas/Address"

    SanctionScreeningResponse:
      type: object
      required:
        - screeningId
        - matchFound
        - matchDetails
        - screeningTimestamp
        - status
      properties:
        screeningId:
          type: string
        matchFound:
          type: boolean
        matchDetails:
          type: array
          items:
            type: object
            properties:
              listName:
                type: string
              matchedName:
                type: string
              reason:
                type: string
              score:
                type: number
                format: float
              publicUrl:
                type: ["string", "null"]
                format: uri
        screeningTimestamp:
          type: string
          format: date-time
        status:
          type: string
          enum: [clear, potential_match, confirmed_match, error]
        message:
          type: ["string", "null"]

    CryptoWalletConnection:
      type: object
      required:
        - id
        - walletProvider
        - walletAddress
        - blockchainNetwork
        - status
        - lastSynced
        - readAccessGranted
        - writeAccessGranted
      properties:
        id:
          type: string
        walletProvider:
          type: string
        walletAddress:
          type: string
        blockchainNetwork:
          type: string
        status:
          type: string
          enum: [connected, disconnected, pending_verification, error]
        lastSynced:
          type: string
          format: date-time
        readAccessGranted:
          type: boolean
        writeAccessGranted:
          type: boolean

    ConnectWalletRequest:
      type: object
      required:
        - walletAddress
        - walletProvider
        - blockchainNetwork
        - signedMessage
      properties:
        walletAddress:
          type: string
        walletProvider:
          type: string
        blockchainNetwork:
          type: string
        signedMessage:
          type: string
        requestWriteAccess:
          type: boolean
          default: false

    CryptoAssetBalance:
      type: object
      required:
        - assetSymbol
        - assetName
        - balance
        - usdValue
      properties:
        assetSymbol:
          type: string
        assetName:
          type: string
        balance:
          type: number
          format: float
        usdValue:
          type: number
          format: float
        contractAddress:
          type: ["string", "null"]
        network:
          type: ["string", "null"]

    NFTAsset:
      type: object
      required:
        - id
        - collectionName
        - name
        - imageUrl
        - blockchainNetwork
        - ownerAddress
        - contractAddress
        - tokenId
      properties:
        id:
          type: string
        collectionName:
          type: string
        name:
          type: string
        description:
          type: ["string", "null"]
        imageUrl:
          type: string
          format: uri
        blockchainNetwork:
          type: string
        ownerAddress:
          type: string
        contractAddress:
          type: string
        tokenId:
          type: string
        lastSalePriceUSD:
          type: ["number", "null"]
          format: float
        estimatedValueUSD:
          type: ["number", "null"]
          format: float
        attributes:
          type: ["array", "null"]
          items:
            type: object
            properties:
              trait_type:
                type: string
              value:
                type: string

    CryptoTransferRequest:
      type: object
      required:
        - sourceWalletId
        - recipientAddress
        - amount
        - assetSymbol
        - blockchainNetwork
      properties:
        sourceWalletId:
          type: string
        recipientAddress:
          type: string
        amount:
          type: number
          format: float
        assetSymbol:
          type: string
        blockchainNetwork:
          type: string
        gasPriceGwei:
          type: ["integer", "null"]
        memo:
          type: ["string", "null"]

    CryptoTransferStatus:
      type: object
      required:
        - transferId
        - status
      properties:
        transferId:
          type: string
        status:
          type: string
          enum: [pending_signature, pending_blockchain_confirmation, completed, failed, cancelled]
        blockchainTxnHash:
          type: ["string", "null"]
        message:
          type: ["string", "null"]

    InternationalPaymentRequest:
      type: object
      required:
        - sourceAccountId
        - amount
        - sourceCurrency
        - targetCurrency
        - beneficiary
        - purpose
      properties:
        sourceAccountId:
          type: string
        amount:
          type: number
          format: float
        sourceCurrency:
          type: string
          pattern: '^[A-Z]{3}$'
        targetCurrency:
          type: string
          pattern: '^[A-Z]{3}$'
        beneficiary:
          type: object
          required:
            - name
            - address
            - bankName
          properties:
            name:
              type: string
            address:
              type: string
            bankName:
              type: string
            iban:
              type: ["string", "null"]
            swiftBic:
              type: ["string", "null"]
            accountNumber:
              type: ["string", "null"]
            routingNumber:
              type: ["string", "null"]
        purpose:
          type: string
        fxRateLock:
          type: boolean
          default: false
        fxRateProvider:
          type: string
          enum: [proprietary_ai, market_rate]
          default: "proprietary_ai"
        reference:
          type: ["string", "null"]

    InternationalPaymentStatus:
      type: object
      required:
        - paymentId
        - status
        - sourceAmount
        - sourceCurrency
        - targetAmount
        - targetCurrency
        - fxRateApplied
      properties:
        paymentId:
          type: string
        status:
          type: string
          enum: [in_progress, held_for_review, completed, failed, cancelled]
        sourceAmount:
          type: number
          format: float
        sourceCurrency:
          type: string
          pattern: '^[A-Z]{3}$'
        targetAmount:
          type: number
          format: float
        targetCurrency:
          type: string
          pattern: '^[A-Z]{3}$'
        fxRateApplied:
          type: number
          format: float
        estimatedCompletionTime:
          type: ["string", "null"]
          format: date-time
        trackingUrl:
          type: ["string", "null"]
          format: uri
        feesApplied:
          type: ["number", "null"]
          format: float
        message:
          type: ["string", "null"]

    FxRateResponse:
      type: object
      required:
        - baseCurrency
        - targetCurrency
        - currentRate
      properties:
        baseCurrency:
          type: string
          pattern: '^[A-Z]{3}$'
        targetCurrency:
          type: string
          pattern: '^[A-Z]{3}$'
        currentRate:
          type: object
          properties:
            bid:
              type: number
              format: float
            ask:
              type: number
              format: float
            mid:
              type: number
              format: float
            timestamp:
              type: string
              format: date-time
        predictiveRates:
          type: ["array", "null"]
          items:
            type: object
            properties:
              date:
                type: string
                format: date
              predictedMidRate:
                type: number
                format: float
              confidenceIntervalLower:
                type: number
                format: float
              confidenceIntervalUpper:
                type: number
                format: float
              aiModelConfidence:
                type: number
                format: float
        historicalVolatility:
          type: ["object", "null"]
          properties:
            past7Days:
              type: number
              format: float
            past30Days:
              type: number
              format: float

    CurrencyConversionRequest:
      type: object
      required:
        - sourceAccountId
        - sourceAmount
        - sourceCurrency
        - targetCurrency
      properties:
        sourceAccountId:
          type: string
        targetAccountId:
          type: ["string", "null"]
        sourceAmount:
          type: number
          format: float
        sourceCurrency:
          type: string
          pattern: '^[A-Z]{3}$'
        targetCurrency:
          type: string
          pattern: '^[A-Z]{3}$'
        fxRateLock:
          type: boolean
          default: false

    CurrencyConversionResponse:
      type: object
      required:
        - conversionId
        - status
        - sourceAmount
        - sourceCurrency
        - targetAmount
        - fxRateApplied
        - conversionTimestamp
      properties:
        conversionId:
          type: string
        status:
          type: string
          enum: [completed, pending, failed]
        sourceAmount:
          type: number
          format: float
        sourceCurrency:
          type: string
          pattern: '^[A-Z]{3}$'
        targetAmount:
          type: number
          format: float
        targetCurrency:
          type: string
          pattern: '^[A-Z]{3}$'
        fxRateApplied:
          type: number
          format: float
        feesApplied:
          type: ["number", "null"]
          format: float
        conversionTimestamp:
          type: string
          format: date-time
        transactionId:
          type: ["string", "null"]

    CarbonFootprintReport:
      type: object
      required:
        - reportId
        - period
        - totalCarbonFootprintKgCO2e
        - breakdownByCategory
        - aiInsights
      properties:
        reportId:
          type: string
        period:
          type: string
        totalCarbonFootprintKgCO2e:
          type: number
          format: float
        breakdownByCategory:
          type: array
          items:
            type: object
            properties:
              category:
                type: string
              carbonFootprintKgCO2e:
                type: number
                format: float
              percentage:
                type: number
                format: float
        aiInsights:
          type: array
          items:
            $ref: "#/components/schemas/AIInsight"
        offsetRecommendations:
          type: ["array", "null"]
          items:
            type: object
            properties:
              project:
                type: string
              costPerTonUSD:
                type: number
                format: float
              offsetAmountKgCO2e:
                type: number
                format: float
              totalCostUSD:
                type: number
                format: float

    InvestmentESGImpact:
      type: object
      required:
        - portfolioId
        - overallESGScore
        - benchmarkESGScore
        - breakdownByESGFactors
        - topESGHoldings
        - lowestESGHoldings
        - aiRecommendations
      properties:
        portfolioId:
          type: string
        overallESGScore:
          type: number
          format: float
        benchmarkESGScore:
          type: number
          format: float
        breakdownByESGFactors:
          type: object
          properties:
            environmentalScore:
              type: number
              format: float
            socialScore:
              type: number
              format: float
            governanceScore:
              type: number
              format: float
        topESGHoldings:
          type: array
          items:
            type: object
            properties:
              assetSymbol:
                type: string
              assetName:
                type: string
              esgScore:
                type: number
                format: float
        lowestESGHoldings:
          type: array
          items:
            type: object
            properties:
              assetSymbol:
                type: string
              assetName:
                type: string
              esgScore:
                type: number
                format: float
        aiRecommendations:
          type: array
          items:
            $ref: "#/components/schemas/AIInsight"

    CarbonOffsetPurchaseRequest:
      type: object
      required:
        - amountKgCO2e
        - paymentAccountId
        - offsetProject
      properties:
        amountKgCO2e:
          type: number
          format: float
        paymentAccountId:
          type: string
        offsetProject:
          type: ["string", "null"]

    CarbonOffsetPurchaseResponse:
      type: object
      required:
        - purchaseId
        - amountOffsetKgCO2e
        - totalCostUSD
        - purchaseDate
      properties:
        purchaseId:
          type: string
        amountOffsetKgCO2e:
          type: number
          format: float
        totalCostUSD:
          type: number
          format: float
        projectSupported:
          type: ["string", "null"]
        transactionId:
          type: ["string", "null"]
        purchaseDate:
          type: string
          format: date-time
        certificateUrl:
          type: ["string", "null"]
          format: uri

    LoanApplicationRequest:
      type: object
      required:
        - loanAmount
        - loanPurpose
        - repaymentTermMonths
      properties:
        loanAmount:
          type: number
          format: float
        loanPurpose:
          type: string
          enum: [home_improvement, debt_consolidation, medical_expense, education, auto_purchase, other]
        repaymentTermMonths:
          type: integer
        additionalNotes:
          type: ["string", "null"]
        coApplicant:
          type: ["object", "null"]
          properties:
            name:
              type: string
            email:
              type: string
              format: email
            income:
              type: number
              format: float

    LoanOffer:
      type: object
      required:
        - offerId
        - offerType
        - amount
        - interestRate
        - expirationDate
        - isPreApproved
      properties:
        offerId:
          type: string
        offerType:
          type: string
          enum: [personal_loan, auto_loan, mortgage, credit_line, microloan]
        amount:
          type: number
          format: float
        interestRate:
          type: number
          format: float
        repaymentTermMonths:
          type: ["integer", "null"]
        monthlyPayment:
          type: ["number", "null"]
          format: float
        originationFee:
          type: ["number", "null"]
          format: float
        totalRepayable:
          type: ["number", "null"]
          format: float
        expirationDate:
          type: string
          format: date
        isPreApproved:
          type: boolean
        aiPersonalizationScore:
          type: ["number", "null"]
          format: float
        termsAndConditionsUrl:
          type: ["string", "null"]
          format: uri

    AIUnderwritingResult:
      type: object
      required:
        - decision
        - reason
        - aiConfidence
      properties:
        decision:
          type: string
          enum: [approved, declined, referred_to_human]
        reason:
          type: string
        recommendedInterestRate:
          type: ["number", "null"]
          format: float
        maxApprovedAmount:
          type: ["number", "null"]
          format: float
        aiConfidence:
          type: number
          format: float

    LoanApplicationStatus:
      type: object
      required:
        - applicationId
        - status
        - loanAmountRequested
        - loanPurpose
        - applicationDate
        - nextSteps
      properties:
        applicationId:
          type: string
        status:
          type: string
          enum: [submitted, underwriting, approved, declined, pending_acceptance, funded, cancelled]
        loanAmountRequested:
          type: number
          format: float
        loanPurpose:
          type: string
          enum: [home_improvement, debt_consolidation, medical_expense, education, auto_purchase, other]
        applicationDate:
          type: string
          format: date-time
        aiUnderwritingResult:
          $ref: "#/components/schemas/AIUnderwritingResult"
        offerDetails:
          $ref: "#/components/schemas/LoanOffer"
        nextSteps:
          type: string

    WebhookSubscription:
      type: object
      required:
        - id
        - callbackUrl
        - events
        - status
        - createdAt
      properties:
        id:
          type: string
        callbackUrl:
          type: string
          format: uri
        events:
          type: array
          items:
            type: string
        status:
          type: string
          enum: [active, paused, suspended]
        secret:
          type: ["string", "null"]
        createdAt:
          type: string
          format: date-time
        lastTriggered:
          type: ["string", "null"]
          format: date-time
        failureCount:
          type: integer

    WebhookSubscriptionCreationRequest:
      type: object
      required:
        - callbackUrl
        - events
      properties:
        callbackUrl:
          type: string
          format: uri
        events:
          type: array
          items:
            type: string
        secret:
          type: ["string", "null"]

    WebhookSubscriptionUpdateRequest:
      type: object
      properties:
        callbackUrl:
          type: string
          format: uri
        events:
          type: array
          items:
            type: string
        status:
          type: string
          enum: [active, paused, suspended]

    ApiKey:
      type: object
      required:
        - id
        - prefix
        - status
        - createdAt
        - scopes
      properties:
        id:
          type: string
        prefix:
          type: string
        status:
          type: string
          enum: [active, revoked, expired]
        createdAt:
          type: string
          format: date-time
        expiresAt:
          type: ["string", "null"]
          format: date-time
        scopes:
          type: array
          items:
            type: string
        lastUsed:
          type: ["string", "null"]
          format: date-time

    ApiKeyCreationRequest:
      type: object
      required:
        - name
        - scopes
      properties:
        name:
          type: string
        scopes:
          type: array
          items:
            type: string
        expiresInDays:
          type: ["integer", "null"]

    KYCDocumentSubmission:
      type: object
      required:
        - documentType
        - documentNumber
        - issueDate
        - expirationDate
        - countryOfIssue
      properties:
        documentType:
          type: string
          enum: [drivers_license, passport, national_id, utility_bill, bank_statement, other]
        documentFrontImage:
          type: ["string", "null"]
          format: byte
        documentBackImage:
          type: ["string", "null"]
          format: byte
        documentNumber:
          type: string
        issueDate:
          type: string
          format: date
        expirationDate:
          type: string
          format: date
        countryOfIssue:
          type: string
          pattern: '^[A-Z]{2}$'
        additionalDocuments:
          type: ["array", "null"]
          items:
            type: string
            format: byte

    KYCStatus:
      type: object
      required:
        - userId
        - overallStatus
        - lastSubmissionDate
        - requiredActions
      properties:
        userId:
          type: string
        overallStatus:
          type: string
          enum: [not_submitted, in_review, verified, rejected, requires_more_info]
        lastSubmissionDate:
          type: ["string", "null"]
          format: date-time
        rejectionReason:
          type: ["string", "null"]
        requiredActions:
          type: array
          items:
            type: string
        verifiedTier:
          type: ["string", "null"]
          enum: [bronze, silver, gold, platinum]

    CashFlowForecast:
      type: object
      required:
        - forecastId
        - period
        - currency
        - overallStatus
        - projectedBalances
        - inflowForecast
        - outflowForecast
        - liquidityRiskScore
        - aiRecommendations
      properties:
        forecastId:
          type: string
        period:
          type: string
        currency:
          type: string
          pattern: '^[A-Z]{3}$'
        overallStatus:
          type: string
          enum: [positive_outlook, negative_outlook, stable, uncertain]
        projectedBalances:
          type: array
          items:
            type: object
            properties:
              date:
                type: string
                format: date
              projectedCash:
                type: number
                format: float
              scenario:
                type: string
                enum: [most_likely, best_case, worst_case]
        inflowForecast:
          type: object
          properties:
            totalProjected:
              type: number
              format: float
            bySource:
              type: array
              items:
                type: object
                properties:
                  source:
                    type: string
                  amount:
                    type: number
                    format: float
        outflowForecast:
          type: object
          properties:
            totalProjected:
              type: number
              format: float
            byCategory:
              type: array
              items:
                type: object
                properties:
                  category:
                    type: string
                  amount:
                    type: number
                    format: float
        liquidityRiskScore:
          type: integer
        aiRecommendations:
          type: array
          items:
            $ref: "#/components/schemas/AIInsight"

    LiquidityPositions:
      type: object
      required:
        - snapshotTime
        - totalLiquidAssets
        - currencyBreakdown
        - accountTypeBreakdown
        - shortTermInvestments
        - aiLiquidityAssessment
        - aiRecommendations
      properties:
        snapshotTime:
          type: string
          format: date-time
        totalLiquidAssets:
          type: number
          format: float
        currencyBreakdown:
          type: array
          items:
            type: object
            properties:
              currency:
                type: string
                pattern: '^[A-Z]{3}$'
              amount:
                type: number
                format: float
              percentage:
                type: number
                format: float
        accountTypeBreakdown:
          type: array
          items:
            type: object
            properties:
              type:
                type: string
              amount:
                type: number
                format: float
        shortTermInvestments:
          type: object
          properties:
            totalValue:
              type: number
              format: float
            maturingNext30Days:
              type: number
              format: float
        aiLiquidityAssessment:
          type: object
          properties:
            status:
              type: string
              enum: [optimal, sufficient, tight, critical]
            message:
              type: string
        aiRecommendations:
          type: array
          items:
            $ref: "#/components/schemas/AIInsight"

    FraudRuleCriteria:
      type: object
      properties:
        transactionAmountMin:
          type: ["number", "null"]
          format: float
        accountInactivityDays:
          type: ["integer", "null"]
        transactionType:
          type: ["string", "null"]
          enum: [debit, credit]
        countryOfOrigin:
          type: ["array", "null"]
          items:
            type: string
        geographicDistanceKm:
          type: ["integer", "null"]
        lastLoginDays:
          type: ["integer", "null"]
        noTravelNotification:
          type: ["boolean", "null"]
        paymentCountMin:
          type: ["integer", "null"]
        timeframeHours:
          type: ["integer", "null"]
        recipientNew:
          type: ["boolean", "null"]
        recipientCountryRiskLevel:
          type: ["array", "null"]
          items:
            type: string
            enum: [low, medium, high, very_high]

    FraudRuleAction:
      type: object
      required:
        - type
        - details
      properties:
        type:
          type: string
          enum: [block, alert, auto_review, manual_review, request_mfa]
        details:
          type: string
        targetTeam:
          type: ["string", "null"]

    FraudRule:
      type: object
      required:
        - id
        - name
        - description
        - status
        - severity
        - criteria
        - action
        - createdBy
        - createdAt
        - lastUpdated
      properties:
        id:
          type: string
        name:
          type: string
        description:
          type: string
        status:
          type: string
          enum: [active, inactive, draft]
        severity:
          type: string
          enum: [low, medium, high, critical]
        criteria:
          $ref: "#/components/schemas/FraudRuleCriteria"
        action:
          $ref: "#/components/schemas/FraudRuleAction"
        createdBy:
          type: string
        createdAt:
          type: string
          format: date-time
        lastUpdated:
          type: string
          format: date-time

    FraudRuleCreationRequest:
      type: object
      required:
        - name
        - description
        - status
        - severity
        - criteria
        - action
      properties:
        name:
          type: string
        description:
          type: string
        status:
          type: string
          enum: [active, inactive, draft]
        severity:
          type: string
          enum: [low, medium, high, critical]
        criteria:
          $ref: "#/components/schemas/FraudRuleCriteria"
        action:
          $ref: "#/components/schemas/FraudRuleAction"

    FraudRuleUpdateRequest:
      type: object
      properties:
        name:
          type: string
        description:
          type: string
        status:
          type: string
          enum: [active, inactive, draft]
        severity:
          type: string
          enum: [low, medium, high, critical]
        criteria:
          $ref: "#/components/schemas/FraudRuleCriteria"
        action:
          $ref: "#/components/schemas/FraudRuleAction"

    FinancialGoal:
      type: object
      required:
        - id
        - name
        - type
        - targetAmount
        - currentAmount
        - targetDate
        - progressPercentage
        - status
        - lastUpdated
      properties:
        id:
          type: string
        name:
          type: string
        type:
          type: string
          enum: [retirement, home_purchase, education, large_purchase, debt_reduction, other]
        targetAmount:
          type: number
          format: float
        currentAmount:
          type: number
          format: float
        targetDate:
          type: string
          format: date
        progressPercentage:
          type: number
          format: float
        status:
          type: string
          enum: [on_track, behind_schedule, ahead_of_schedule, completed, paused, cancelled]
        contributingAccounts:
          type: ["array", "null"]
          items:
            type: string
        lastUpdated:
          type: string
          format: date-time
        riskTolerance:
          type: ["string", "null"]
          enum: [conservative, moderate, aggressive]
        aiStrategicPlan:
          type: ["object", "null"]
          properties:
            planId:
              type: string
            summary:
              type: string
            steps:
              type: array
              items:
                type: object
                properties:
                  title:
                    type: string
                  description:
                    type: string
                  status:
                    type: string
                    enum: [pending, in_progress, completed]
        aiInsights:
          type: ["array", "null"]
          items:
            $ref: "#/components/schemas/AIInsight"

    GoalCreationRequest:
      type: object
      required:
        - name
        - type
        - targetAmount
        - targetDate
      properties:
        name:
          type: string
        type:
          type: string
          enum: [retirement, home_purchase, education, large_purchase, debt_reduction, other]
        targetAmount:
          type: number
          format: float
        targetDate:
          type: string
          format: date
        initialContribution:
          type: number
          format: float
          default: 0
        contributingAccounts:
          type: ["array", "null"]
          items:
            type: string
        generateAIPlan:
          type: boolean
          default: false
        riskTolerance:
          type: ["string", "null"]
          enum: [conservative, moderate, aggressive]

    GoalUpdateRequest:
      type: object
      properties:
        name:
          type: string
        targetAmount:
          type: number
          format: float
        targetDate:
          type: string
          format: date
        contributingAccounts:
          type: ["array", "null"]
          items:
            type: string
        status:
          type: string
          enum: [on_track, behind_schedule, ahead_of_schedule, completed, paused, cancelled]
        generateAIPlan:
          type: boolean
          default: false
        riskTolerance:
          type: ["string", "null"]
          enum: [conservative, moderate, aggressive]

    Notification:
      type: object
      required:
        - id
        - type
        - title
        - message
        - severity
        - timestamp
        - read
      properties:
        id:
          type: string
        type:
          type: string
          enum: [security, financial_insight, marketing, system_update, transaction]
        title:
          type: string
        message:
          type: string
        severity:
          type: string
          enum: [low, medium, high, critical]
        timestamp:
          type: string
          format: date-time
        read:
          type: boolean
          default: false
        actionableLink:
          type: ["string", "null"]
          format: uri
        aiInsightId:
          type: ["string", "null"]

    NotificationSettings:
      type: object
      required:
        - channelPreferences
        - eventPreferences
        - quietHours
      properties:
        channelPreferences:
          type: object
          properties:
            email:
              type: boolean
            push:
              type: boolean
            sms:
              type: boolean
            inApp:
              type: boolean
        eventPreferences:
          type: object
          properties:
            transactionAlerts:
              type: boolean
            budgetAlerts:
              type: boolean
            securityAlerts:
              type: boolean
            aiInsights:
              type: boolean
            promotionalOffers:
              type: boolean
        quietHours:
          type: object
          properties:
            enabled:
              type: boolean
            startTime:
              type: string
              format: time
            endTime:
              type: string
              format: time

    NotificationSettingsUpdateRequest:
      type: object
      properties:
        channelPreferences:
          type: object
          properties:
            email:
              type: boolean
            push:
              type: boolean
            sms:
              type: boolean
              inApp:
                type: boolean
        eventPreferences:
          type: object
          properties:
            transactionAlerts:
              type: boolean
            budgetAlerts:
              type: boolean
            securityAlerts:
              type: boolean
            aiInsights:
              type: boolean
            promotionalOffers:
              type: boolean
        quietHours:
          type: object
          properties:
            enabled:
              type: boolean
            startTime:
              type: string
              format: time
            endTime:
              type: string
              format: time

    MarketplaceProduct:
      type: object
      required:
        - id
        - name
        - provider
        - category
        - description
        - price
        - rating
        - imageUrl
        - aiPersonalizationScore
      properties:
        id:
          type: string
        name:
          type: string
        provider:
          type: string
        category:
          type: string
          enum: [loans, insurance, credit_cards, investments, budgeting_tools, smart_home, travel, education, health]
        description:
          type: string
        price:
          type: string
        rating:
          type: number
          format: float
        imageUrl:
          type: ["string", "null"]
          format: uri
        aiPersonalizationScore:
          type: number
          format: float
        aiRecommendationReason:
          type: ["string", "null"]
        offerDetails:
          type: ["object", "null"]
          properties:
            type:
              type: string
              enum: [discount, special_rate, free_trial]
            value:
              type: string
            code:
              type: ["string", "null"]
        productUrl:
          type: ["string", "null"]
          format: uri

    ProductImpactSimulation:
      type: object
      required:
        - productId
        - simulationId
        - narrativeSummary
        - keyImpacts
      properties:
        productId:
          type: string
        simulationId:
          type: string
        narrativeSummary:
          type: string
        keyImpacts:
          type: array
          items:
            type: object
            properties:
              metric:
                type: string
              value:
                type: string
              severity:
                type: string
                enum: [low, medium, high]
        aiRecommendations:
          type: ["array", "null"]
          items:
            $ref: "#/components/schemas/AIInsight"
        projectedAmortizationSchedule:
          type: ["array", "null"]
          items:
            type: object
            properties:
              month:
                type: integer
              payment:
                type: number
                format: float
              interest:
                type: number
                format: float
              principal:
                type: number
                format: float
              remainingBalance:
                type: number
                format: float

    StatementDownloadInfo:
      type: object
      required:
        - statementId
        - accountId
        - period
        - downloadUrls
      properties:
        statementId:
          type: string
        accountId:
          type: string
        period:
          type: string
        downloadUrls:
          type: object
          properties:
            pdf:
              type: string
              format: uri
            csv:
              type: string
              format: uri

    OverdraftSettings:
      type: object
      required:
        - accountId
        - enabled
        - feePreference
      properties:
        accountId:
          type: string
        enabled:
          type: boolean
        protectionLimit:
          type: ["number", "null"]
          format: float
        linkToSavings:
          type: ["boolean", "null"]
        linkedSavingsAccountId:
          type: ["string", "null"]
        feePreference:
          type: string
          enum: [always_pay, decline_if_over_limit, ask_me_first]

    OverdraftSettingsUpdateRequest:
      type: object
      properties:
        enabled:
          type: boolean
        protectionLimit:
          type: ["number", "null"]
          format: float
        linkToSavings:
          type: ["boolean", "null"]
        linkedSavingsAccountId:
          type: ["string", "null"]
        feePreference:
          type: string
          enum: [always_pay, decline_if_over_limit, ask_me_first]

    LinkAccountRequest:
      type: object
      required:
        - institutionName
        - countryCode
      properties:
        institutionName:
          type: string
        countryCode:
          type: string
          pattern: '^[A-Z]{2}$'
        providerIdentifier:
          type: ["string", "null"]
        redirectUri:
          type: ["string", "null"]
          format: uri

    LinkAccountResponse:
      type: object
      required:
        - linkSessionId
        - authUri
        - status
      properties:
        linkSessionId:
          type: string
        authUri:
          type: string
          format: uri
        status:
          type: string
          enum: [pending_user_action, completed, failed]
        message:
          type: ["string", "null"]