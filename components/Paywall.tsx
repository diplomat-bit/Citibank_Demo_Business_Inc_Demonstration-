// components/Paywall.tsx
import React, { useState, useEffect, useMemo, useCallback } from 'react';
import Card from './Card';
import type { FeatureDetails } from '../types';

// --- Existing Icons (MUST NOT CHANGE OR REMOVE) ---
const ValueIcon: React.FC = () => <svg xmlns="http://www.w3.org/2000/svg" className="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v.01" /></svg>;
const LogicIcon: React.FC = () => <svg xmlns="http://www.w3.org/2000/svg" className="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M4.875 21l2.522-2.522m0 0a3.375 3.375 0 004.772-4.772 3.375 3.375 0 00-4.772 4.772zM19.125 5l-2.522 2.522m0 0a3.375 3.375 0 01-4.772-4.772 3.375 3.375 0 014.772 4.772zM12 12l2.522 2.522" /></svg>;
const KeyIcon: React.FC = () => <svg xmlns="http://www.w3.org/2000/svg" className="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M15 7a2 2 0 012 2m4 0a6 6 0 01-7.623 5.873M15 7A6 6 0 002.377 8.373M15 7a2 2 0 00-2-2H9a2 2 0 00-2 2" /></svg>;
const ScaleIcon: React.FC = () => <svg xmlns="http://www.w3.org/2000/svg" className="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 6l3 1m0 0l-3 9a5.002 5.002 0 006.002 0M6 7l3 9M6 7l6-2m6 2l3-1m-3 1l-3 9a5.002 5.002 0 006.002 0M18 7l3 9m-3-9l-6-2" /></svg>;
// --- END Existing Icons ---

// --- NEW ICONS for expanded features ---
export const TierIcon: React.FC = () => <svg xmlns="http://www.w3.org/2000/svg" className="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M11 4a2 2 0 114 0v1a1 1 0 001 1h3a1 1 0 011 1v3a1 1 0 01-1 1h-3a1 1 0 01-1-1v-1a2 2 0 11-4 0v1a1 1 0 01-1 1H7a1 1 0 01-1-1v-3a1 1 0 00-1-1H3a1 1 0 01-1-1V7a1 1 0 011-1h3a1 1 0 001-1V4z" /></svg>;
export const AIIcon: React.FC = () => <svg xmlns="http://www.w3.org/2000/svg" className="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M9 3v2m6-2v2M9 19v2m6-2v2M5 11h2m-2 2h2M17 11h2m-2 2h2M12 2V4M12 20V22M4 12H2m20 0h-2M12 6v-1m0 16v-1" /></svg>;
export const GlobeIcon: React.FC = () => <svg xmlns="http://www.w3.org/2000/svg" className="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M3 5h12M9 3v18m3-6l-3 2m0 0l-3-2m3 2v-6m-9 9V7m5 12a4 4 0 00-4-4H5m0 0l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-1-2h4m2 2l-