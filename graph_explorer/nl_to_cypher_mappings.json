[
  {
    "id": "1",
    "name": "Clients with specific product and loan criteria",
    "description": "Finds high-net-worth individual clients interacting with specific services, having specific accounts, and active loans meeting criteria within a timeframe.",
    "nl_patterns": [
      ".*high-net-worth individual clients.*interacted with our AI-powered investment advisory service.*opened an ESG account.*active loan with a balance over (\\$[\\d,.]+).*in the last (\\d+ (?:quarter|month|year)s?)",
      ".*HNW individuals with ESG accounts and large active loans.*"
    ],
    "cypher_template": "MATCH (client:Client)-[:HAS_ATTRIBUTE]->(hnw:Attribute {type: 'HighNetWorth'}), (client)-[:HAS_ATTRIBUTE]->(ind:Attribute {type: 'Individual'}), (client)-[:INTERACTED_WITH]->(:Service {name: 'AI-Powered Investment Advisory'}), (client)-[:OPENED]->(esg:Account {type: 'ESG'}), (client)-[:HAS]->(loan:Loan {status: 'Active'}) WHERE loan.balance > $min_loan_balance AND loan.opened_date >= date() - duration($time_duration_map_object) RETURN client.name, client.id, loan.balance",
    "required_params": ["min_loan_balance", "time_duration_map_object"],
    "entity_labels": ["Client", "Service", "Account", "Loan", "Attribute"],
    "relationship_types": ["HAS_ATTRIBUTE", "INTERACTED_WITH", "OPENED", "HAS"],
    "example_nl": "Show me all high-net-worth individual clients who have interacted with our AI-powered investment advisory service, have opened an ESG account, and have an active loan with a balance over $50,000 in the last quarter."
  },
  {
    "id": "2",
    "name": "Clients by account type",
    "description": "Retrieves clients associated with a specified account type.",
    "nl_patterns": [
      ".*clients with a (.*) account",
      ".*show me all (.*) accounts"
    ],
    "cypher_template": "MATCH (c:Client)-[:HAS_ACCOUNT]->(a:Account {type: $account_type}) RETURN c.name, a.account_number, a.type",
    "required_params": ["account_type"],
    "entity_labels": ["Client", "Account"],
    "relationship_types": ["HAS_ACCOUNT"],
    "example_nl": "List all clients with a 'Premium Checking' account."
  },
  {
    "id": "3",
    "name": "Transactions for a product in a timeframe",
    "description": "Finds transactions related to a specific product within a given time period.",
    "nl_patterns": [
      ".*transactions for (.*) in the last (\\d+ (?:day|week|month|year)s?)",
      ".*show me (.*) transactions from (.*)"
    ],
    "cypher_template": "MATCH (t:Transaction)-[:FOR_PRODUCT]->(p:Product {name: $product_name}) WHERE t.transaction_date >= date() - duration($time_duration_map_object) RETURN t.id, t.amount, t.transaction_date, p.name",
    "required_params": ["product_name", "time_duration_map_object"],
    "entity_labels": ["Transaction", "Product"],
    "relationship_types": ["FOR_PRODUCT"],
    "example_nl": "Show me transactions for 'Investment Fund X' in the last 6 months."
  },
  {
    "id": "4",
    "name": "Advisor for a client",
    "description": "Identifies the advisor assigned to a specific client.",
    "nl_patterns": [
      ".*who is the advisor for (.*)",
      ".*find the advisor of client (.*)"
    ],
    "cypher_template": "MATCH (c:Client {name: $client_name})-[:ADVISED_BY]->(a:Advisor) RETURN a.name, a.email",
    "required_params": ["client_name"],
    "entity_labels": ["Client", "Advisor"],
    "relationship_types": ["ADVISED_BY"],
    "example_nl": "Who is the advisor for 'Alice Smith'?"
  },
  {
    "id": "5",
    "name": "Potential Fraud Rings (Simplified)",
    "description": "A simplified query to identify suspicious connections, potentially indicating a fraud ring by looking for multiple indirect transactions between unrelated parties.",
    "nl_patterns": [
      ".*show potential fraud rings(?: with transactions over (\\$[\\d,.]+))?(?: within (\\d+ days?))?.*",
      ".*detect suspicious connections.*",
      ".*find unusual transaction networks.*"
    ],
    "cypher_template": "MATCH (p1:Person)-[t1:TRANSACTED_WITH]->(p_mid:Person)<-[t2:TRANSACTED_WITH]-(p2:Person) WHERE p1 <> p2 AND p1 <> p_mid AND p2 <> p_mid AND t1.amount > $min_transaction_amount AND t2.amount > $min_transaction_amount AND abs(duration.inDays(t1.transaction_date, t2.transaction_date).days) < $max_days_apart RETURN p1.name, p2.name, p_mid.name, t1, t2",
    "required_params": [],
    "optional_params": {
      "min_transaction_amount": {"default_value": 1000, "nl_group": 1, "type": "currency"},
      "max_days_apart": {"default_value": 30, "nl_group": 2, "type": "days_duration"}
    },
    "entity_labels": ["Person", "Transaction"],
    "relationship_types": ["TRANSACTED_WITH"],
    "example_nl": "Show me potential fraud rings with transactions over $500 within 15 days of each other."
  },
  {
    "id": "6",
    "name": "Clients with multiple products",
    "description": "Finds clients holding multiple specified financial products.",
    "nl_patterns": [
      ".*clients with (.*) and (.*) products",
      ".*find clients having (.*) and (.*)"
    ],
    "cypher_template": "MATCH (c:Client)-[:HAS_PRODUCT]->(p1:Product {name: $product1_name}), (c)-[:HAS_PRODUCT]->(p2:Product {name: $product2_name}) RETURN c.name, p1.name, p2.name",
    "required_params": ["product1_name", "product2_name"],
    "entity_labels": ["Client", "Product"],
    "relationship_types": ["HAS_PRODUCT"],
    "example_nl": "Show clients with 'Savings Account' and 'Credit Card' products."
  },
  {
    "id": "7",
    "name": "Events for a specific entity",
    "description": "Lists events associated with a given entity (e.g., client, product).",
    "nl_patterns": [
      ".*events for (.*)",
      ".*what happened with (.*)"
    ],
    "cypher_template": "MATCH (entity {name: $entity_name})-[:TRIGGERED_EVENT|EXPERIENCED_EVENT|RELATED_TO]->(event:Event) RETURN event.type, event.description, event.date",
    "required_params": ["entity_name"],
    "entity_labels": ["Event"],
    "relationship_types": ["TRIGGERED_EVENT", "EXPERIENCED_EVENT", "RELATED_TO"],
    "example_nl": "List all events for 'Acme Corp'."
  }
]