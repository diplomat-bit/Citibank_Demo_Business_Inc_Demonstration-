openapi: 3.0.3
info:
  title: "Demo Bank API: Quantum Multiverse Financial Projection - Gemini Edition"
  description: |
    Step into the **Quantum Multiverse**, where financial foresight transcends linear time. This API unleashes the unparalleled
    power of advanced probabilistic modeling, powered by the **Google Gemini AI**, to simulate divergent economic realities,
    explore countless 'what-if' scenarios, and identify optimal strategic pathways across branching timelines.
    
    Far beyond traditional forecasting, the Multiverse Financial Projection API allows users and institutional clients to:
    
    *   **Initiate & Manage Multiverse Simulations:** Define a baseline reality and project thousands of parallel futures.
    *   **Inject Dynamic Events:** Introduce market shifts, policy changes, black swan events, or personal financial decisions into any timeline.
    *   **Explore Reality Branches:** Navigate through diverging economic outcomes, understand causal links, and identify inflection points.
    *   **Optimize Strategic Timelines:** Leverage AI-driven insights to discover the most robust or highest-return strategies, regardless of future uncertainty.
    *   **Detect Temporal Anomalies:** Identify inconsistencies or paradoxes across realities, revealing hidden risks or opportunities.
    *   **Integrate Quantum Nexus Insights:** Receive cross-reality intelligence, guiding real-world decision-making with unprecedented clarity.
    
    This API is a strategic imperative for navigating an unpredictable world, providing an analytical edge that traditional finance can only dream of.
    It's an extension of the Quantum Core, designed for visionary leaders, hyper-sophisticated investors, and any entity seeking to engineer their financial destiny across the vast expanse of possible futures. Authenticated access requires both Demo Bank's robust OAuth2 framework and a dedicated Gemini AI API key, ensuring secure and high-performance interaction with our bleeding-edge computational finance engine.
servers:
  - url: "/"
tags:
  - name: "Multiverse Simulations Core"
    description: "Endpoints for initiating, managing, and overseeing high-level multiverse financial projection simulations."
  - name: "Reality Branching & Exploration"
    description: "Navigation and interaction with individual financial realities (timelines) within a broader multiverse simulation."
  - name: "Scenario & Event Definition"
    description: "Defining and injecting specific economic, market, or personal events into simulated realities."
  - name: "Strategic Optimization & Intervention"
    description: "Tools for evaluating and optimizing financial strategies across multiple realities and proposing AI-driven interventions."
  - name: "Cross-Reality Analytics & Insights (Quantum Nexus)"
    description: "Advanced AI-driven analysis across divergent realities to extract overarching trends, risks, and opportunities."
  - name: "Temporal Governance & Paradox Detection"
    description: "Ensuring consistency and identifying logical inconsistencies (paradoxes) within and across simulated timelines."
  - name: "Macro-Economic Multiverse Drivers"
    description: "Managing and simulating global macro-economic factors that influence financial realities."
  - name: "Personal Financial Trajectory Multiverse"
    description: "Personalized simulation and optimization of individual financial pathways across probable futures."
  - name: "Gemini Integration Management"
    description: "Endpoints specific to the configuration and monitoring of Google Gemini AI integration for multiverse computations."
paths:
  /gemini-multiverse/simulations:
    get:
      tags:
        - "Multiverse Simulations Core"
        - "Gemini Integration Management"
      summary: "List All Active Multiverse Simulations"
      description: |
        Retrieves a paginated list of all multiverse financial simulations currently active or recently completed
        for the authenticated user or organization. Each entry provides a high-level overview, including
        status, creation date, and the primary objective, allowing for quick oversight of ongoing predictive analytics.
        Leverages Gemini AI's tracking capabilities for simulation state management.
      operationId: "listMultiverseSimulations"
      security:
        - oAuth2Auth: [read:gemini_multiverse]
        - geminiApiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/Limit"
        - $ref: "#/components/parameters/Offset"
        - name: status
          in: query
          description: "Filter simulations by their current processing status."
          schema:
            type: string
            enum: [QUEUED, PROCESSING, PAUSED, COMPLETED, ERROR, CANCELLED]
            default: PROCESSING
        - name: objective
          in: query
          description: "Filter simulations by their primary financial objective."
          schema:
            type: string
            enum: [MAXIMIZE_GROWTH, MINIMIZE_RISK, OPTIMIZE_LIQUIDITY, ACHIEVE_GOAL]
      responses:
        "200":
          description: "A paginated list of multiverse simulations."
          content:
            application/json:
              schema:
                type: object
                properties:
                  limit: {type: integer, example: 50}
                  offset: {type: integer, example: 0}
                  total: {type: integer, example: 125}
                  data:
                    type: array
                    items:
                      $ref: "#/components/schemas/MultiverseSimulation"
        "400":
          $ref: "#/components/responses/BadRequestError"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "403":
          $ref: "#/components/responses/ForbiddenError"
    post:
      tags:
        - "Multiverse Simulations Core"
        - "Gemini Integration Management"
      summary: "Initiate a New Quantum Multiverse Financial Simulation"
      description: |
        Triggers the creation of a new, complex multiverse financial simulation. The request payload defines the
        initial baseline reality, the core financial objective, the simulation horizon, and the probabilistic
        parameters that will cause realities to branch. Gemini AI orchestrates the parallel computation
        of thousands of divergent timelines, exploring the full spectrum of potential financial futures
        based on initial conditions and stochastic events. This is the cornerstone operation for deep predictive analysis.
      operationId: "initiateMultiverseSimulation"
      security:
        - oAuth2Auth: [write:gemini_multiverse]
        - geminiApiKeyAuth: []
      requestBody:
        required: true
        description: "Configuration for the new multiverse simulation, including baseline, objective, and branching parameters."
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/MultiverseSimulationCreationRequest"
      responses:
        "201":
          description: "Multiverse simulation initiated successfully. Returns the ID and initial status."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/MultiverseSimulation"
        "400":
          $ref: "#/components/responses/BadRequestError"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "403":
          $ref: "#/components/responses/ForbiddenError"
        "429":
          $ref: "#/components/responses/TooManyRequestsError"
        "503":
          description: "Gemini AI computational resources are temporarily unavailable for new simulations."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /gemini-multiverse/simulations/{simulationId}:
    get:
      tags:
        - "Multiverse Simulations Core"
        - "Gemini Integration Management"
      summary: "Retrieve Detailed Status and Configuration of a Multiverse Simulation"
      description: |
        Fetches the complete current state, configuration parameters, and high-level progress indicators
        for a specific multiverse simulation identified by its unique ID. This includes information on
        active realities, resource utilization by Gemini, and any high-level AI-generated summaries
        of initial findings or emergent trends.
      operationId: "getMultiverseSimulationDetails"
      security:
        - oAuth2Auth: [read:gemini_multiverse]
        - geminiApiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/SimulationId"
      responses:
        "200":
          description: "Detailed information about the specified multiverse simulation."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/MultiverseSimulationDetailed"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "403":
          $ref: "#/components/responses/ForbiddenError"
        "404":
          $ref: "#/components/responses/NotFoundError"
    put:
      tags:
        - "Multiverse Simulations Core"
        - "Gemini Integration Management"
      summary: "Update Configuration Parameters for an Active Multiverse Simulation"
      description: |
        Allows for the dynamic modification of an active multiverse simulation's parameters, such as
        adjusting probabilistic thresholds, extending the simulation horizon, or modifying the AI's
        resource allocation strategy. This enables real-time steering of complex simulations based
        on early insights or changing analytical requirements. Note that major structural changes may
        trigger a partial recalculation by Gemini.
      operationId: "updateMultiverseSimulation"
      security:
        - oAuth2Auth: [write:gemini_multiverse]
        - geminiApiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/SimulationId"
      requestBody:
        required: true
        description: "Updated configuration parameters for the multiverse simulation."
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/MultiverseSimulationUpdateRequest"
      responses:
        "200":
          description: "Multiverse simulation configuration updated successfully."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/MultiverseSimulationDetailed"
        "400":
          $ref: "#/components/responses/BadRequestError"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "403":
          $ref: "#/components/responses/ForbiddenError"
        "404":
          $ref: "#/components/responses/NotFoundError"
        "409":
          $ref: "#/components/responses/ConflictError"
    delete:
      tags:
        - "Multiverse Simulations Core"
        - "Gemini Integration Management"
      summary: "Terminate and Delete a Multiverse Financial Simulation"
      description: |
        Irreversibly terminates an active or completed multiverse simulation and purges all associated
        data, including all branching realities, scenarios, and analytical results generated by Gemini.
        This action frees up computational resources and should be used with caution, as data cannot be recovered.
      operationId: "deleteMultiverseSimulation"
      security:
        - oAuth2Auth: [write:gemini_multiverse]
        - geminiApiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/SimulationId"
      responses:
        "204":
          description: "Multiverse simulation successfully terminated and deleted."
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "403":
          $ref: "#/components/responses/ForbiddenError"
        "404":
          $ref: "#/components/responses/NotFoundError"

  /gemini-multiverse/simulations/{simulationId}/pause:
    post:
      tags:
        - "Multiverse Simulations Core"
        - "Gemini Integration Management"
      summary: "Pause an Active Multiverse Simulation"
      description: |
        Temporarily suspends all ongoing computations and branching for a specified multiverse simulation.
        This allows for reviewing intermediate results, adjusting parameters, or conserving Gemini AI
        processing credits. The simulation can be resumed at any time from its paused state.
      operationId: "pauseMultiverseSimulation"
      security:
        - oAuth2Auth: [write:gemini_multiverse]
        - geminiApiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/SimulationId"
      responses:
        "200":
          description: "Multiverse simulation successfully paused."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/MultiverseSimulationStatus"
        "400":
          $ref: "#/components/responses/BadRequestError"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "403":
          $ref: "#/components/responses/ForbiddenError"
        "404":
          $ref: "#/components/responses/NotFoundError"
        "409":
          description: "Simulation is not in a state that can be paused (e.g., already paused or completed)."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /gemini-multiverse/simulations/{simulationId}/resume:
    post:
      tags:
        - "Multiverse Simulations Core"
        - "Gemini Integration Management"
      summary: "Resume a Paused Multiverse Simulation"
      description: |
        Restarts computations for a previously paused multiverse simulation, allowing Gemini AI to
        continue generating and analyzing branching realities from where it left off.
      operationId: "resumeMultiverseSimulation"
      security:
        - oAuth2Auth: [write:gemini_multiverse]
        - geminiApiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/SimulationId"
      responses:
        "200":
          description: "Multiverse simulation successfully resumed."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/MultiverseSimulationStatus"
        "400":
          $ref: "#/components/responses/BadRequestError"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "403":
          $ref: "#/components/responses/ForbiddenError"
        "404":
          $ref: "#/components/responses/NotFoundError"
        "409":
          description: "Simulation is not in a state that can be resumed (e.g., already active or completed)."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /gemini-multiverse/simulations/{simulationId}/realities:
    get:
      tags:
        - "Reality Branching & Exploration"
        - "Multiverse Simulations Core"
      summary: "List All Branching Realities within a Simulation"
      description: |
        Retrieves a high-level overview of all the distinct financial realities (timelines) that have
        branched off from the baseline within a specific multiverse simulation. This provides a map
        of the explored probabilistic futures, each represented by a unique `realityId`.
      operationId: "listSimulationRealities"
      security:
        - oAuth2Auth: [read:gemini_multiverse]
        - geminiApiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/SimulationId"
        - $ref: "#/components/parameters/Limit"
        - $ref: "#/components/parameters/Offset"
        - name: probabilityMin
          in: query
          description: "Filter realities by a minimum calculated probability of occurrence (0-1)."
          schema:
            type: number
            format: float
            minimum: 0
            maximum: 1
            default: 0
        - name: probabilityMax
          in: query
          description: "Filter realities by a maximum calculated probability of occurrence (0-1)."
          schema:
            type: number
            format: float
            minimum: 0
            maximum: 1
            default: 1
        - name: status
          in: query
          description: "Filter by reality status (e.g., ACTIVE, TERMINATED, OPTIMIZED)."
          schema:
            type: string
            enum: [ACTIVE, TERMINATED, OPTIMIZED, STABLE, DIVERGENT]
            default: ACTIVE
      responses:
        "200":
          description: "A paginated list of branching financial realities."
          content:
            application/json:
              schema:
                type: object
                properties:
                  limit: {type: integer, example: 50}
                  offset: {type: integer, example: 0}
                  total: {type: integer, example: 500}
                  data:
                    type: array
                    items:
                      $ref: "#/components/schemas/MultiverseReality"
        "400":
          $ref: "#/components/responses/BadRequestError"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "403":
          $ref: "#/components/responses/ForbiddenError"
        "404":
          $ref: "#/components/responses/NotFoundError"

  /gemini-multiverse/simulations/{simulationId}/realities/{realityId}:
    get:
      tags:
        - "Reality Branching & Exploration"
        - "Multiverse Simulations Core"
      summary: "Get Detailed Snapshot of a Specific Multiverse Reality"
      description: |
        Retrieves a comprehensive snapshot of a single, specific financial reality at its current temporal node
        within a given simulation. This includes its financial state, sequence of past events, AI-predicted
        future trajectory, and the calculated probability of this reality manifesting. It provides granular
        data for in-depth analysis of a particular timeline.
      operationId: "getMultiverseRealitySnapshot"
      security:
        - oAuth2Auth: [read:gemini_multiverse]
        - geminiApiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/SimulationId"
        - $ref: "#/components/parameters/RealityId"
        - name: temporalNodeId
          in: query
          description: "Optional. Retrieve the state of the reality at a specific historical temporal node."
          schema:
            type: string
            example: "node_2025-06-30"
      responses:
        "200":
          description: "Detailed state of the specified multiverse reality."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/MultiverseRealityState"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "403":
          $ref: "#/components/responses/ForbiddenError"
        "404":
          $ref: "#/components/responses/NotFoundError"
    put:
      tags:
        - "Reality Branching & Exploration"
        - "Strategic Optimization & Intervention"
      summary: "Modify Future Trajectory of a Multiverse Reality (Intervention)"
      description: |
        Allows for the 'intervention' into a specific simulated financial reality, modifying its future trajectory
        by injecting a new, user-defined event or adjusting existing parameters from a designated temporal node.
        This is crucial for strategic planning, enabling users to test the impact of their hypothetical
        decisions on a particular timeline. Gemini AI then recalculates the reality's path forward.
      operationId: "interveneInMultiverseReality"
      security:
        - oAuth2Auth: [write:gemini_multiverse]
        - geminiApiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/SimulationId"
        - $ref: "#/components/parameters/RealityId"
      requestBody:
        required: true
        description: "Details of the intervention, including the temporal node and the new event/parameters."
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RealityInterventionRequest"
      responses:
        "200":
          description: "Multiverse reality successfully re-simulated with the new intervention."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/MultiverseRealityState"
        "400":
          $ref: "#/components/responses/BadRequestError"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "403":
          $ref: "#/components/responses/ForbiddenError"
        "404":
          $ref: "#/components/responses/NotFoundError"
        "409":
          description: "Intervention conflict or reality is immutable."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"
    delete:
      tags:
        - "Reality Branching & Exploration"
        - "Temporal Governance & Paradox Detection"
      summary: "Terminate a Divergent Multiverse Reality"
      description: |
        Removes a specific, identified financial reality from an ongoing multiverse simulation. This can be
        useful for pruning improbable or irrelevant timelines, optimizing computational resources, or
        streamlining analysis focus. AI will ensure no critical causal links are disrupted unless explicitly
        overridden.
      operationId: "terminateMultiverseReality"
      security:
        - oAuth2Auth: [write:gemini_multiverse]
        - geminiApiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/SimulationId"
        - $ref: "#/components/parameters/RealityId"
      responses:
        "204":
          description: "Multiverse reality successfully terminated."
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "403":
          $ref: "#/components/responses/ForbiddenError"
        "404":
          $ref: "#/components/responses/NotFoundError"

  /gemini-multiverse/simulations/{simulationId}/realities/{realityId}/temporal-nodes:
    get:
      tags:
        - "Reality Branching & Exploration"
        - "Temporal Governance & Paradox Detection"
      summary: "List Key Temporal Nodes within a Reality"
      description: |
        Retrieves a chronological list of significant 'temporal nodes' (checkpoints or major event occurrences)
        within a specific simulated reality. These nodes represent moments of high change, branching potential,
        or user-defined interest, enabling efficient navigation and analysis of the reality's history.
      operationId: "listRealityTemporalNodes"
      security:
        - oAuth2Auth: [read:gemini_multiverse]
        - geminiApiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/SimulationId"
        - $ref: "#/components/parameters/RealityId"
        - name: eventType
          in: query
          description: "Filter temporal nodes by the type of event that occurred."
          schema:
            type: string
            enum: [MARKET_SHOCK, POLICY_CHANGE, PERSONAL_MILESTONE, BLACK_SWAN]
        - $ref: "#/components/parameters/StartDate"
        - $ref: "#/components/parameters/EndDate"
      responses:
        "200":
          description: "A list of key temporal nodes for the reality."
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/TemporalNode"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "403":
          $ref: "#/components/responses/ForbiddenError"
        "404":
          $ref: "#/components/responses/NotFoundError"

  /gemini-multiverse/simulations/{simulationId}/scenarios:
    get:
      tags:
        - "Scenario & Event Definition"
        - "Multiverse Simulations Core"
      summary: "List All Defined Scenarios for a Simulation"
      description: |
        Retrieves a list of all pre-defined or AI-generated scenarios associated with a multiverse simulation.
        These scenarios outline initial conditions, event sequences, and probabilistic branches that
        guide the simulation's exploration of futures.
      operationId: "listSimulationScenarios"
      security:
        - oAuth2Auth: [read:gemini_multiverse]
        - geminiApiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/SimulationId"
        - $ref: "#/components/parameters/Limit"
        - $ref: "#/components/parameters/Offset"
      responses:
        "200":
          description: "A paginated list of defined scenarios."
          content:
            application/json:
              schema:
                type: object
                properties:
                  limit: {type: integer, example: 50}
                  offset: {type: integer, example: 0}
                  total: {type: integer, example: 20}
                  data:
                    type: array
                    items:
                      $ref: "#/components/schemas/SimulationScenario"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "403":
          $ref: "#/components/responses/ForbiddenError"
        "404":
          $ref: "#/components/responses/NotFoundError"
    post:
      tags:
        - "Scenario & Event Definition"
        - "Multiverse Simulations Core"
      summary: "Define a New Probabilistic Scenario for a Simulation"
      description: |
        Adds a new, potentially complex scenario definition to an existing multiverse simulation. This
        scenario can dictate a sequence of events, specific market conditions, or introduce new probabilistic
        branching points for Gemini AI to explore, expanding the diversity of simulated realities.
      operationId: "createSimulationScenario"
      security:
        - oAuth2Auth: [write:gemini_multiverse]
        - geminiApiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/SimulationId"
      requestBody:
        required: true
        description: "The definition of the new probabilistic scenario."
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SimulationScenarioCreationRequest"
      responses:
        "201":
          description: "New scenario successfully added to the simulation."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SimulationScenario"
        "400":
          $ref: "#/components/responses/BadRequestError"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "403":
          $ref: "#/components/responses/ForbiddenError"
        "404":
          $ref: "#/components/responses/NotFoundError"
        "409":
          $ref: "#/components/responses/ConflictError"

  /gemini-multiverse/simulations/{simulationId}/scenarios/{scenarioId}:
    get:
      tags:
        - "Scenario & Event Definition"
        - "Multiverse Simulations Core"
      summary: "Retrieve Details of a Specific Scenario"
      description: "Retrieves the full configuration and event definitions for a single scenario within a multiverse simulation."
      operationId: "getSimulationScenarioDetails"
      security:
        - oAuth2Auth: [read:gemini_multiverse]
        - geminiApiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/SimulationId"
        - $ref: "#/components/parameters/ScenarioId"
      responses:
        "200":
          description: "Detailed information about the specified scenario."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SimulationScenario"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "403":
          $ref: "#/components/responses/ForbiddenError"
        "404":
          $ref: "#/components/responses/NotFoundError"
    put:
      tags:
        - "Scenario & Event Definition"
        - "Multiverse Simulations Core"
      summary: "Update an Existing Simulation Scenario"
      description: |
        Modifies the definition of an existing scenario. Updating a scenario can trigger re-simulation
        of affected realities by Gemini AI to incorporate the changes.
      operationId: "updateSimulationScenario"
      security:
        - oAuth2Auth: [write:gemini_multiverse]
        - geminiApiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/SimulationId"
        - $ref: "#/components/parameters/ScenarioId"
      requestBody:
        required: true
        description: "The updated scenario definition."
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SimulationScenarioUpdateRequest"
      responses:
        "200":
          description: "Scenario updated successfully."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SimulationScenario"
        "400":
          $ref: "#/components/responses/BadRequestError"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "403":
          $ref: "#/components/responses/ForbiddenError"
        "404":
          $ref: "#/components/responses/NotFoundError"
    delete:
      tags:
        - "Scenario & Event Definition"
        - "Multiverse Simulations Core"
      summary: "Remove a Scenario from a Simulation"
      description: |
        Deletes a specific scenario, potentially removing all realities that were exclusively generated
        by this scenario. This action is irreversible and affects the branching structure of the multiverse.
      operationId: "deleteSimulationScenario"
      security:
        - oAuth2Auth: [write:gemini_multiverse]
        - geminiApiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/SimulationId"
        - $ref: "#/components/parameters/ScenarioId"
      responses:
        "204":
          description: "Scenario deleted successfully."
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "403":
          $ref: "#/components/responses/ForbiddenError"
        "404":
          $ref: "#/components/responses/NotFoundError"

  /gemini-multiverse/simulations/{simulationId}/optimal-pathways:
    get:
      tags:
        - "Strategic Optimization & Intervention"
        - "Cross-Reality Analytics & Insights (Quantum Nexus)"
      summary: "Discover Optimal Strategic Pathways Across Realities"
      description: |
        Triggers an AI-driven analysis across all simulated realities within a multiverse simulation to
        identify 'optimal strategic pathways.' These pathways represent sequences of interventions
        (e.g., investment decisions, policy changes) that consistently lead to the best outcomes
        based on the simulation's objective, even under varying probabilistic futures. Gemini's
        cross-reality intelligence pinpoints the most robust and adaptive strategies.
      operationId: "getOptimalStrategicPathways"
      security:
        - oAuth2Auth: [read:gemini_multiverse]
        - geminiApiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/SimulationId"
        - name: optimizationGoal
          in: query
          description: "The primary objective for pathway optimization."
          schema:
            type: string
            enum: [MAXIMIZE_NET_WORTH, MINIMIZE_LIQUIDITY_RISK, OPTIMIZE_ROI, ACHIEVE_SPECIFIC_GOAL]
            default: MAXIMIZE_NET_WORTH
        - name: confidenceThreshold
          in: query
          description: "Minimum confidence score (0-1) for pathways to be considered optimal."
          schema:
            type: number
            format: float
            minimum: 0
            maximum: 1
            default: 0.75
      responses:
        "200":
          description: "A list of AI-identified optimal strategic pathways."
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/OptimalPathway"
        "400":
          $ref: "#/components/responses/BadRequestError"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "403":
          $ref: "#/components/responses/ForbiddenError"
        "404":
          $ref: "#/components/responses/NotFoundError"
        "503":
          description: "AI optimization engine temporarily unavailable."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /gemini-multiverse/simulations/{simulationId}/intervention-strategies:
    post:
      tags:
        - "Strategic Optimization & Intervention"
      summary: "Propose a New AI-Driven Intervention Strategy"
      description: |
        Submits a proposal for an AI-generated intervention strategy to be evaluated across a multiverse
        simulation. The strategy specifies actions (e.g., invest $X, divest Y, change policy Z) and
        the conditions under which they should be applied. Gemini AI then simulates the impact of this
        strategy across all realities to assess its efficacy and robustness.
      operationId: "proposeInterventionStrategy"
      security:
        - oAuth2Auth: [write:gemini_multiverse]
        - geminiApiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/SimulationId"
      requestBody:
        required: true
        description: "The proposed AI-driven intervention strategy."
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/InterventionStrategyProposal"
      responses:
        "202":
          description: "Intervention strategy proposed and evaluation initiated. Returns the strategy ID."
          content:
            application/json:
              schema:
                type: object
                properties:
                  strategyId:
                    type: string
                    example: "strat_opt_growth_001"
                  status:
                    type: string
                    enum: [EVALUATING, ACCEPTED, REJECTED]
                    example: "EVALUATING"
        "400":
          $ref: "#/components/responses/BadRequestError"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "403":
          $ref: "#/components/responses/ForbiddenError"
        "404":
          $ref: "#/components/responses/NotFoundError"

  /gemini-multiverse/simulations/{simulationId}/intervention-strategies/{strategyId}/evaluation:
    get:
      tags:
        - "Strategic Optimization & Intervention"
        - "Cross-Reality Analytics & Insights (Quantum Nexus)"
      summary: "Retrieve AI Evaluation Results for an Intervention Strategy"
      description: |
        Fetches the detailed results of how a proposed intervention strategy performed across the
        multiverse simulation. This includes its average impact on the objective, its robustness
        across various realities, and any potential unintended consequences identified by Gemini AI.
      operationId: "getInterventionStrategyEvaluation"
      security:
        - oAuth2Auth: [read:gemini_multiverse]
        - geminiApiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/SimulationId"
        - $ref: "#/components/parameters/StrategyId"
      responses:
        "200":
          description: "Detailed evaluation of the intervention strategy."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/InterventionStrategyEvaluation"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "403":
          $ref: "#/components/responses/ForbiddenError"
        "404":
          $ref: "#/components/responses/NotFoundError"
        "409":
          description: "Evaluation is still in progress."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /gemini-multiverse/simulations/{simulationId}/quantum-nexus-insights:
    get:
      tags:
        - "Cross-Reality Analytics & Insights (Quantum Nexus)"
      summary: "Generate Cross-Reality AI Insights and Anomalies"
      description: |
        Initiates a deep analysis by the Quantum Nexus, leveraging Gemini AI to identify overarching
        trends, emergent properties, critical vulnerabilities, and predictive anomalies that span
        across all divergent realities within a multiverse simulation. These insights are not visible
        within a single timeline but become apparent only through cross-reality comparison, providing
        a higher-dimensional understanding of financial dynamics.
      operationId: "generateQuantumNexusInsights"
      security:
        - oAuth2Auth: [read:gemini_multiverse]
        - geminiApiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/SimulationId"
        - name: insightType
          in: query
          description: "Filter insights by a specific type (e.g., Risk, Opportunity, Anomaly)."
          schema:
            type: string
            enum: [RISK_TREND, OPPORTUNITY_PATTERN, PREDICTIVE_ANOMALY, CAUSAL_RELATIONSHIP]
        - name: severityMin
          in: query
          description: "Minimum severity for anomalies/insights (0-1)."
          schema:
            type: number
            format: float
            minimum: 0
            maximum: 1
            default: 0.5
      responses:
        "200":
          description: "A list of high-level, cross-reality AI insights and anomalies."
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/QuantumNexusInsight"
        "400":
          $ref: "#/components/responses/BadRequestError"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "403":
          $ref: "#/components/responses/ForbiddenError"
        "404":
          $ref: "#/components/responses/NotFoundError"
        "503":
          description: "Quantum Nexus computation engine is currently overloaded."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /gemini-multiverse/simulations/{simulationId}/paradox-detection:
    get:
      tags:
        - "Temporal Governance & Paradox Detection"
      summary: "Detect Temporal Paradoxes within Multiverse Realities"
      description: |
        Activates Gemini AI's advanced paradox detection engine to scan all realities within a simulation
        for logical inconsistencies, contradictions, or violations of causal integrity that might arise
        from complex branching, interventions, or data anomalies. Identifying and resolving these paradoxes
        is critical for maintaining the reliability and predictive power of the multiverse model.
      operationId: "detectTemporalParadoxes"
      security:
        - oAuth2Auth: [read:gemini_multiverse]
        - geminiApiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/SimulationId"
        - name: autoResolve
          in: query
          description: "If true, AI will attempt to automatically resolve detected minor paradoxes."
          schema:
            type: boolean
            default: false
      responses:
        "200":
          description: "A list of detected temporal paradoxes, if any."
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/TemporalParadox"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "403":
          $ref: "#/components/responses/ForbiddenError"
        "404":
          $ref: "#/components/responses/NotFoundError"
        "500":
          description: "Error during paradox detection computation."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /gemini-multiverse/macro-economic-drivers:
    get:
      tags:
        - "Macro-Economic Multiverse Drivers"
      summary: "List All Available Macro-Economic Drivers for Simulation"
      description: |
        Retrieves a catalog of all supported global macro-economic drivers (e.g., interest rate policies,
        commodity price fluctuations, geopolitical events) that can be incorporated into multiverse
        simulations. Each driver has configurable parameters and probabilistic distributions.
      operationId: "listMacroEconomicDrivers"
      security:
        - oAuth2Auth: [read:gemini_multiverse]
        - geminiApiKeyAuth: []
      parameters:
        - name: category
          in: query
          description: "Filter drivers by category (e.g., 'Monetary', 'Geopolitical', 'Market')."
          schema:
            type: string
            enum: [MONETARY, FISCAL, GEOPOLITICAL, TECHNOLOGICAL, MARKET]
        - name: impactSeverity
          in: query
          description: "Filter drivers by their default impact severity (0-1)."
          schema:
            type: number
            format: float
            minimum: 0
            maximum: 1
      responses:
        "200":
          description: "A list of available macro-economic drivers."
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/MacroEconomicDriver"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "403":
          $ref: "#/components/responses/ForbiddenError"

  /gemini-multiverse/macro-economic-drivers/{driverId}/simulate-impact:
    post:
      tags:
        - "Macro-Economic Multiverse Drivers"
        - "Multiverse Simulations Core"
      summary: "Simulate Isolated Impact of a Macro-Economic Driver"
      description: |
        Runs a focused, mini-multiverse simulation to isolate and analyze the specific impact of a
        single macro-economic driver on a baseline financial reality. This helps understand the driver's
        sensitivity and its potential to cause branching.
      operationId: "simulateMacroDriverImpact"
      security:
        - oAuth2Auth: [write:gemini_multiverse]
        - geminiApiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/DriverId"
      requestBody:
        required: true
        description: "Parameters for the isolated simulation, including driver intensity and duration."
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/MacroDriverImpactSimulationRequest"
      responses:
        "202":
          description: "Impact simulation initiated. Returns a temporary simulation ID."
          content:
            application/json:
              schema:
                type: object
                properties:
                  temporarySimulationId: {type: string, example: "temp_sim_macro_rates_001"}
                  status: {type: string, example: "PROCESSING"}
        "400":
          $ref: "#/components/responses/BadRequestError"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "403":
          $ref: "#/components/responses/ForbiddenError"
        "404":
          $ref: "#/components/responses/NotFoundError"

  /gemini-multiverse/personal-trajectories:
    get:
      tags:
        - "Personal Financial Trajectory Multiverse"
      summary: "List All Personal Multiverse Trajectory Simulations"
      description: |
        Retrieves a list of all personal financial multiverse simulations initiated by the user.
        These simulations project an individual's financial future across probabilistic realities,
        factoring in personal decisions, career changes, and life events.
      operationId: "listPersonalTrajectories"
      security:
        - oAuth2Auth: [read:gemini_multiverse]
        - geminiApiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/Limit"
        - $ref: "#/components/parameters/Offset"
        - name: financialGoalId
          in: query
          description: "Filter trajectories related to a specific financial goal."
          schema:
            type: string
            example: "goal_retirement_2050"
      responses:
        "200":
          description: "A paginated list of personal financial trajectories."
          content:
            application/json:
              schema:
                type: object
                properties:
                  limit: {type: integer, example: 50}
                  offset: {type: integer, example: 0}
                  total: {type: integer, example: 10}
                  data:
                    type: array
                    items:
                      $ref: "#/components/schemas/PersonalFinancialTrajectory"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "403":
          $ref: "#/components/responses/ForbiddenError"
    post:
      tags:
        - "Personal Financial Trajectory Multiverse"
      summary: "Initiate a New Personal Financial Trajectory Simulation"
      description: |
        Creates a new multiverse simulation specifically tailored to the authenticated user's personal
        financial situation. It uses historical financial data, defined goals, and potential future life events
        to project divergent personal financial realities, offering insights into optimal life choices.
      operationId: "createPersonalTrajectory"
      security:
        - oAuth2Auth: [write:gemini_multiverse]
        - geminiApiKeyAuth: []
      requestBody:
        required: true
        description: "Configuration for the personal trajectory simulation, including initial conditions and life events."
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PersonalFinancialTrajectoryCreationRequest"
      responses:
        "201":
          description: "Personal trajectory simulation initiated."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PersonalFinancialTrajectory"
        "400":
          $ref: "#/components/responses/BadRequestError"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "403":
          $ref: "#/components/responses/ForbiddenError"

  /gemini-multiverse/personal-trajectories/{trajectoryId}/optimal-life-path:
    get:
      tags:
        - "Personal Financial Trajectory Multiverse"
        - "Strategic Optimization & Intervention"
      summary: "Determine Optimal Personal Life Path for Financial Goals"
      description: |
        Analyzes all simulated personal financial realities within a specific trajectory simulation
        to identify the 'optimal life path.' This AI-driven analysis by Gemini considers a balance of
        financial gain, risk tolerance, and quality of life metrics to suggest a sequence of personal
        and financial decisions that most effectively achieve long-term goals.
      operationId: "getOptimalPersonalLifePath"
      security:
        - oAuth2Auth: [read:gemini_multiverse]
        - geminiApiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/TrajectoryId"
        - name: primaryObjective
          in: query
          description: "The primary objective for optimizing the personal life path."
          schema:
            type: string
            enum: [MAXIMIZE_RETIREMENT, MINIMIZE_DEBT, OPTIMIZE_WORK_LIFE_BALANCE, EARLY_RETIREMENT]
            default: MAXIMIZE_RETIREMENT
      responses:
        "200":
          description: "The AI-identified optimal personal life path."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/OptimalPersonalLifePath"
        "400":
          $ref: "#/components/responses/BadRequestError"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "403":
          $ref: "#/components/responses/ForbiddenError"
        "404":
          $ref: "#/components/responses/NotFoundError"

  /gemini-multiverse/simulation-reports:
    post:
      tags:
        - "Cross-Reality Analytics & Insights (Quantum Nexus)"
        - "Multiverse Simulations Core"
      summary: "Generate a Comprehensive Multiverse Simulation Report"
      description: |
        Requests a detailed, AI-generated report summarizing the key findings, insights, and comparative
        analysis from a completed or active multiverse simulation. The report can include cross-reality
        comparisons, risk assessments, opportunity analyses, and strategic recommendations, all synthesized
        by Gemini for human consumption. This is an asynchronous operation.
      operationId: "generateMultiverseReport"
      security:
        - oAuth2Auth: [read:gemini_multiverse]
        - geminiApiKeyAuth: []
      requestBody:
        required: true
        description: "Parameters for generating the comprehensive simulation report."
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/MultiverseReportRequest"
      responses:
        "202":
          description: "Report generation initiated. Returns an operation ID."
          content:
            application/json:
              schema:
                type: object
                properties:
                  operationId:
                    type: string
                    example: "report_op_multiverse_xyz123"
                  estimatedCompletionTimeSeconds:
                    type: integer
                    example: 600
        "400":
          $ref: "#/components/responses/BadRequestError"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "403":
          $ref: "#/components/responses/ForbiddenError"

  /gemini-multiverse/simulation-reports/{operationId}:
    get:
      tags:
        - "Cross-Reality Analytics & Insights (Quantum Nexus)"
      summary: "Retrieve Status and Download Link for Multiverse Report"
      description: |
        Polls the status of an ongoing multiverse simulation report generation. Once complete,
        it provides a temporary, signed URL to download the generated report in the specified format.
      operationId: "getMultiverseReportStatus"
      security:
        - oAuth2Auth: [read:gemini_multiverse]
        - geminiApiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/OperationId"
      responses:
        "200":
          description: "Status of the report generation and download link if completed."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/MultiverseReportStatus"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "403":
          $ref: "#/components/responses/ForbiddenError"
        "404":
          $ref: "#/components/responses/NotFoundError"

  /gemini-multiverse/config/gemini-keys:
    get:
      tags:
        - "Gemini Integration Management"
      summary: "Retrieve Gemini API Key Configuration Status"
      description: |
        Retrieves the current status of the Google Gemini API key configured for the Demo Bank's
        multiverse financial projection service. This endpoint does not expose the raw key but
        confirms its validity, usage limits, and last successful authentication.
      operationId: "getGeminiApiKeyStatus"
      security:
        - oAuth2Auth: [read:gemini_integration]
        - geminiApiKeyAuth: []
      responses:
        "200":
          description: "Status of the Gemini API key configuration."
          content:
            application/json:
              schema:
                type: object
                properties:
                  configured:
                    type: boolean
                    example: true
                    description: "True if a Gemini API key is configured."
                  valid:
                    type: boolean
                    example: true
                    description: "True if the configured key is currently valid and active."
                  lastValidated:
                    type: string
                    format: date-time
                    nullable: true
                    example: "2024-07-21T18:00:00Z"
                    description: "Timestamp of the last successful validation of the key."
                  usageMetricsLink:
                    type: string
                    format: uri
                    nullable: true
                    example: "https://console.cloud.google.com/gemini/usage?project=demobank-quantum"
                    description: "Link to Google Cloud Console for Gemini API usage metrics."
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "403":
          $ref: "#/components/responses/ForbiddenError"

  /gemini-multiverse/config/gemini-keys/update:
    post:
      tags:
        - "Gemini Integration Management"
      summary: "Update or Configure Google Gemini API Key"
      description: |
        Allows administrators to update or initially configure the Google Gemini API key used by
        the Multiverse Financial Projection service. This is a critical security operation and
        requires appropriate administrative privileges. The new key will be validated upon submission.
      operationId: "updateGeminiApiKey"
      security:
        - oAuth2Auth: [write:gemini_integration]
        - geminiApiKeyAuth: []
      requestBody:
        required: true
        description: "The new Google Gemini API key to configure."
        content:
          application/json:
            schema:
              type: object
              required:
                - apiKey
              properties:
                apiKey:
                  type: string
                  example: "AIzaSyC0L0K0S0Q0T0W0Y0Z0e0g0i0k0m0o0q0s0u0w0y0z0"
                  description: "The Google Gemini API key (should be securely transmitted)."
                description:
                  type: string
                  nullable: true
                  example: "Key for production multiverse simulations."
      responses:
        "200":
          description: "Gemini API key updated and validated successfully."
          content:
            application/json:
              schema:
                type: object
                properties:
                  message: {type: string, example: "Gemini API key successfully configured and validated."}
                  status: {type: string, example: "ACTIVE"}
        "400":
          $ref: "#/components/responses/BadRequestError"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "403":
          $ref: "#/components/responses/ForbiddenError"
        "406":
          description: "The provided Gemini API key is invalid or unauthorized."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /gemini-multiverse/realities/{realityId}/temporal-jump:
    post:
      tags:
        - "Reality Branching & Exploration"
      summary: "Execute a Quantum Temporal Jump within a Simulated Reality"
      description: |
        Initiates an instantaneous 'quantum temporal jump' within a specific simulated financial reality,
        allowing the observer to fast-forward or rewind to a critical future or past inflection point
        without simulating intermediate steps. This leverages Gemini's temporal predictive capabilities
        to identify key deterministic or stochastic events and efficiently explore their consequences.
        This operation is computationally intensive and should be used strategically to pinpoint
        high-impact moments. It can reveal hidden dependencies and accelerate the discovery of
        optimal strategic pathways across divergent timelines.
      operationId: "executeQuantumTemporalJump"
      security:
        - oAuth2Auth: [interact:gemini_multiverse]
        - geminiApiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/RealityId"
      requestBody:
        required: true
        description: "Parameters for the temporal jump, specifying the target date or event."
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/TemporalJumpRequest"
      responses:
        "200":
          description: "Temporal jump successfully executed. Returns the state of the reality at the target point."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/MultiverseRealityState"
        "400":
          $ref: "#/components/responses/BadRequestError"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "403":
          $ref: "#/components/responses/ForbiddenError"
        "500":
          description: "Internal Server Error during quantum temporal jump computation."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /gemini-multiverse/realities/{realityId}/branch:
    post:
      tags:
        - "Reality Branching & Exploration"
      summary: "Manually Force a New Branch in a Multiverse Reality"
      description: |
        Explicitly forces a new, alternative branch to emerge from a specific temporal node within
        an existing simulated reality. This allows users to test highly improbable or specific
        deviations from an AI's predicted trajectory, creating a 'what-if' within a 'what-if'.
        The new branch will then be simulated by Gemini AI as an independent reality.
      operationId: "forceRealityBranch"
      security:
        - oAuth2Auth: [write:gemini_multiverse]
        - geminiApiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/RealityId"
      requestBody:
        required: true
        description: "Details for the new branch, including the temporal node and the divergent event."
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ForceBranchRequest"
      responses:
        "201":
          description: "New reality branch successfully created."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/MultiverseReality"
        "400":
          $ref: "#/components/responses/BadRequestError"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "403":
          $ref: "#/components/responses/ForbiddenError"
        "404":
          $ref: "#/components/responses/NotFoundError"

  /gemini-multiverse/realities/{realityId}/merge-candidates:
    get:
      tags:
        - "Reality Branching & Exploration"
        - "Temporal Governance & Paradox Detection"
      summary: "Identify Candidate Realities for Merging"
      description: |
        Utilizes Gemini AI to analyze a specific reality and identify other highly similar or converging
        realities within the same multiverse simulation that could potentially be merged. Merging
        similar realities can optimize computational resources and streamline analytical focus,
        especially when minor probabilistic deviations prove insignificant.
      operationId: "identifyRealityMergeCandidates"
      security:
        - oAuth2Auth: [read:gemini_multiverse]
        - geminiApiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/RealityId"
        - name: similarityThreshold
          in: query
          description: "Minimum similarity score (0-1) for a reality to be considered a merge candidate."
          schema:
            type: number
            format: float
            minimum: 0
            maximum: 1
            default: 0.9
      responses:
        "200":
          description: "A list of realities identified as merge candidates."
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/RealityMergeCandidate"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "403":
          $ref: "#/components/responses/ForbiddenError"
        "404":
          $ref: "#/components/responses/NotFoundError"

  /gemini-multiverse/realities/{realityId}/merge:
    post:
      tags:
        - "Reality Branching & Exploration"
        - "Temporal Governance & Paradox Detection"
      summary: "Merge Multiple Realities into One Converged Timeline"
      description: |
        Executes a 'reality merge' operation, combining a set of identified realities into a single,
        converged timeline. Gemini AI intelligently synthesizes the financial states and event histories
        of the merged realities, removing redundancy and creating a consolidated, high-probability outcome.
        This is particularly useful after identifying very similar probabilistic futures.
      operationId: "mergeRealities"
      security:
        - oAuth2Auth: [write:gemini_multiverse]
        - geminiApiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/RealityId"
      requestBody:
        required: true
        description: "List of reality IDs to merge into the primary reality."
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RealityMergeRequest"
      responses:
        "200":
          description: "Realities successfully merged. Returns the updated primary reality."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/MultiverseRealityState"
        "400":
          $ref: "#/components/responses/BadRequestError"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "403":
          $ref: "#/components/responses/ForbiddenError"
        "404":
          $ref: "#/components/responses/NotFoundError"
        "409":
          description: "Merge conflict detected (realities too divergent to merge)."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /gemini-multiverse/realities/{realityId}/time-dilation:
    put:
      tags:
        - "Reality Branching & Exploration"
        - "Temporal Governance & Paradox Detection"
      summary: "Adjust Simulation Speed for a Specific Reality"
      description: |
        Applies 'time dilation' to a specific reality, accelerating or decelerating its simulated progression
        without affecting other branches. This allows for focused, rapid exploration of certain timelines
        or granular, slow-motion analysis of critical events in others, optimizing computational resource allocation.
      operationId: "adjustRealityTimeDilation"
      security:
        - oAuth2Auth: [write:gemini_multiverse]
        - geminiApiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/RealityId"
      requestBody:
        required: true
        description: "Factor by which to dilate time (e.g., 2 for double speed, 0.5 for half speed)."
        content:
          application/json:
            schema:
              type: object
              required:
                - dilationFactor
              properties:
                dilationFactor:
                  type: number
                  format: float
                  minimum: 0.1
                  maximum: 10.0
                  example: 2.5
                  description: "Factor by which to multiply the simulation speed for this reality."
      responses:
        "200":
          description: "Time dilation applied to the reality. Returns updated reality state."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/MultiverseRealityState"
        "400":
          $ref: "#/components/responses/BadRequestError"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "403":
          $ref: "#/components/responses/ForbiddenError"
        "404":
          $ref: "#/components/responses/NotFoundError"

  /gemini-multiverse/temporal-event-templates:
    get:
      tags:
        - "Scenario & Event Definition"
      summary: "List Pre-defined Temporal Event Templates"
      description: |
        Retrieves a catalog of all standardized temporal event templates (e.g., "Mild Recession",
        "Tech Boom", "Sudden Policy Shift") that can be readily injected into scenarios or realities.
        These templates provide pre-configured parameters for common financial and economic events.
      operationId: "listTemporalEventTemplates"
      security:
        - oAuth2Auth: [read:gemini_multiverse]
        - geminiApiKeyAuth: []
      parameters:
        - name: category
          in: query
          description: "Filter event templates by their primary category."
          schema:
            type: string
            enum: [MARKET, REGULATORY, GEOPOLITICAL, TECHNOLOGICAL, PERSONAL]
        - name: severityLevel
          in: query
          description: "Filter by severity (0-1)."
          schema:
            type: number
            format: float
            minimum: 0
            maximum: 1
      responses:
        "200":
          description: "A list of available temporal event templates."
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/TemporalEventTemplate"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "403":
          $ref: "#/components/responses/ForbiddenError"

  /gemini-multiverse/temporal-event-templates/{templateId}:
    post:
      tags:
        - "Scenario & Event Definition"
      summary: "Create a Custom Temporal Event Template"
      description: |
        Allows users to define and save their own custom temporal event templates, specifying parameters
        like impact on specific asset classes, duration, and probability distribution. These custom
        templates can then be reused across multiple simulations.
      operationId: "createCustomTemporalEventTemplate"
      security:
        - oAuth2Auth: [write:gemini_multiverse]
        - geminiApiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/TemplateId"
      requestBody:
        required: true
        description: "The definition of the new custom temporal event template."
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/TemporalEventTemplateCreationRequest"
      responses:
        "201":
          description: "Custom temporal event template created successfully."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TemporalEventTemplate"
        "400":
          $ref: "#/components/responses/BadRequestError"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "403":
          $ref: "#/components/responses/ForbiddenError"
        "409":
          $ref: "#/components/responses/ConflictError"

  /gemini-multiverse/simulations/{simulationId}/predictive-anomalies:
    get:
      tags:
        - "Cross-Reality Analytics & Insights (Quantum Nexus)"
        - "Temporal Governance & Paradox Detection"
      summary: "Detect Predictive Anomalies Across Multiverse Realities"
      description: |
        Engages Gemini AI to scan for 'predictive anomalies'  events or trends that appear highly
        probable in one set of realities but are conspicuously absent or reversed in other, logically
        connected realities. This indicates potential hidden variables, overlooked causal factors,
        or unique opportunities/risks.
      operationId: "detectPredictiveAnomalies"
      security:
        - oAuth2Auth: [read:gemini_multiverse]
        - geminiApiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/SimulationId"
        - name: divergenceThreshold
          in: query
          description: "Minimum divergence score (0-1) for an anomaly to be reported."
          schema:
            type: number
            format: float
            minimum: 0
            maximum: 1
            default: 0.8
      responses:
        "200":
          description: "A list of detected predictive anomalies."
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/PredictiveAnomaly"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "403":
          $ref: "#/components/responses/ForbiddenError"
        "404":
          $ref: "#/components/responses/NotFoundError"

  /gemini-multiverse/simulations/{simulationId}/causal-links:
    get:
      tags:
        - "Cross-Reality Analytics & Insights (Quantum Nexus)"
      summary: "Analyze Causal Links and Event Dependencies Across Realities"
      description: |
        Performs a deep AI analysis to map the intricate web of 'causal links' between events and their
        subsequent outcomes across multiple divergent realities. This helps in understanding which initial
        conditions or interventions have the most significant and consistent ripple effects, enhancing
        strategic decision-making.
      operationId: "analyzeCausalLinks"
      security:
        - oAuth2Auth: [read:gemini_multiverse]
        - geminiApiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/SimulationId"
        - name: minimumImpactScore
          in: query
          description: "Only return causal links with an impact score above this threshold (0-1)."
          schema:
            type: number
            format: float
            minimum: 0
            maximum: 1
            default: 0.6
        - name: eventTypeFilter
          in: query
          description: "Filter causal links related to a specific type of event."
          schema:
            type: string
            enum: [MARKET_SHOCK, POLICY_CHANGE, PERSONAL_MILESTONE, BLACK_SWAN, FINANCIAL_DECISION]
      responses:
        "200":
          description: "A graph or list of identified causal links."
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: "#/components/schemas/CausalLink"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "403":
          $ref: "#/components/responses/ForbiddenError"
        "404":
          $ref: "#/components/responses/NotFoundError"

  /gemini-multiverse/simulations/{simulationId}/feedback-loops:
    post:
      tags:
        - "Strategic Optimization & Intervention"
        - "Cross-Reality Analytics & Insights (Quantum Nexus)"
      summary: "Establish an AI Feedback Loop for Continuous Optimization"
      description: |
        Initiates an autonomous feedback loop where Gemini AI continuously monitors the outcomes of
        an ongoing multiverse simulation and dynamically suggests or implements micro-interventions
        to steer the most probable realities towards the user's defined optimization goals. This enables
        self-optimizing simulations and real-time strategic adaptation.
      operationId: "establishFeedbackLoop"
      security:
        - oAuth2Auth: [write:gemini_multiverse]
        - geminiApiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/SimulationId"
      requestBody:
        required: true
        description: "Configuration for the AI feedback loop, including optimization goals and intervention autonomy."
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/FeedbackLoopConfiguration"
      responses:
        "200":
          description: "AI feedback loop successfully established."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/FeedbackLoopStatus"
        "400":
          $ref: "#/components/responses/BadRequestError"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "403":
          $ref: "#/components/responses/ForbiddenError"
        "404":
          $ref: "#/components/responses/NotFoundError"
        "409":
          description: "A feedback loop is already active for this simulation."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /gemini-multiverse/simulations/{simulationId}/feedback-loops/{feedbackLoopId}/terminate:
    post:
      tags:
        - "Strategic Optimization & Intervention"
      summary: "Terminate an Active AI Feedback Loop"
      description: |
        Stops an actively running AI feedback loop for a given multiverse simulation. This halts
        all automated monitoring and intervention activities by Gemini AI.
      operationId: "terminateFeedbackLoop"
      security:
        - oAuth2Auth: [write:gemini_multiverse]
        - geminiApiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/SimulationId"
        - $ref: "#/components/parameters/FeedbackLoopId"
      responses:
        "200":
          description: "Feedback loop successfully terminated."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/FeedbackLoopStatus"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "403":
          $ref: "#/components/responses/ForbiddenError"
        "404":
          $ref: "#/components/responses/NotFoundError"
        "409":
          description: "The specified feedback loop is not active or cannot be terminated."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /gemini-multiverse/simulations/{simulationId}/black-swan-injector:
    post:
      tags:
        - "Scenario & Event Definition"
        - "Multiverse Simulations Core"
      summary: "Inject a Black Swan Event into a Simulation"
      description: |
        Introduces a 'black swan' event into selected realities within a multiverse simulation.
        These are highly improbable, high-impact events with extreme consequences. This endpoint allows
        for stress-testing strategies against unforeseen catastrophes and understanding true resilience.
        Gemini AI will model the cascading effects across financial systems.
      operationId: "injectBlackSwanEvent"
      security:
        - oAuth2Auth: [write:gemini_multiverse]
        - geminiApiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/SimulationId"
      requestBody:
        required: true
        description: "Configuration for the black swan event, including its nature and targeted realities."
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/BlackSwanEventRequest"
      responses:
        "200":
          description: "Black swan event successfully injected and realities are recalculating."
          content:
            application/json:
              schema:
                type: object
                properties:
                  eventId:
                    type: string
                    example: "bs_event_pandemic_002"
                  affectedRealitiesCount:
                    type: integer
                    example: 150
                  message:
                    type: string
                    example: "Black swan event injected. Simulation is undergoing re-stabilization."
        "400":
          $ref: "#/components/responses/BadRequestError"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "403":
          $ref: "#/components/responses/ForbiddenError"
        "404":
          $ref: "#/components/responses/NotFoundError"
        "409":
          description: "Cannot inject black swan event into a completed or error-state simulation."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /gemini-multiverse/audit-trail:
    get:
      tags:
        - "Temporal Governance & Paradox Detection"
        - "Gemini Integration Management"
      summary: "Retrieve Multiverse Audit Trail and Event Log"
      description: |
        Provides a comprehensive audit trail of all significant operations, interventions, and AI decisions
        made within the multiverse financial projection system. This log is crucial for compliance,
        debugging, and understanding the evolution of simulations and realities over time.
      operationId: "getMultiverseAuditTrail"
      security:
        - oAuth2Auth: [read:gemini_integration, system:auditor]
        - geminiApiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/Limit"
        - $ref: "#/components/parameters/Offset"
        - name: eventType
          in: query
          description: "Filter audit entries by event type (e.g., 'SIMULATION_CREATED', 'REALITY_MODIFIED')."
          schema:
            type: string
            enum: [SIMULATION_CREATED, REALITY_MODIFIED, SCENARIO_ADDED, INTERVENTION_APPLIED, PARADOX_DETECTED, API_KEY_UPDATED, REPORT_GENERATED]
        - $ref: "#/components/parameters/StartDate"
        - $ref: "#/components/parameters/EndDate"
        - name: userId
          in: query
          description: "Filter by the ID of the user who performed the action."
          schema:
            type: string
            example: "user-quantum-visionary-001"
      responses:
        "200":
          description: "A paginated list of audit trail entries."
          content:
            application/json:
              schema:
                type: object
                properties:
                  limit: {type: integer, example: 50}
                  offset: {type: integer, example: 0}
                  total: {type: integer, example: 1200}
                  data:
                    type: array
                    items:
                      $ref: "#/components/schemas/MultiverseAuditEvent"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "403":
          $ref: "#/components/responses/ForbiddenError"

  /gemini-multiverse/cross-reality-comparison:
    post:
      tags:
        - "Cross-Reality Analytics & Insights (Quantum Nexus)"
      summary: "Perform a Comparative Analysis Across Selected Realities"
      description: |
        Conducts a detailed comparative analysis between a specified set of divergent realities from the
        same multiverse simulation. Gemini AI identifies key differences in financial outcomes, event
        sequences, and strategic effectiveness, providing granular insights into 'why' certain futures
        unfolded differently.
      operationId: "crossRealityComparison"
      security:
        - oAuth2Auth: [read:gemini_multiverse]
        - geminiApiKeyAuth: []
      requestBody:
        required: true
        description: "Request to compare specific realities."
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CrossRealityComparisonRequest"
      responses:
        "200":
          description: "The results of the cross-reality comparison."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CrossRealityComparisonResult"
        "400":
          $ref: "#/components/responses/BadRequestError"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "403":
          $ref: "#/components/responses/ForbiddenError"
        "404":
          $ref: "#/components/responses/NotFoundError"
        "409":
          description: "Realities provided are not part of the same simulation or are too similar."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /gemini-multiverse/simulation-health:
    get:
      tags:
        - "Gemini Integration Management"
        - "Multiverse Simulations Core"
      summary: "Retrieve Overall Multiverse Simulation System Health"
      description: |
        Provides a real-time health check of the entire multiverse simulation system, including the status
        of Gemini AI integration, computational resource availability, data pipeline integrity, and
        overall operational performance. Essential for monitoring the stability and readiness of the Quantum Multiverse.
      operationId: "getMultiverseSystemHealth"
      security:
        - oAuth2Auth: [read:gemini_integration, system:admin]
        - geminiApiKeyAuth: []
      responses:
        "200":
          description: "Overall health status of the multiverse simulation system."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SystemHealthStatus"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "403":
          $ref: "#/components/responses/ForbiddenError"
        "500":
          description: "Internal error retrieving system health metrics."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /gemini-multiverse/reality-snapshots:
    post:
      tags:
        - "Reality Branching & Exploration"
        - "Temporal Governance & Paradox Detection"
      summary: "Create a Manual Snapshot of a Reality's State"
      description: |
        Manually creates and saves a precise snapshot of a specific multiverse reality at its current
        temporal node. This allows users to preserve a particular state for later analysis, comparison,
        or as a starting point for new speculative branches, ensuring that key moments are never lost.
      operationId: "createRealitySnapshot"
      security:
        - oAuth2Auth: [write:gemini_multiverse]
        - geminiApiKeyAuth: []
      requestBody:
        required: true
        description: "Request to create a snapshot of a specified reality."
        content:
          application/json:
            schema:
              type: object
              required:
                - simulationId
                - realityId
                - snapshotName
              properties:
                simulationId: {type: string, example: "sim_quantum_future_001"}
                realityId: {type: string, example: "reality_baseline_stable_001"}
                snapshotName: {type: string, example: "Pre-PolicyChange-2030"}
                description: {type: string, nullable: true, example: "Snapshot of baseline reality just before the projected 2030 policy shift."}
      responses:
        "201":
          description: "Reality snapshot successfully created."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RealitySnapshot"
        "400":
          $ref: "#/components/responses/BadRequestError"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "403":
          $ref: "#/components/responses/ForbiddenError"
        "404":
          $ref: "#/components/responses/NotFoundError"
        "409":
          description: "Snapshot with this name already exists for this reality."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /gemini-multiverse/reality-snapshots/{snapshotId}:
    get:
      tags:
        - "Reality Branching & Exploration"
      summary: "Retrieve a Specific Reality Snapshot"
      description: |
        Retrieves the detailed data of a previously saved snapshot of a multiverse reality. This allows
        for reloading, inspecting, or initiating new simulations from that specific point in time.
      operationId: "getRealitySnapshot"
      security:
        - oAuth2Auth: [read:gemini_multiverse]
        - geminiApiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/SnapshotId"
      responses:
        "200":
          description: "Details of the reality snapshot."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RealitySnapshotDetailed"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "403":
          $ref: "#/components/responses/ForbiddenError"
        "404":
          $ref: "#/components/responses/NotFoundError"

  /gemini-multiverse/reality-snapshots/{snapshotId}/restore:
    post:
      tags:
        - "Reality Branching & Exploration"
        - "Strategic Optimization & Intervention"
      summary: "Restore a Reality from a Saved Snapshot"
      description: |
        Restores a specific multiverse reality to the state captured in a previously saved snapshot.
        This effectively rewinds the reality to an earlier point, allowing for re-simulation with
        different interventions or scenario adjustments from that pivotal moment.
      operationId: "restoreRealityFromSnapshot"
      security:
        - oAuth2Auth: [write:gemini_multiverse]
        - geminiApiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/SnapshotId"
      responses:
        "200":
          description: "Reality successfully restored to the snapshot state."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/MultiverseRealityState"
        "400":
          $ref: "#/components/responses/BadRequestError"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "403":
          $ref: "#/components/responses/ForbiddenError"
        "404":
          $ref: "#/components/responses/NotFoundError"
        "409":
          description: "Cannot restore reality if it's currently undergoing critical computations."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /gemini-multiverse/resource-allocation-simulation:
    post:
      tags:
        - "Strategic Optimization & Intervention"
      summary: "Run a Quantum Resource Allocation Simulation"
      description: |
        Initiates a specialized multiverse simulation focused on optimizing resource allocation
        (e.g., capital, talent, time) across various strategic initiatives or investment opportunities
        under divergent future conditions. Gemini AI will explore how different resource distribution
        models perform across realities to identify the most efficient and robust strategies.
      operationId: "runResourceAllocationSimulation"
      security:
        - oAuth2Auth: [write:gemini_multiverse]
        - geminiApiKeyAuth: []
      requestBody:
        required: true
        description: "Configuration for the resource allocation simulation."
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ResourceAllocationSimulationRequest"
      responses:
        "201":
          description: "Resource allocation simulation initiated."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ResourceAllocationSimulationResult"
        "400":
          $ref: "#/components/responses/BadRequestError"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "403":
          $ref: "#/components/responses/ForbiddenError"

  /gemini-multiverse/simulation-performance-metrics:
    get:
      tags:
        - "Gemini Integration Management"
        - "Multiverse Simulations Core"
      summary: "Retrieve Gemini AI Simulation Performance Metrics"
      description: |
        Fetches real-time performance metrics for the underlying Gemini AI engine powering the
        multiverse simulations. This includes computational throughput, latency, error rates,
        and resource consumption, providing deep insights into the efficiency of the AI operations.
      operationId: "getSimulationPerformanceMetrics"
      security:
        - oAuth2Auth: [read:gemini_integration, system:admin]
        - geminiApiKeyAuth: []
      parameters:
        - name: simulationId
          in: query
          description: "Optional. Filter metrics for a specific simulation."
          schema:
            type: string
            example: "sim_quantum_future_001"
        - name: metricType
          in: query
          description: "Filter for specific types of performance metrics."
          schema:
            type: string
            enum: [CPU_UTILIZATION, GPU_UTILIZATION, MEMORY_USAGE, API_LATENCY, ERROR_RATE, THROUGHPUT]
      responses:
        "200":
          description: "Performance metrics for Gemini AI simulation engine."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SimulationPerformanceMetrics"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "403":
          $ref: "#/components/responses/ForbiddenError"

  /gemini-multiverse/temporal-drift-monitors:
    post:
      tags:
        - "Temporal Governance & Paradox Detection"
        - "Reality Branching & Exploration"
      summary: "Activate a Temporal Drift Monitor for a Reality"
      description: |
        Activates a 'temporal drift monitor' for a specific simulated reality. This AI-powered tool
        continuously assesses how much a particular reality is diverging from a defined baseline (e.g.,
        the initial reality or a user-specified stable timeline), providing early warnings of significant
        deviations and potential for unforeseen outcomes.
      operationId: "activateTemporalDriftMonitor"
      security:
        - oAuth2Auth: [write:gemini_multiverse]
        - geminiApiKeyAuth: []
      requestBody:
        required: true
        description: "Configuration for the temporal drift monitor."
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/TemporalDriftMonitorActivationRequest"
      responses:
        "201":
          description: "Temporal drift monitor activated."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TemporalDriftMonitorStatus"
        "400":
          $ref: "#/components/responses/BadRequestError"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "403":
          $ref: "#/components/responses/ForbiddenError"
        "404":
          $ref: "#/components/responses/NotFoundError"
        "409":
          description: "A monitor is already active for this reality."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Error"

  /gemini-multiverse/temporal-drift-monitors/{monitorId}/status:
    get:
      tags:
        - "Temporal Governance & Paradox Detection"
      summary: "Retrieve Status of a Temporal Drift Monitor"
      description: |
        Fetches the current status and detected drift for an active temporal drift monitor, providing
        insights into how much a reality has diverged from its baseline and the AI's assessment of its significance.
      operationId: "getTemporalDriftMonitorStatus"
      security:
        - oAuth2Auth: [read:gemini_multiverse]
        - geminiApiKeyAuth: []
      parameters:
        - $ref: "#/components/parameters/MonitorId"
      responses:
        "200":
          description: "Current status and drift metrics."
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TemporalDriftMonitorStatus"
        "401":
          $ref: "#/components/responses/UnauthorizedError"
        "403":
          $ref: "#/components/responses/ForbiddenError"
        "404":
          $ref: "#/components/responses/NotFoundError"

components:
  securitySchemes:
    oAuth2Auth:
      type: oauth2
      description: "Advanced OAuth2 for granular user and application authentication, supporting multiple flows for diverse use cases."
      flows:
        authorizationCode:
          authorizationUrl: https://api.demobank.com/oauth2/auth
          tokenUrl: https://api.demobank.com/oauth2/token
          scopes:
            read:profile: "Read comprehensive user profile information and basic identity attributes."
            write:profile: "Modify user profile, preferences, and security settings."
            read:accounts: "Read access to all linked financial accounts, balances, and basic analytics."
            write:accounts: "Manage linked accounts, initiate linking new institutions, and configure account settings."
            read:transactions: "Read granular transaction history, AI categorizations, and dispute statuses."
            write:transactions: "Modify transaction data (e.g., categorization, notes), and initiate disputes."
            write:payments: "Initiate personal payments, transfers, and recurring payment setups."
            interact:ai_advisor: "Full access to the conversational AI Advisor, including tool invocation."
            interact:ai_oracle: "Access to the Quantum Oracle for standard and advanced financial simulations."
            read:weaver: "Read status, feedback, and offers related to business plan submissions."
            write:weaver: "Submit, manage, and respond to AI-generated questions for business plans in Quantum Weaver."
            read:ad_studio: "Check status and retrieve generated assets from the AI Ad Studio."
            write:ad_studio: "Generate standard and advanced video content using Veo 2.0."
            read:corporate_cards: "Read comprehensive corporate card information, controls, and audit trails."
            write:corporate_cards: "Modify corporate card status, spending controls, issue virtual cards, and manage policies."
            read:corporate_payments: "Read corporate payment orders, invoices, counterparties, and approval workflows."
            write:corporate_payments: "Create, approve, and manage corporate payment orders, batch payments, and international transfers."
            read:compliance: "Read compliance cases, AI-detected financial anomalies, and audit reports."
            write:compliance: "Update compliance case/anomaly status, configure risk rules, and request audit reports."
            read:rewards: "Read rewards balance, loyalty tier, and available redemption items."
            write:rewards: "Redeem reward points for items and manage loyalty program interactions."
            read:analytics: "Access real-time dashboards, predictive forecasts, and custom reports for personal and corporate finance."
            read:web3: "Read connected crypto wallets, NFTs, and DeFi protocol information."
            write:web3: "Connect crypto wallets, initiate crypto transfers, and interact with DeFi protocols."
            read:sustainability: "Access personal and corporate carbon footprint reports, and ESG investment impact analysis."
            write:sustainability: "Contribute to green initiatives and configure sustainability preferences."
            read:lending: "Access loan application status, terms, and pre-approval offers."
            write:lending: "Submit loan applications and manage repayment schedules."
            read:developer_tools: "Read webhook subscriptions, API keys, and event logs."
            write:developer_tools: "Manage webhook subscriptions, create/revoke API keys."
            read:identity: "Read KYC status, verified credentials, and biometric enrollment status."
            write:identity: "Submit KYC documentation, enroll biometrics, and issue verifiable credentials."
            read:corporate_treasury: "Access corporate cash flow forecasts, liquidity management strategies, and investment analyses."
            write:corporate_treasury: "Define corporate investment strategies and liquidity adjustments."
            read:fx_rates: "Access real-time and predictive foreign exchange rates."
            interact:gemini_multiverse: "Full access to create, manage, and analyze multiverse financial simulations, including AI interventions."
            read:gemini_multiverse: "Read access to multiverse simulation data, realities, insights, and reports."
            write:gemini_multiverse: "Write access to create simulations, intervene in realities, define scenarios, and manage AI feedback loops."
            read:gemini_integration: "Read status and configuration of Gemini AI integration."
            write:gemini_integration: "Manage Gemini AI API keys and integration settings."
        clientCredentials:
          tokenUrl: https://api.demobank.com/oauth2/token
          scopes:
            system:admin: "Full administrative control for trusted internal systems."
            system:auditor: "Read-only access for auditing and compliance systems."
            webhook:events: "Scope for webhook callbacks to authenticate event delivery."
    apiKeyAuth:
      type: apiKey
      in: header
      name: X-API-KEY
      description: "API Key authentication for server-to-server and trusted developer applications, typically used for developer tools and webhook validation."
    biometricAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
      description: "Bearer token authentication validated against biometric enrollment, used for high-security transactions or sensitive data access."
    geminiApiKeyAuth:
      type: apiKey
      in: header
      name: X-GEMINI-API-KEY
      description: "Dedicated API Key for authenticating direct calls to the Google Gemini AI backend, specifically for multiverse computation and advanced predictive modeling. This key is provisioned and managed by Demo Bank for authorized users."
  parameters:
    TransactionId:
      name: transactionId
      in: path
      required: true
      description: "The unique, immutable identifier for the financial transaction (e.g., `txn_quantum-2024-07-21-A7B8C9`)."
      schema:
        type: string
        example: "txn_quantum-2024-07-21-A7B8C9"
    CardId:
      name: cardId
      in: path
      required: true
      description: "The globally unique identifier for the corporate card (physical or virtual)."
      schema:
        type: string
        example: "corp_card_xyz987654"
    AnomalyId:
      name: anomalyId
      in: path
      required: true
      description: "The unique identifier assigned to a detected financial anomaly by the AI risk engine."
      schema:
        type: string
        example: "anom_risk-2024-07-21-D1E2F3"
    AccountId:
      name: accountId
      in: path
      required: true
      description: "The unique identifier for a linked financial account (e.g., `acc_chase_checking_4567`)."
      schema:
        type: string
        example: "acc_chase_checking_4567"
    DeviceId:
      name: deviceId
      in: path
      required: true
      description: "The unique identifier for a registered device associated with the user's account."
      schema:
        type: string
        example: "dev_mobile_ios_aabbcc"
    PitchId:
      name: pitchId
      in: path
      required: true
      description: "The unique identifier for a business pitch submitted to Quantum Weaver."
      schema:
        type: string
        example: "pitch_qw_synergychain-xyz"
    OperationId:
      name: operationId
      in: path
      required: true
      description: "The unique identifier for an asynchronous operation (e.g., video generation, large report processing)."
      schema:
        type: string
        example: "op-video-gen-12345-abcde"
    ApplicationId:
      name: applicationId
      in: path
      required: true
      description: "The unique identifier for a submitted loan application."
      schema:
        type: string
        example: "loan_app_creditflow-123"
    SubscriptionId:
      name: subscriptionId
      in: path
      required: true
      description: "The unique identifier for a webhook subscription."
      schema:
        type: string
        example: "whsub_devtool_finance_events"
    Limit:
      name: "limit"
      in: "query"
      description: "The maximum number of items to return per page. Optimized for performance and typical use cases."
      schema:
        type: integer
        default: 50
        minimum: 1
        maximum: 200
    Offset:
      name: "offset"
      in: "query"
      description: "The starting index of the list for pagination. Use with `limit` for efficient data retrieval."
      schema:
        type: integer
        default: 0
        minimum: 0
    StartDate:
      name: startDate
      in: query
      description: "The inclusive start date for filtering data, in `YYYY-MM-DD` format. All items after or on this date will be included."
      schema:
        type: string
        format: date
        example: "2024-01-01"
    EndDate:
      name: endDate
      in: query
      description: "The inclusive end date for filtering data, in `YYYY-MM-DD` format. All items before or on this date will be included."
      schema:
        type: string
        format: date
        example: "2024-12-31"
    ForecastHorizonDays:
      name: forecastHorizonDays
      in: query
      description: "The number of days into the future for which the AI should generate a forecast. Max 365 days."
      schema:
        type: integer
        minimum: 1
        maximum: 365
        default: 90
    IncludeScenarioAnalysis:
      name: includeScenarioAnalysis
      in: query
      description: "If true, the forecast will include AI-generated best-case, worst-case, and most-likely scenarios."
      schema:
        type: boolean
        default: false
    SimulationId:
      name: simulationId
      in: path
      required: true
      description: "The unique identifier for a multiverse financial simulation."
      schema:
        type: string
        example: "sim_quantum_future_001"
    RealityId:
      name: realityId
      in: path
      required: true
      description: "The unique identifier for a specific financial reality (timeline) within a simulation."
      schema:
        type: string
        example: "reality_baseline_stable_001"
    ScenarioId:
      name: scenarioId
      in: path
      required: true
      description: "The unique identifier for a scenario within a multiverse simulation."
      schema:
        type: string
        example: "scenario_market_crash_2028"
    StrategyId:
      name: strategyId
      in: path
      required: true
      description: "The unique identifier for an AI-driven intervention strategy."
      schema:
        type: string
        example: "strat_opt_growth_001"
    DriverId:
      name: driverId
      in: path
      required: true
      description: "The unique identifier for a macro-economic driver."
      schema:
        type: string
        example: "driver_interest_rate_hike"
    TrajectoryId:
      name: trajectoryId
      in: path
      required: true
      description: "The unique identifier for a personal financial trajectory simulation."
      schema:
        type: string
        example: "traj_retirement_alex_2050"
    TemplateId:
      name: templateId
      in: path
      required: true
      description: "The unique identifier for a temporal event template."
      schema:
        type: string
        example: "template_mild_recession"
    FeedbackLoopId:
      name: feedbackLoopId
      in: path
      required: true
      description: "The unique identifier for an active AI feedback loop."
      schema:
        type: string
        example: "feedback_loop_sim_001"
    SnapshotId:
      name: snapshotId
      in: path
      required: true
      description: "The unique identifier for a saved reality snapshot."
      schema:
        type: string
        example: "snap_pre_policy_2030"
    MonitorId:
      name: monitorId
      in: path
      required: true
      description: "The unique identifier for a temporal drift monitor."
      schema:
        type: string
        example: "drift_monitor_reality_alpha"
  responses:
    UnauthorizedError:
      description: "Authentication information is missing, invalid, or expired. Please re-authenticate."
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
    ForbiddenError:
      description: "The authenticated user or application does not possess the necessary permissions to perform this action, often due to scope limitations or role-based access controls."
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
    NotFoundError:
      description: "The requested resource could not be found using the provided identifier. It may not exist, or you may not have access to it."
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
    BadRequestError:
      description: "The request payload is malformed, missing required fields, or contains invalid data. Refer to the 'details' field for specific validation errors."
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
    TooManyRequestsError:
      description: "The API rate limit has been exceeded. Please reduce the frequency of your requests and try again after the `Retry-After` period."
      headers:
        Retry-After:
          schema:
            type: integer
            description: "Number of seconds after which the client can make another request."
            example: 30
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
    ConflictError:
      description: "The request could not be completed due to a conflict with the current state of the resource, often involving unique constraints or concurrent updates."
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
  schemas:
    User:
      type: object
      description: "The comprehensive user profile, incorporating personal details, security status, financial summaries, and loyalty program standing."
      properties:
        id:
          type: string
          example: "user-quantum-visionary-001"
          description: "Unique identifier for the user across the Demo Bank ecosystem."
        name:
          type: string
          example: "The Quantum Visionary"
          description: "Full name of the user."
        email:
          type: string
          format: email
          example: "quantum.visionary@demobank.com"
          description: "Primary email address, used for communications and login."
        phone:
          type: string
          example: "+1-555-123-4567"
          description: "Primary phone number, used for MFA and notifications."
          nullable: true
        dateOfBirth:
          type: string
          format: date
          example: "1980-01-15"
          description: "User's date of birth, for age verification and personalization."
        address:
          type: object
          description: "Physical address of the user."
          properties:
            street: {type: string, example: "100 Innovation Drive"}
            city: {type: string, example: "Quantumville"}
            state: {type: string, example: "CA"}
            zip: {type: string, example: "90210"}
            country: {type: string, example: "USA"}
        loyaltyTier:
          type: string
          example: "Zenith Platinum"
          description: "Current loyalty program tier, influencing benefits and rewards."
        loyaltyPoints:
          type: integer
          example: 12500
          description: "Accumulated loyalty points, redeemable for various rewards."
        gamificationLevel:
          type: integer
          example: 7
          description: "Current gamification level, reflecting engagement and achievements."
        aiPersona:
          type: string
          example: "Prudent Planner"
          description: "AI-identified financial persona, used by Quantum for tailored advice."
        securityStatus:
          type: object
          description: "Summary of user's security posture."
          properties:
            twoFactorEnabled: {type: boolean, example: true, description: "Indicates if 2FA is enabled."}
            biometricsEnrolled: {type: boolean, example: true, description: "Indicates if biometric authentication is set up."}
            lastLogin:
              type: string
              format: date-time
              example: "2024-07-21T10:30:00Z"
              description: "Timestamp of the last successful login."
            lastLoginIp:
              type: string
              format: ipv4
              example: "203.0.113.45"
              description: "IP address of the last successful login."
        preferences:
          $ref: "#/components/schemas/UserPreferences"
        identityVerified:
          type: boolean
          example: true
          description: "True if KYC/identity verification is complete."
    UserPreferences:
      type: object
      description: "Comprehensive settings for user experience, AI interaction, and notification management."
      properties:
        preferredLanguage:
          type: string
          example: "en-US"
          description: "User's preferred interface language."
        theme:
          type: string
          example: "Dark-Quantum"
          description: "Chosen visual theme for the application."
        aiInteractionMode:
          type: string
          enum: [proactive, reactive, balanced]
          default: "balanced"
          description: "How Quantum AI should interact: 'proactive' (frequent suggestions), 'reactive' (responds only when asked), 'balanced'."
        notificationChannels:
          type: object
          description: "Preferred notification channels and their activation status."
          properties:
            email: {type: boolean, example: true}
            push: {type: boolean, example: true}
            sms: {type: boolean, example: false}
            inApp: {type: boolean, example: true}
        dataSharingConsent:
          type: boolean
          example: true
          description: "User consent for sharing anonymized data to improve AI models."
        transactionGrouping:
          type: string
          enum: [merchant, category, date]
          default: "category"
          description: "Default grouping preference for transaction lists."
    Device:
      type: object
      description: "Details of a device registered to the user's account for access and security."
      properties:
        id:
          type: string
          example: "dev_mobile_ios_aabbcc"
          description: "Unique identifier for the registered device."
        type:
          type: string
          enum: [mobile, tablet, desktop, wearable]
          example: "mobile"
          description: "Type of device."
        os:
          type: string
          example: "iOS 17.5"
          description: "Operating system and version of the device."
        model:
          type: string
          example: "iPhone 15 Pro Max"
          description: "Device model."
        lastActive:
          type: string
          format: date-time
          example: "2024-07-21T11:05:00Z"
          description: "Timestamp of the last recorded activity from this device."
        ipAddress:
          type: string
          format: ipv4
          example: "203.0.113.12"
          description: "Last known IP address associated with the device."
        trustLevel:
          type: string
          enum: [trusted, untrusted, pending_verification]
          example: "trusted"
          description: "Security trust level of the device. Untrusted devices may require additional MFA."
        pushToken:
          type: string
          nullable: true
          description: "Push notification token for the device, if registered."
          example: "ExponentPushToken[xxxxxxxxxxxxxxxxxxxxxx]"
    RegisterDeviceRequest:
      type: object
      description: "Request to register a new device."
      required:
        - deviceType
        - os
        - model
        - biometricSignature
      properties:
        deviceType:
          type: string
          enum: [mobile, tablet, desktop, wearable]
          example: "mobile"
        os:
          type: string
          example: "Android 14"
        model:
          type: string
          example: "Samsung Galaxy S24 Ultra"
        biometricSignature:
          type: string
          description: "A cryptographic signature derived from a local biometric scan (e.g., face or fingerprint) on the new device, used for initial trust establishment."
          example: "base64encoded_biometric_proof_string"
        deviceName:
          type: string
          nullable: true
          description: "Optional, user-friendly name for the device."
          example: "My Work Laptop"
    LinkedAccount:
      type: object
      description: "A summary of a financial account linked from an external institution."
      properties:
        id:
          type: string
          example: "acc_chase_checking_4567"
          description: "A unique, internal ID for the linked account."
        externalId:
          type: string
          description: "The institution's ID for the account from the data provider (e.g., Plaid)."
          example: "plaid_acc_abc123"
        name:
          type: string
          example: "Chase Checking"
          description: "User-friendly name of the account."
        institutionName:
          type: string
          example: "Chase Bank"
          description: "Name of the financial institution."
        mask:
          type: string
          example: "1111"
          description: "Last four digits of the account number, for display purposes."
        type:
          type: string
          enum: [depository, credit, loan, investment, brokerage, crypto]
          example: "depository"
          description: "Primary type of the account."
        subtype:
          type: string
          example: "checking"
          description: "Specific subtype of the account."
        currency:
          type: string
          example: "USD"
          description: "The currency of the account."
        currentBalance:
          type: number
          format: float
          example: 1250.75
          description: "The current available balance in the account."
        availableBalance:
          type: number
          format: float
          example: 1200.00
          description: "The current available balance, accounting for pending transactions."
          nullable: true
        limit:
          type: number
          format: float
          example: 5000.00
          description: "Credit limit for credit accounts, or overdraft limit for checking accounts."
          nullable: true
        lastUpdated:
          type: string
          format: date-time
          example: "2024-07-21T10:45:00Z"
          description: "Timestamp of the last successful balance update."
    AccountDetail:
      type: object
      description: "Detailed information and analytics for a specific financial account."
      allOf:
        - $ref: "#/components/schemas/LinkedAccount"
        - type: object
          properties:
            accountId:
              type: string
              example: "acc_chase_checking_4567"
              description: "The unique identifier for the account."
            accountHolder:
              type: string
              example: "The Quantum Visionary"
              description: "Name of the primary account holder."
            interestRate:
              type: number
              format: float
              example: 0.01
              description: "Annual interest rate for savings or lending accounts."
              nullable: true
            openedDate:
              type: string
              format: date
              example: "2020-03-01"
              description: "Date the account was opened."
            transactionsCount:
              type: integer
              example: 150
              description: "Total number of transactions linked to this account."
            projectedCashFlow:
              type: object
              description: "AI-driven projection of future cash flow for the account."
              properties:
                days30: {type: number, format: float, example: 500, description: "Projected cash flow for the next 30 days."}
                days90: {type: number, format: float, example: 1200, description: "Projected cash flow for the next 90 days."}
                confidenceScore: {type: integer, minimum: 0, maximum: 100, example: 85, description: "AI confidence score for the cash flow projection."}
            balanceHistory:
              type: array
              description: "Historical daily balance snapshots."
              items:
                type: object
                properties:
                  date: {type: string, format: date, example: "2024-07-20"}
                  balance: {type: number, format: float, example: 1230.50}
    LinkAccountRequest:
      type: object
      description: "Request to initiate linking a new external account."
      required:
        - institutionName
        - countryCode
      properties:
        institutionName:
          type: string
          example: "Bank of America"
          description: "The name of the financial institution to link."
        countryCode:
          type: string
          example: "US"
          description: "ISO 3166-1 alpha-2 country code of the institution."
        accessToken:
          type: string
          nullable: true
          description: "Optional: OAuth token from the institution if direct connection is supported."
          example: "eyJr...jwt_token_from_institution"
    LinkAccountResponse:
      type: object
      description: "Response containing instructions to complete the account linking."
      required:
        - linkSessionId
        - authUri
        - status
      properties:
        linkSessionId:
          type: string
          example: "link_session_xyz789"
          description: "A session ID to track the linking process."
        authUri:
          type: string
          format: uri
          example: "https://auth.plaid.com/oauth/initiate?client_id=...&redirect_uri=..."
          description: "The URI the user should be redirected to, or presented in a webview, to complete the linking process at the external institution's portal."
        status:
          type: string
          enum: [pending_user_action, complete, failed]
          example: "pending_user_action"
          description: "Current status of the linking request."
        message:
          type: string
          nullable: true
          example: "Please redirect user to the provided URI to complete authentication."
    Transaction:
      type: object
      description: "A detailed financial transaction entry with AI-enriched data."
      properties:
        id:
          type: string
          example: "txn_quantum-2024-07-21-A7B8C9"
          description: "Unique identifier for the transaction."
        accountId:
          type: string
          example: "acc_chase_checking_4567"
          description: "ID of the account this transaction belongs to."
        type:
          type: string
          enum: [income, expense, transfer, investment, refund, bill_payment, fee]
          example: "expense"
          description: "The type of transaction (e.g., income, expense)."
        category:
          type: string
          example: "Dining & Restaurants"
          description: "AI-assigned or user-defined category for the transaction."
        aiCategoryConfidence:
          type: number
          format: float
          minimum: 0
          maximum: 1
          example: 0.92
          description: "AI's confidence score (0-1) in the assigned category."
        description:
          type: string
          example: "Coffee Shop - Quantum Cafe"
          description: "Raw description from the bank statement or merchant."
        merchantDetails:
          type: object
          nullable: true
          description: "Detailed information about the merchant."
          properties:
            name: {type: string, example: "Quantum Cafe"}
            logoUrl: {type: string, format: uri, example: "https://assets.demobank.com/merchants/quantum_cafe.png"}
            website: {type: string, format: uri, example: "https://quantum.cafe"}
            address:
              type: object
              properties:
                city: {type: string, example: "Quantumville"}
                state: {type: string, example: "CA"}
                zip: {type: string, example: "90210"}
        amount:
          type: number
          format: float
          example: 12.50
          description: "The transaction amount."
        currency:
          type: string
          example: "USD"
          description: "The currency of the transaction."
        date:
          type: string
          format: date
          example: "2024-07-21"
          description: "The date the transaction occurred."
        postedDate:
          type: string
          format: date
          example: "2024-07-22"
          description: "The date the transaction was officially posted."
          nullable: true
        carbonFootprint:
          type: number
          format: float
          nullable: true
          example: 1.2
          description: "Estimated carbon footprint (in kg CO2e) associated with this transaction, calculated by AI."
        location:
          type: object
          nullable: true
          description: "Geographic location data for the transaction, if available."
          properties:
            latitude: {type: number, format: float, example: 34.0522}
            longitude: {type: number, format: float, example: -118.2437}
            city: {type: string, example: "Los Angeles"}
        paymentChannel:
          type: string
          enum: [online, in_store, atm, recurring_bill, p2p]
          example: "in_store"
          description: "How the payment was made (e.g., online, in-store)."
        tags:
          type: array
          items:
            type: string
          example: ["work_lunch", "tax_deductible"]
          description: "User-defined tags for deeper organization."
        receiptUrl:
          type: string
          format: uri
          nullable: true
          example: "https://demobank.com/receipts/txn_1a2b3c4d5e.pdf"
          description: "URL to a digital receipt, if captured or uploaded."
        disputeStatus:
          type: string
          enum: [none, pending, under_review, resolved, rejected]
          example: "none"
          description: "Current status of any dispute related to this transaction."
    PaginatedTransactions:
      type: object
      description: "A paginated list structure for transactions."
      properties:
        limit:
          type: integer
          example: 50
        offset:
          type: integer
          example: 0
        total:
          type: integer
          example: 250
        data:
          type: array
          items:
            $ref: "#/components/schemas/Transaction"
        nextOffset:
          type: integer
          nullable: true
          description: "The offset to use for the next page of results, if available."
          example: 50
        prevOffset:
          type: integer
          nullable: true
          description: "The offset for the previous page of results, if available."
          example: 0
    CategorizeTransactionRequest:
      type: object
      description: "Request to update a transaction's category."
      required:
        - category
      properties:
        category:
          type: string
          example: "Business Expenses > Client Entertainment"
          description: "The new category for the transaction. Can be a hierarchical path."
        notes:
          type: string
          nullable: true
          example: "Meeting with client for project Alpha."
          description: "Optional user notes for the transaction."
        applyToFuture:
          type: boolean
          default: false
          description: "If true, Quantum AI will learn from this correction for future similar transactions."
    DisputeRequest:
      type: object
      description: "Request to initiate a dispute for a transaction."
      required:
        - reason
      properties:
        reason:
          type: string
          enum: [unauthorized, duplicate, wrong_amount, not_received_goods, other]
          example: "unauthorized"
          description: "The primary reason for disputing the transaction."
        details:
          type: string
          nullable: true
          description: "Detailed explanation of the dispute."
          example: "I did not authorize this purchase. My card may have been compromised."
        supportingDocuments:
          type: array
          items:
            type: string
            format: uri
          nullable: true
          description: "URLs to supporting documents (e.g., screenshots, communication logs)."
          example: ["https://demobank.com/uploads/proof_of_non_purchase.png"]
    DisputeStatus:
      type: object
      description: "Current status of a transaction dispute."
      required:
        - disputeId
        - status
      properties:
        disputeId:
          type: string
          example: "dispute_txn_xyz123"
          description: "Unique identifier for the dispute case."
        status:
          type: string
          enum: [pending, under_review, documentation_requested, resolved_favorable, resolved_unfavorable, closed]
          example: "pending"
          description: "Current status of the dispute."
        nextSteps:
          type: string
          example: "Our AI-powered fraud team is reviewing your claim. You will be notified within 2-3 business days."
          description: "Recommended next steps or expected timeline."
        lastUpdated:
          type: string
          format: date-time
          example: "2024-07-21T11:30:00Z"
    AIChatRequest:
      type: object
      description: "A comprehensive request payload for interacting with the Quantum AI Advisor, supporting conversational turns and tool outputs."
      properties:
        message:
          type: string
          example: "Can you analyze my recent spending patterns and suggest areas for saving, focusing on my dining expenses?"
          description: "The user's natural language message to the AI."
        sessionId:
          type: string
          description: "Unique ID to maintain conversation history and context across turns. A new session is automatically created if omitted."
          nullable: true
          example: "session-quantum-xyz-789-alpha"
        context:
          type: array
          items:
            type: object
            properties:
              role: {type: string, enum: [user, assistant, tool], example: "user"}
              content: {type: string, example: "What's my balance?"}
              toolCalls:
                type: array
                items:
                  $ref: "#/components/schemas/AIToolCall"
                nullable: true
              toolCallId: {type: string, nullable: true}
          description: "Previous turns in the conversation for maintaining context. AI processes messages within this context."
          nullable: true
        functionResponse:
          type: object
          description: "The structured result from a tool call that was previously requested by the AI. This is how the AI receives data back from executed actions."
          nullable: true
          properties:
            name:
              type: string
              example: "send_money"
              description: "The name of the tool that was executed."
            response:
              type: object
              description: "The JSON object representing the output of the tool's execution."
              example: {"status": "success", "transactionId": "pmt_654321", "amountSent": 50, "recipient": "Alex"}
    AIChatResponse:
      type: object
      description: "Quantum AI Advisor's rich response, potentially including conversational text, proactive recommendations, and calls to external tools for execution."
      properties:
        text:
          type: string
          description: "The natural language text response from the AI."
          example: "I've completed a detailed analysis of your spending. It appears your dining expenses account for 35% of your total outflows this month, significantly higher than your target. Would you like me to identify specific areas for reduction or suggest alternative dining options?"
        sessionId:
          type: string
          example: "session-quantum-xyz-789-alpha"
          description: "The active session ID for this conversation."
        proactiveInsights:
          type: array
          items:
            $ref: "#/components/schemas/AIInsight"
          description: "Proactive, AI-generated insights or recommendations relevant to the conversation or user's financial state."
        functionCalls:
          type: array
          items:
            $ref: "#/components/schemas/AIToolCall"
          description: "A list of tool calls that the AI wants the system to execute based on the user's request. These must be executed by the client/system."
    AIToolCall:
      type: object
      description: "A structured representation of an AI's request to execute an external tool or function."
      properties:
        id:
          type: string
          example: "call_abc123"
          description: "Unique identifier for this tool call."
        name:
          type: string
          example: "send_money"
          description: "The name of the tool/function to be executed."
        args:
          type: object
          description: "A JSON object containing the arguments required by the tool, as inferred by the AI."
          example: {"amount": 50, "recipient": "Alex", "currency": "USD", "memo": "Birthday gift"}
    AITool:
      type: object
      description: "Definition of an AI-callable tool, including its name, description, and expected parameters."
      properties:
        name:
          type: string
          example: "send_money"
          description: "The programmatic name of the tool."
        description:
          type: string
          example: "Sends money to a specified recipient from the user's primary checking account."
          description: "A human-readable description of what the tool does."
        parameters:
          type: object
          description: "OpenAPI Schema Object defining the input parameters for the tool."
          example:
            type: object
            properties:
              amount:
                type: number
                description: "The amount of money to send."
              recipient:
                type: string
                description: "The name or ID of the recipient."
              currency:
                type: string
                description: "The currency of the transaction (e.g., USD, EUR)."
            required:
              - amount
              - recipient
              - currency
        accessScope:
          type: string
          example: "write:payments"
          description: "The OAuth2 scope required to execute this tool."
    AIInsight:
      type: object
      description: "A proactive, AI-generated financial insight or recommendation."
      properties:
        id:
          type: string
          example: "insight-spending-alert-001"
          description: "Unique ID for the insight."
        title:
          type: string
          example: "High Dining Spend Alert"
          description: "Concise title for the insight."
        description:
          type: string
          example: "Your dining expenses this month are 35% higher than your average, potentially impacting your budget by $150."
          description: "Detailed explanation of the insight."
        category:
          type: string
          enum: [spending, saving, investing, debt, goals, security, income, compliance]
          example: "spending"
          description: "Category of the financial insight."
        severity:
          type: string
          enum: [low, medium, high, critical]
          example: "medium"
          description: "Severity level of the insight."
        actionableRecommendation:
          type: string
          nullable: true
          example: "Consider utilizing the 'Budget Optimizer' tool to adjust your dining budget or explore meal prep options."
          description: "An optional, concrete action the user can take."
        relatedToolCall:
          $ref: "#/components/schemas/AIToolCall"
          nullable: true
          description: "An optional tool call that, if executed, can address the insight."
        timestamp:
          type: string
          format: date-time
          example: "2024-07-21T11:45:00Z"
    SimulationRequest:
      type: object
      description: "Request to run a standard 'what-if' financial simulation."
      required: [prompt]
      properties:
        prompt:
          type: string
          description: "A natural language description of the hypothetical scenario to simulate."
          example: "What if I invest an additional $1,000 per month into my aggressive growth portfolio for the next 5 years?"
        parameters:
          type: object
          description: "Key numerical parameters to guide the simulation, allowing the AI to focus on specific variables."
          properties:
            durationYears:
              type: integer
              example: 5
              description: "Duration of the scenario in years."
            monthlyInvestmentAmount:
              type: number
              format: float
              example: 1000
              description: "Monthly investment amount in USD."
            riskTolerance:
              type: string
              enum: [low, medium, high, aggressive]
              example: "aggressive"
              description: "Simulated risk tolerance for investment scenarios."
    SimulationResponse:
      type: object
      description: "Detailed results of a financial simulation from Quantum Oracle."
      properties:
        simulationId:
          type: string
          example: "sim_oracle-growth-2024-xyz"
          description: "Unique ID for the completed simulation."
        narrativeSummary:
          type: string
          description: "An AI-generated, easy-to-understand summary of the simulation's outcome and key takeaways."
          example: "If you consistently invest an additional $1,000 per month into your aggressive growth portfolio over the next 5 years, the Quantum Oracle predicts your portfolio could grow by approximately 45-60%, significantly increasing your wealth. However, this comes with elevated risk during market downturns."
        keyImpacts:
          type: array
          items:
            type: object
            properties:
              metric:
                type: string
                example: "Projected Portfolio Value"
              value:
                type: string
                example: "$120,000 - $140,000"
              severity:
                type: string
                enum: [low, medium, high]
                description: "Indicates the positive/negative magnitude of the impact. 'High' for significant positive or negative change."
          description: "A list of critical financial metrics and their projected impact."
        recommendations:
          type: array
          items:
            type: object
            properties:
              title:
                type: string
                example: "Review Portfolio Diversification"
              description:
                type: string
                example: "Given the aggressive nature of this strategy, the Oracle suggests reviewing your current portfolio diversification to mitigate concentration risk."
              actionTrigger:
                type: string
                nullable: true
                description: "An optional trigger for a specific action within the Demo Bank ecosystem."
                example: "open_portfolio_diversification_tool"
          description: "AI-generated, actionable recommendations based on the simulation results."
        riskAnalysis:
          type: object
          description: "Analysis of potential risks associated with the simulated scenario."
          properties:
            maxDrawdown: {type: number, format: float, example: 0.25, description: "Simulated maximum percentage drawdown."}
            volatilityIndex: {type: number, format: float, example: 0.18, description: "Expected volatility index."}
    AdvancedSimulationRequest:
      type: object
      description: "Request for a highly detailed, multi-variable financial simulation."
      required:
        - prompt
        - scenarios
      properties:
        prompt:
          type: string
          description: "An overarching natural language prompt for the advanced simulation."
          example: "Evaluate the long-term impact of a sudden job loss combined with a variable market downturn, analyzing worst-case and best-case recovery scenarios over a decade."
        scenarios:
          type: array
          minItems: 1
          items:
            type: object
            description: "Individual scenarios to simulate and compare."
            properties:
              name:
                type: string
                example: "Job Loss & Mild Market Recovery"
                description: "Name for this specific scenario."
              events:
                type: array
                items:
                  type: object
                  properties:
                    type:
                      type: string
                      enum: [job_loss, market_downturn, salary_increase, unexpected_expense, windfall]
                      example: "job_loss"
                    details:
                      type: object
                      example: {"durationMonths": 6, "severanceAmount": 10000, "unemploymentBenefits": 2000}
                description: "A sequence of financial events to apply in this scenario."
              durationYears:
                type: integer
                example: 10
                description: "Total duration of this scenario in years."
              sensitivityAnalysisParams:
                type: array
                items:
                  type: object
                  properties:
                    paramName: {type: string, example: "marketRecoveryRate"}
                    min: {type: number, example: 0.03}
                    max: {type: number, example: 0.07}
                    step: {type: number, example: 0.01}
                description: "Parameters to vary for sensitivity analysis within this scenario."
    AdvancedSimulationResponse:
      type: object
      description: "Comprehensive results from an advanced multi-variable financial simulation."
      properties:
        simulationId:
          type: string
          example: "sim_oracle-complex-macro-123"
        overallSummary:
          type: string
          description: "An AI-generated executive summary across all simulated scenarios."
        scenarioResults:
          type: array
          items:
            type: object
            description: "Results for each individual scenario simulated."
            properties:
              scenarioName: {type: string, example: "Job Loss & Mild Market Recovery"}
              narrativeSummary: {type: string, example: "In this scenario, initial liquidity challenges are observed, but a swift market recovery and prudent spending lead to recovery within 3 years."}
              finalNetWorthProjected: {type: number, format: float, example: 1250000}
              liquidityMetrics:
                type: object
                properties:
                  minCashBalance: {type: number, format: float, example: -5000, description: "Lowest cash balance reached."}
                  recoveryTimeMonths: {type: integer, example: 36, description: "Months to regain initial financial position."}
              sensitivityAnalysisGraphs:
                type: array
                items:
                  type: object
                  properties:
                    paramName: {type: string, example: "marketRecoveryRate"}
                    data: {type: array, items: {type: object, properties: {paramValue: {type: number}, outcomeValue: {type: number}}}, description: "Data points for plotting sensitivity curve."}
        strategicRecommendations:
          type: array
          items:
            $ref: "#/components/schemas/AIInsight"
          description: "Holistic, AI-driven strategic recommendations across all scenarios."
    QuantumWeaverState:
      type: object
      description: "The current state and progress of a business pitch within the Quantum Weaver incubation platform."
      properties:
        pitchId:
          type: string
          example: "pitch_qw_synergychain-xyz"
          description: "Unique identifier for the business pitch."
        stage:
          type: string
          enum: [submitted, initial_review, ai_analysis, feedback_required, test_phase, final_review, approved_for_funding, rejected, incubated_graduated]
          example: "ai_analysis"
          description: "Current stage of the business plan in the incubation process."
        statusMessage:
          type: string
          example: "Quantum Weaver is currently conducting an in-depth market validation and AI-driven financial projection analysis for SynergyChain AI."
          description: "A human-readable status message."
        lastUpdated:
          type: string
          format: date-time
          example: "2024-07-21T12:00:00Z"
        feedbackSummary:
          type: string
          nullable: true
          description: "A summary of initial AI-generated feedback and potential areas for improvement."
          example: "Initial analysis indicates a strong market fit, but further detail is required on customer acquisition costs and scaling strategy."
        questions:
          type: array
          items:
            $ref: "#/components/schemas/AIQuestion"
          description: "Specific questions from Quantum Weaver requiring clarification or additional data from the entrepreneur."
        nextSteps:
          type: string
          example: "Please address the outstanding questions in the 'questions' array and resubmit feedback."
        estimatedFundingOffer:
          type: number
          format: float
          nullable: true
          example: 5000000
          description: "AI's preliminary estimate of potential seed funding amount (in USD)."
    QuantumWeaverDetailedState:
      type: object
      description: "Expanded, granular state of a business pitch with full AI feedback, financial modeling, and market analysis."
      allOf:
        - $ref: "#/components/schemas/QuantumWeaverState"
        - type: object
          properties:
            aiFinancialModel:
              type: object
              description: "AI-generated financial projections and sensitivity analysis for the business."
              properties:
                revenueBreakdown: {type: object, example: {"Year 1": "2.5M", "Year 2": "7.8M"}}
                costStructureAnalysis: {type: object, example: {"Fixed Costs": "30%", "Variable Costs": "40%"}}
                breakevenPoint: {type: string, example: "18 months"}
                capitalRequirements: {type: number, format: float, example: 4500000}
                sensitivityAnalysis:
                  type: array
                  items:
                    type: object
                    properties:
                      scenario: {type: string, example: "Aggressive Growth"}
                      projectedIRR: {type: number, format: float, example: 0.35}
                      terminalValue: {type: number, format: float, example: 50000000}
            aiMarketAnalysis:
              type: object
              description: "AI-driven market validation, competitive landscape, and growth potential."
              properties:
                targetMarketSize: {type: string, example: "$50 Billion (TAM)"}
                competitiveAdvantages: {type: array, items: {type: string}, example: ["Proprietary AI Algorithm", "First-mover advantage"]}
                growthOpportunities: {type: string, example: "Expansion into APAC region, new product lines."}
                riskFactors: {type: string, example: "Regulatory changes in AI governance."}
            aiCoachingPlan:
              $ref: "#/components/schemas/AIPlan"
              description: "A personalized coaching plan generated by AI to help the entrepreneur refine their pitch and business strategy."
            investorMatchScore:
              type: number
              format: float
              minimum: 0
              maximum: 1
              example: 0.88
              description: "AI's score indicating the alignment of the pitch with Demo Bank's investment thesis and risk appetite."
            aiRiskAssessment:
              type: object
              description: "AI's assessment of the overall business risk."
              properties:
                technicalRisk: {type: string, example: "Medium (complex AI development)"}
                marketRisk: {type: string, example: "Low (established market, clear pain points)"}
                teamRisk: {type: string, example: "Low (experienced founding team)"}
    AIQuestion:
      type: object
      description: "A specific question from Quantum Weaver to the entrepreneur for clarification or elaboration."
      properties:
        id:
          type: string
          example: "q_qa-team-001"
          description: "Unique identifier for the question."
        question:
          type: string
          example: "Please elaborate on the specific technical challenges you anticipate in deploying your quantum-inspired algorithms at scale, and how your team plans to mitigate these."
          description: "The detailed question posed by the AI."
        category:
          type: string
          enum: [team, technology, market, finance, legal, strategy]
          example: "technology"
          description: "The category the question relates to."
        isRequired:
          type: boolean
          example: true
          description: "Indicates if a response to this question is mandatory for progression."
    AIPlan:
      type: object
      description: "A structured, AI-generated plan with a title, summary, and a series of actionable steps."
      properties:
        title:
          type: string
          example: "Pre-Seed Fundraising Strategy"
          description: "Title of the AI-generated plan."
        summary:
          type: string
          example: "This plan outlines key strategic steps to optimize your pitch deck, identify target investors, and prepare for due diligence to secure pre-seed funding."
          description: "Overall summary of the plan."
        steps:
          type: array
          items:
            $ref: "#/components/schemas/AIPlanStep"
          description: "A sequential list of actionable steps within the plan."
    AIPlanStep:
      type: object
      description: "An individual actionable step within an AI-generated plan."
      properties:
        title:
          type: string
          example: "Refine Investor Presentation"
          description: "Concise title for the step."
        description:
          type: string
          example: "Update your pitch deck to incorporate recent market validation data and clearly articulate the competitive differentiation of SynergyChain AI, guided by feedback from Quantum Weaver."
          description: "Detailed description of the action required."
        timeline:
          type: string
          example: "1-2 weeks"
          description: "Estimated timeline for completing this step."
        status:
          type: string
          enum: [pending, in_progress, completed, blocked]
          example: "pending"
          description: "Current status of the step (can be updated by the user)."
        resources:
          type: array
          items:
            type: object
            properties:
              name: {type: string, example: "Pitch Deck Template"}
              url: {type: string, format: uri, example: "https://demobank.com/resources/pitch-template.pptx"}
          nullable: true
          description: "Links to helpful resources for completing the step."
    GenerateVideoRequest:
      type: object
      description: "Request to generate a standard video ad using Veo 2.0."
      required:
        - prompt
      properties:
        prompt:
          type: string
          example: "A captivating ad featuring a young entrepreneur using Demo Bank's AI tools to grow their startup. Focus on innovation and ease of use."
          description: "The text prompt describing the desired video content."
        style:
          type: string
          enum: [Cinematic, Vibrant, Monochrome, Surreal, Abstract, Minimalist]
          default: Cinematic
          description: "The artistic style for the video generation."
        lengthSeconds:
          type: integer
          example: 15
          minimum: 5
          maximum: 60
          description: "Desired length of the video in seconds."
        aspectRatio:
          type: string
          enum: [16:9, 9:16, 1:1]
          default: "16:9"
          description: "Desired aspect ratio of the video (e.g., for YouTube, Instagram Story, or Square feeds)."
        brandColors:
          type: array
          items:
            type: string
            pattern: "^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$"
          nullable: true
          description: "Optional: Hex codes for brand colors to incorporate into the visual theme."
          example: ["#0000FF", "#FFD700"]
        backgroundMusicGenre:
          type: string
          enum: [none, cinematic, upbeat, ambient, electronic, classical]
          default: "cinematic"
          description: "Optional: Genre of background music to accompany the video."
    AdvancedGenerateVideoRequest:
      type: object
      description: "Request to generate an advanced video ad with fine-grained control."
      allOf:
        - $ref: "#/components/schemas/GenerateVideoRequest"
        - type: object
          properties:
            voiceoverText:
              type: string
              nullable: true
              description: "Optional: Text to be used for an AI-generated voiceover. If provided, overrides default narration."
              example: "Demo Bank: Your future, amplified by Quantum AI."
            voiceoverStyle:
              type: string
              enum: [male_professional, female_professional, male_friendly, female_friendly, neutral_optimistic]
              default: "neutral_optimistic"
              description: "The style of the AI-generated voiceover."
            audienceTarget:
              type: string
              enum: [general, young_adult, entrepreneur, corporate, investor]
              nullable: true
              description: "Specify the target audience to influence AI's narrative and visual choices."
              example: "entrepreneur"
            callToAction:
              type: object
              nullable: true
              description: "Details for an explicit call-to-action to be included in the video."
              properties:
                text: {type: string, example: "Visit DemoBank.com to learn more!"}
                url: {type: string, format: uri, example: "https://demobank.com"}
                displayTimeSeconds: {type: integer, example: 5}
            visualElements:
              type: array
              items:
                type: object
                properties:
                  description: {type: string, example: "A seamless transition to a user interacting with the Demo Bank app interface."}
                  timestampSeconds: {type: number, format: float, example: 5.2}
              nullable: true
              description: "Optional: Specific visual cues or scenes to prioritize at certain timestamps."
            brandAssets:
              type: array
              items:
                type: string
                format: uri
              nullable: true
              description: "URLs to brand logos, specific imagery, or video clips to be incorporated into the ad. (Requires prior asset upload)."
              example: ["https://demobank.com/assets/logo_hd.png", "https://demobank.com/assets/quantum_loop_video.mp4"]
    VideoOperationStatus:
      type: object
      description: "The real-time status of a video generation job, including progress and final asset URI."
      properties:
        operationId:
          type: string
          example: "op-video-gen-12345-abcde"
          description: "The unique identifier for the video generation operation."
        status:
          type: string
          enum: [queued, generating, rendering, encoding, post_processing, done, error, cancelled]
          example: "rendering"
          description: "Current status of the video generation process."
        progressPercentage:
          type: integer
          minimum: 0
          maximum: 100
          nullable: true
          example: 75
          description: "Estimated percentage completion of the video generation."
        message:
          type: string
          example: "Encoding final video with optimized codecs..."
          description: "A descriptive message about the current stage of the operation."
        videoUri:
          type: string
          format: uri
          nullable: true
          description: "A temporary, signed URL to download the generated video file. Only present when status is 'done'."
          example: "https://demobank-cdn.com/generated-videos/final/1a2b3c4d.mp4?sig=eyJ..."
        previewImageUri:
          type: string
          format: uri
          nullable: true
          description: "A URL to a static image preview of the generated video. Available during or after generation."
          example: "https://demobank-cdn.com/generated-videos/preview/1a2b3c4d.png"
        errorMessage:
          type: string
          nullable: true
          description: "Detailed error message if the generation failed."
          example: "Failed to process prompt: 'Inappropriate content detected. Please adjust your request.'"
    CorporateCard:
      type: object
      description: "Detailed information for a corporate enterprise card, including its holder, status, and spending controls."
      properties:
        id:
          type: string
          example: "corp_card_xyz987654"
          description: "Unique identifier for the corporate card."
        holderName:
          type: string
          example: "Alex Johnson"
          description: "Name of the employee or individual holding the card."
        associatedEmployeeId:
          type: string
          example: "emp_ajohnson_007"
          description: "Internal employee ID linked to this card."
        cardNumberMask:
          type: string
          example: "4111********1234"
          description: "Masked card number for security (first six and last four digits)."
        expirationDate:
          type: string
          format: date
          example: "2028-12-31"
          description: "Expiration date of the card."
        status:
          type: string
          enum: [Active, Suspended, Lost, Stolen, Cancelled, Expired]
          example: "Active"
          description: "Current operational status of the card."
        frozen:
          type: boolean
          example: false
          description: "Indicates if the card is temporarily frozen, preventing transactions."
        cardType:
          type: string
          enum: [physical, virtual]
          example: "physical"
          description: "Type of card: physical or virtual."
        controls:
          $ref: "#/components/schemas/CorporateCardControls"
          description: "Configured spending limits and transaction controls for the card."
        spendingPolicyId:
          type: string
          nullable: true
          example: "policy_travel_eu"
          description: "ID of the corporate spending policy applied to this card."
        createdDate:
          type: string
          format: date-time
          example: "2023-01-15T09:00:00Z"
          description: "Date and time the card was issued."
    CorporateCardControls:
      type: object
      description: "Granular spending controls and limits for a corporate card."
      properties:
        atmWithdrawals:
          type: boolean
          example: true
          description: "Allow or disallow ATM cash withdrawals."
        contactlessPayments:
          type: boolean
          example: true
          description: "Allow or disallow contactless (NFC) payments."
        onlineTransactions:
          type: boolean
          example: true
          description: "Allow or disallow online transactions."
        internationalTransactions:
          type: boolean
          example: false
          description: "Allow or disallow international transactions."
        monthlyLimit:
          type: number
          format: float
          example: 2500.00
          description: "The total spending limit in USD for the current calendar month."
        dailyLimit:
          type: number
          format: float
          example: 500.00
          description: "The daily spending limit in USD."
        singleTransactionLimit:
          type: number
          format: float
          example: 1000.00
          description: "The maximum amount for a single transaction in USD."
        merchantCategoryRestrictions:
          type: array
          items:
            type: string
          example: ["Restaurants", "Travel", "Office Supplies"]
          description: "List of allowed merchant categories (MCCs). If empty, all are allowed subject to other controls."
        vendorRestrictions:
          type: array
          items:
            type: string
          example: ["Amazon", "Uber"]
          description: "Specific vendors or merchants that are explicitly allowed or blocked."
    VirtualCardCreationRequest:
      type: object
      description: "Request to issue a new virtual corporate card."
      required:
        - holderName
        - purpose
        - controls
      properties:
        holderName:
          type: string
          example: "Marketing Campaign Q3"
          description: "Name or purpose for which the virtual card is issued."
        associatedEmployeeId:
          type: string
          nullable: true
          description: "Optional: Employee ID if this virtual card is tied to a specific employee."
          example: "emp_marketing_01"
        purpose:
          type: string
          example: "Online advertising for Q3 product launch."
          description: "Brief description of the virtual card's intended use."
        controls:
          $ref: "#/components/schemas/CorporateCardControls"
          description: "Specific spending controls and limits for this virtual card. Overrides default policy if provided."
        expirationDate:
          type: string
          format: date
          nullable: true
          description: "Optional: Specific expiration date for the virtual card. Defaults to 1 year if not provided."
          example: "2025-09-30"
    FinancialAnomaly:
      type: object
      description: "An AI-detected financial anomaly requiring review by compliance or risk teams."
      properties:
        id:
          type: string
          example: "anom_risk-2024-07-21-D1E2F3"
          description: "Unique identifier for the financial anomaly."
        description:
          type: string
          example: "Unusual large transaction detected in an inactive account."
          description: "A concise description of the anomaly."
        details:
          type: string
          description: "AI-generated detailed explanation of why this event is considered an anomaly, referencing deviation from normal patterns."
          example: "Transaction of $15,000 to 'International Widgets Inc.' from account 'CHASE CHECKING 4567'. This account has been dormant for 6 months and typical transactions are under $500. High risk score due to dormancy and unusual amount/payee combination."
        severity:
          type: string
          enum: [Low, Medium, High, Critical]
          example: "Critical"
          description: "AI-assessed severity of the anomaly, indicating potential impact."
        status:
          type: string
          enum: [New, Under Review, Escalated, Dismissed, Resolved]
          example: "New"
          description: "Current review status of the anomaly."
        entityType:
          type: string
          enum: [PaymentOrder, Transaction, Counterparty, CorporateCard, Invoice, Account]
          example: "Transaction"
          description: "The type of financial entity or event related to the anomaly."
        entityId:
          type: string
          example: "txn_quantum-2024-07-21-A7B8C9"
          description: "The unique identifier of the related financial entity (e.g., transaction ID, card ID)."
        timestamp:
          type: string
          format: date-time
          example: "2024-07-21T10:15:30Z"
          description: "Timestamp when the anomaly was detected."
        riskScore:
          type: integer
          description: "An AI-generated risk score from 0-100, indicating the probability and potential impact of a fraudulent or non-compliant event."
          minimum: 0
          maximum: 100
          example: 95
        aiConfidenceScore:
          type: number
          format: float
          minimum: 0
          maximum: 1
          example: 0.98
          description: "AI's confidence in the detection of this anomaly."
        recommendedAction:
          type: string
          nullable: true
          example: "Immediately freeze associated corporate card and contact cardholder for verification."
          description: "AI-suggested immediate action for mitigation."
        relatedTransactions:
          type: array
          items:
            type: string
          description: "List of other transaction IDs potentially related to this anomaly."
          example: ["txn_previous_small_txns", "txn_concurrent_suspicious_login"]
    ComplianceAuditRequest:
      type: object
      description: "Request to initiate an AI-driven compliance audit."
      required:
        - auditScope
        - startDate
        - endDate
      properties:
        auditScope:
          type: string
          enum: [all_transactions, corporate_cards, international_payments, specific_entity]
          example: "all_transactions"
          description: "The scope of the compliance audit."
        startDate:
          type: string
          format: date
          description: "Start date for the audit period (inclusive)."
          example: "2024-01-01"
        endDate:
          type: string
          format: date
          description: "End date for the audit period (inclusive)."
          example: "2024-06-30"
        entityId:
          type: string
          nullable: true
          description: "Optional: If `auditScope` is `specific_entity`, the ID of the entity (e.g., corporate card ID, counterparty ID)."
          example: "corp_card_xyz987654"
        regulatoryFrameworks:
          type: array
          items:
            type: string
          nullable: true
          description: "Optional: Specific regulatory frameworks to audit against (e.g., 'GDPR', 'PCI-DSS', 'AML')."
          example: ["AML", "PCI-DSS"]
    CryptoWalletConnection:
      type: object
      description: "Details of a connected cryptocurrency wallet."
      properties:
        id:
          type: string
          example: "wallet_conn_eth_0xabc123"
          description: "Unique identifier for the wallet connection."
        walletProvider:
          type: string
          enum: [MetaMask, Ledger, Trezor, CoinbaseWallet, Other]
          example: "MetaMask"
          description: "The provider or type of the cryptocurrency wallet."
        walletAddress:
          type: string
          example: "0x25a6f8b7C4dC6f5F3E7A3D7E8C9B0A1B2C3D4E5F"
          description: "The primary public address of the wallet."
        blockchainNetwork:
          type: string
          enum: [Ethereum, Polygon, Solana, Bitcoin, BinanceSmartChain, Other]
          example: "Ethereum"
          description: "The primary blockchain network associated with this wallet."
        status:
          type: string
          enum: [connected, disconnected, pending_verification, error]
          example: "connected"
          description: "Current connection status of the wallet."
        lastSynced:
          type: string
          format: date-time
          example: "2024-07-21T13:00:00Z"
          description: "Timestamp of the last successful synchronization with the blockchain."
        readAccessGranted:
          type: boolean
          example: true
          description: "Indicates if Demo Bank has permission to read wallet balances and transaction history."
        writeAccessGranted:
          type: boolean
          example: false
          description: "Indicates if Demo Bank has permission to initiate transactions from this wallet (e.g., via signing requests)."
    ConnectWalletRequest:
      type: object
      description: "Request to connect a new crypto wallet."
      required:
        - walletAddress
        - walletProvider
        - signedMessage
      properties:
        walletAddress:
          type: string
          example: "0x123abc..."
          description: "The public address of the wallet to connect."
        walletProvider:
          type: string
          enum: [MetaMask, Ledger, Trezor, CoinbaseWallet, Other]
          example: "MetaMask"
          description: "The provider of the wallet."
        signedMessage:
          type: string
          description: "A cryptographic signature generated by the wallet, proving ownership of the address (e.g., signing a nonce provided by Demo Bank)."
          example: "0xabcdef1234567890..."
        blockchainNetwork:
          type: string
          enum: [Ethereum, Polygon, Solana, Bitcoin, BinanceSmartChain, Other]
          default: "Ethereum"
          description: "The primary blockchain network for this wallet."
    NFTAsset:
      type: object
      description: "Detailed information about a Non-Fungible Token (NFT)."
      properties:
        id:
          type: string
          example: "nft_bored_ape_yacht_club_1234"
          description: "Unique identifier for the NFT (often contract address + token ID)."
        collectionName:
          type: string
          example: "Bored Ape Yacht Club"
          description: "Name of the NFT collection."
        name:
          type: string
          example: "Bored Ape #1234"
          description: "Individual name of the NFT."
        description:
          type: string
          nullable: true
          example: "A unique digital collectible from the Bored Ape Yacht Club series."
          description: "Description of the NFT."
        imageUrl:
          type: string
          format: uri
          example: "https://opensea.io/assets/ethereum/0xbc4ca0eda7647a8ab7c2061c2e118a18a936f13d/1234"
          description: "URL to the NFT's primary image."
        blockchainNetwork:
          type: string
          enum: [Ethereum, Polygon, Solana, Other]
          example: "Ethereum"
          description: "The blockchain network where the NFT resides."
        ownerAddress:
          type: string
          example: "0x25a6f8b7C4dC6f5F3E7A3D7E8C9B0A1B2C3D4E5F"
          description: "The blockchain address currently owning the NFT."
        contractAddress:
          type: string
          example: "0xbc4ca0eda7647a8ab7c2061c2e118a18a936f13d"
          description: "The smart contract address of the NFT collection."
        tokenId:
          type: string
          example: "1234"
          description: "The unique token ID within the contract."
        lastSalePriceUSD:
          type: number
          format: float
          nullable: true
          example: 150000.00
          description: "Last recorded sale price in USD, if available."
        estimatedValueUSD:
          type: number
          format: float
          nullable: true
          example: 160000.00
          description: "AI-estimated current market value in USD."
        attributes:
          type: array
          items:
            type: object
            properties:
              trait_type: {type: string, example: "Background"}
              value: {type: string, example: "Blue"}
          description: "Key attributes or traits of the NFT."
    InternationalPaymentRequest:
      type: object
      description: "Request to initiate an international wire transfer."
      required:
        - sourceAccountId
        - amount
        - sourceCurrency
        - targetCurrency
        - beneficiary
        - purpose
      properties:
        sourceAccountId:
          type: string
          example: "acc_chase_checking_4567"
          description: "The ID of the Demo Bank account from which to send funds."
        amount:
          type: number
          format: float
          example: 5000.00
          description: "The amount to send in the source currency."
        sourceCurrency:
          type: string
          example: "USD"
          description: "The currency of the source account."
        targetCurrency:
          type: string
          example: "EUR"
          description: "The currency the beneficiary will receive."
        beneficiary:
          type: object
          description: "Details of the recipient."
          properties:
            name: {type: string, example: "Maria Schmidt"}
            address: {type: string, example: "Hauptstrasse 1, 10115 Berlin, Germany"}
            bankName: {type: string, example: "Deutsche Bank"}
            iban: {type: string, example: "DE89370400440532013000"}
            swiftBic: {type: string, example: "DEUTDEFF"}
          required:
            - name
            - address
            - bankName
            - iban
            - swiftBic
        purpose:
          type: string
          example: "Vendor payment for Q2 services."
          description: "A description of the purpose of the transfer."
        fxRateLock:
          type: boolean
          default: false
          description: "If true, attempts to lock the FX rate at the time of request for a limited period."
        fxRateProvider:
          type: string
          enum: [best_available, proprietary_ai, preferred_partner]
          default: "proprietary_ai"
          description: "Strategy for selecting the foreign exchange rate provider."
    InternationalPaymentStatus:
      type: object
      description: "Status of an international payment request."
      required:
        - paymentId
        - status
        - sourceAmount
        - sourceCurrency
        - targetAmount
        - targetCurrency
        - fxRateApplied
      properties:
        paymentId:
          type: string
          example: "int_pmt_xyz7890"
          description: "Unique ID for the international payment."
        status:
          type: string
          enum: [pending, in_progress, completed, failed, cancelled, held_for_review]
          example: "in_progress"
          description: "Current status of the payment."
        sourceAmount:
          type: number
          format: float
          example: 5000.00
          description: "The amount sent from the source account."
        sourceCurrency:
          type: string
          example: "USD"
          description: "The currency of the source amount."
        targetAmount:
          type: number
          format: float
          example: 4500.00
          description: "The estimated or actual amount to be received by the beneficiary in target currency."
        targetCurrency:
          type: string
          example: "EUR"
          description: "The currency received by the beneficiary."
        fxRateApplied:
          type: number
          format: float
          example: 0.90
          description: "The foreign exchange rate applied (Target per Source, e.g., 0.90 EUR per 1 USD)."
        estimatedCompletionTime:
          type: string
          format: date-time
          nullable: true
          example: "2024-07-22T15:00:00Z"
          description: "Estimated time when the payment will be completed."
        trackingUrl:
          type: string
          format: uri
          nullable: true
          example: "https://demobank.com/payments/track/xyz7890"
          description: "URL to a page for real-time payment tracking."
        feesApplied:
          type: number
          format: float
          example: 15.00
          description: "Total fees applied to the transfer (in source currency)."
    FxRateResponse:
      type: object
      description: "Real-time and predictive foreign exchange rates."
      properties:
        baseCurrency:
          type: string
          example: "USD"
        targetCurrency:
          type: string
          example: "EUR"
        currentRate:
          type: object
          properties:
            bid: {type: number, format: float, example: 0.9025}
            ask: {type: number, format: float, example: 0.9035}
            mid: {type: number, format: float, example: 0.9030}
            timestamp: {type: string, format: date-time, example: "2024-07-21T13:30:00Z"}
          description: "Real-time bid, ask, and mid-market rates."
        predictiveRates:
          type: array
          items:
            type: object
            properties:
              date: {type: string, format: date, example: "2024-07-28"}
              predictedMidRate: {type: number, format: float, example: 0.9050}
              confidenceIntervalLower: {type: number, format: float, example: 0.9010}
              confidenceIntervalUpper: {type: number, format: float, example: 0.9090}
              aiModelConfidence: {type: number, format: float, minimum: 0, maximum: 1, example: 0.88, description: "AI's confidence in the prediction."}
          description: "AI-predicted FX rates for future dates with confidence intervals."
        historicalVolatility:
          type: object
          properties:
            past7Days: {type: number, format: float, example: 0.005}
            past30Days: {type: number, format: float, example: 0.012}
          description: "Historical volatility metrics for the currency pair."
    CarbonFootprintReport:
      type: object
      description: "A detailed report of the user's estimated carbon footprint, with breakdown and recommendations."
      properties:
        totalCarbonFootprintKgCO2e:
          type: number
          format: float
          example: 520.5
          description: "Total estimated carbon footprint for the reporting period (e.g., last month) in kg CO2e."
        reportingPeriod:
          type: object
          properties:
            startDate: {type: string, format: date, example: "2024-06-01"}
            endDate: {type: string, format: date, example: "2024-06-30"}
        breakdownByCategory:
          type: array
          items:
            type: object
            properties:
              category: {type: string, example: "Transportation"}
              kgCO2e: {type: number, format: float, example: 250.3}
              percentage: {type: number, format: float, example: 48.1}
          description: "Carbon footprint breakdown by spending category."
        comparisonToAverage:
          type: string
          example: "Your footprint is 15% lower than the national average for similar income brackets."
          description: "AI-generated comparison to relevant averages."
        recommendations:
          type: array
          items:
            type: object
            properties:
              title: {type: string, example: "Reduce Car Commutes"}
              description: {type: string, example: "Consider public transport or cycling twice a week for a potential 20kg CO2e monthly saving."}
              estimatedImpactKgCO2e: {type: number, format: float, example: 20}
          description: "Actionable recommendations to reduce carbon footprint."
        offsetsPurchasedKgCO2e:
          type: number
          format: float
          example: 100.0
          description: "Amount of carbon offsets purchased (if any) during the period."
    InvestmentESGImpact:
      type: object
      description: "Analysis of the ESG impact of an investment portfolio."
      properties:
        portfolioId:
          type: string
          example: "inv_portfolio_growth_001"
          description: "The ID of the investment portfolio analyzed."
        overallESGRating:
          type: string
          enum: [AAA, AA, A, BBB, BB, B, CCC]
          example: "AA"
          description: "Overall ESG rating of the portfolio, based on aggregated holdings."
        totalESGScore:
          type: number
          format: float
          example: 7.8
          description: "A composite ESG score (e.g., out of 10)."
        breakdownByPillar:
          type: object
          properties:
            environmental: {type: number, format: float, example: 8.5}
            social: {type: number, format: float, example: 7.2}
            governance: {type: number, format: float, example: 7.7}
          description: "ESG score breakdown by Environmental, Social, and Governance pillars."
        topESGPerformers:
          type: array
          items:
            type: object
            properties:
              assetName: {type: string, example: "EcoSolutions Inc."}
              esgScore: {type: number, format: float, example: 9.1}
              contributionToPortfolio: {type: number, format: float, example: 0.15, description: "Percentage of portfolio value."}
          description: "List of top performing assets in terms of ESG within the portfolio."
        areasForImprovement:
          type: string
          example: "Your portfolio has lower-than-average scores in 'water management' and 'labor practices' due to specific holdings in the industrial sector. Consider rebalancing towards companies with stronger policies in these areas."
          description: "AI-identified areas where the portfolio's ESG performance could be improved."
        impactMetrics:
          type: object
          properties:
            renewableEnergyInvestmentPercent: {type: number, format: float, example: 0.12, description: "Percentage of portfolio invested in renewable energy."}
            genderDiversityScore: {type: number, format: float, example: 0.75, description: "Composite score for gender diversity in leadership."}
            carbonIntensityScore: {type: number, format: float, example: 125.5, description: "Weighted average carbon intensity of holdings."}
    LoanApplicationRequest:
      type: object
      description: "Request to submit a loan application."
      required:
        - loanAmount
        - loanPurpose
        - desiredTermMonths
      properties:
        loanAmount:
          type: number
          format: float
          example: 25000.00
          description: "The desired loan amount in USD."
        loanPurpose:
          type: string
          enum: [personal_loan, business_startup, debt_consolidation, home_improvement, education]
          example: "home_improvement"
          description: "The primary purpose for the loan."
        desiredTermMonths:
          type: integer
          example: 60
          minimum: 6
          maximum: 120
          description: "Desired repayment term in months."
        coApplicantInfo:
          type: object
          nullable: true
          description: "Optional details for a co-applicant."
          properties:
            name: {type: string, example: "Jane Doe"}
            email: {type: string, format: email, example: "jane.doe@example.com"}
            relationship: {type: string, example: "Spouse"}
        additionalNotes:
          type: string
          nullable: true
          example: "Planning a major kitchen renovation that will increase home value."
          description: "Any additional information for the AI underwriter."
    LoanApplicationStatus:
      type: object
      description: "Status and details of a loan application, including AI underwriting results."
      properties:
        applicationId:
          type: string
          example: "loan_app_creditflow-123"
          description: "Unique identifier for the loan application."
        status:
          type: string
          enum: [pending_review, approved, declined, withdrawn, funding_in_progress, funded]
          example: "approved"
          description: "Current status of the loan application."
        loanAmountApproved:
          type: number
          format: float
          nullable: true
          example: 25000.00
          description: "The final approved loan amount, if approved."
        interestRate:
          type: number
          format: float
          nullable: true
          example: 0.065
          description: "Annual Percentage Rate (APR) offered, if approved."
        termMonths:
          type: integer
          nullable: true
          example: 60
          description: "Approved repayment term in months."
        monthlyPayment:
          type: number
          format: float
          nullable: true
          example: 488.71
          description: "Estimated monthly repayment amount."
        decisionMessage:
          type: string
          example: "Congratulations! Your loan application has been approved. Please review the terms below and accept to proceed."
          description: "AI-generated message explaining the application decision."
        declineReason:
          type: string
          nullable: true
          example: "Your current debt-to-income ratio exceeds our lending guidelines."
          description: "If declined, the AI-identified primary reason for the decision."
        decisionTimestamp:
          type: string
          format: date-time
          example: "2024-07-21T14:00:00Z"
          description: "Timestamp when the AI decision was made."
        offerExpiration:
          type: string
          format: date-time
          nullable: true
          example: "2024-07-28T23:59:59Z"
          description: "If approved, the expiration date for accepting the loan offer."
        repaymentScheduleUrl:
          type: string
          format: uri
          nullable: true
          description: "URL to the detailed repayment schedule if the loan is approved and accepted."
          example: "https://demobank.com/loans/schedule/creditflow-123.pdf"
    WebhookSubscription:
      type: object
      description: "Details of an active webhook subscription."
      properties:
        id:
          type: string
          example: "whsub_devtool_finance_events"
          description: "Unique identifier for the webhook subscription."
        callbackUrl:
          type: string
          format: uri
          example: "https://my-app.com/demobank-webhook-listener"
          description: "The URL where event notifications will be sent."
        eventTypes:
          type: array
          items:
            type: string
          example: ["account.balance_updated", "transaction.new", "ai.insight_generated"]
          description: "A list of event types for which notifications will be sent."
        secret:
          type: string
          readOnly: true
          description: "A secret key used to sign webhook payloads, ensuring authenticity and integrity. Only shown upon creation."
          example: "sh_abcdef1234567890"
        status:
          type: string
          enum: [active, paused, disabled, error]
          example: "active"
          description: "Current status of the subscription."
        createdAt:
          type: string
          format: date-time
          example: "2024-06-10T10:00:00Z"
        lastDeliveryAttempt:
          type: string
          format: date-time
          nullable: true
          example: "2024-07-21T14:35:00Z"
          description: "Timestamp of the last attempted event delivery."
        lastDeliverySuccess:
          type: boolean
          nullable: true
          example: true
          description: "Indicates if the last delivery attempt was successful."
    WebhookSubscriptionCreationRequest:
      type: object
      description: "Request to create a new webhook subscription."
      required:
        - callbackUrl
        - eventTypes
      properties:
        callbackUrl:
          type: string
          format: uri
          example: "https://my-app.com/demobank-webhook-listener"
          description: "The URL where event notifications will be sent. Must be HTTPS."
        eventTypes:
          type: array
          items:
            type: string
          example: ["account.balance_updated", "transaction.new"]
          description: "A list of event types to subscribe to. Available types can be found in API documentation."
        description:
          type: string
          nullable: true
          description: "An optional description for the webhook subscription."
          example: "Webhook for real-time transaction processing in my budgeting app."
    WebhookSubscriptionUpdateRequest:
      type: object
      description: "Request to update an existing webhook subscription."
      properties:
        callbackUrl:
          type: string
          format: uri
          nullable: true
          example: "https://my-new-app.com/demobank-events"
          description: "The new URL for event notifications."
        eventTypes:
          type: array
          items:
            type: string
          nullable: true
          example: ["account.balance_updated", "transaction.new", "transaction.updated"]
          description: "The updated list of event types to subscribe to."
        status:
          type: string
          enum: [active, paused, disabled]
          nullable: true
          example: "paused"
          description: "The new status for the subscription."
    KYCDocumentSubmission:
      type: object
      description: "Payload for submitting KYC (Know Your Customer) documentation."
      required:
        - documentType
        - documentReference
        - consentGiven
      properties:
        documentType:
          type: string
          enum: [passport, drivers_license, national_id, utility_bill, bank_statement]
          example: "passport"
          description: "Type of identity document being submitted."
        documentReference:
          type: string
          format: uri
          description: "A secure URL to the uploaded document image or scanned PDF. (e.g., from a pre-signed S3 upload)."
          example: "https://demobank-uploads.com/kyc/user_passport_scan.pdf"
        documentNumber:
          type: string
          nullable: true
          description: "The document number (e.g., passport number, license number)."
          example: "P12345678"
        issueDate:
          type: string
          format: date
          nullable: true
          example: "2020-03-10"
        expirationDate:
          type: string
          format: date
          nullable: true
          example: "2030-03-09"
        consentGiven:
          type: boolean
          example: true
          description: "User's explicit consent for Demo Bank to process and verify the submitted documents for KYC/AML purposes."
        addressProofType:
          type: string
          enum: [utility_bill, bank_statement, rental_agreement, other]
          nullable: true
          description: "If submitting address proof, the type of document."
        addressProofReference:
          type: string
          format: uri
          nullable: true
          description: "Secure URL to the uploaded address proof document."
          example: "https://demobank-uploads.com/kyc/user_utility_bill.pdf"
    KYCStatus:
      type: object
      description: "The current status of a KYC (Know Your Customer) verification submission."
      properties:
        submissionId:
          type: string
          example: "kyc_sub_abc123def456"
          description: "Unique identifier for the KYC submission."
        status:
          type: string
          enum: [pending_review, in_progress, additional_info_required, approved, rejected, cancelled]
          example: "in_progress"
          description: "Current status of the KYC verification process."
        message:
          type: string
          example: "Your documents are currently undergoing AI-accelerated review. We will notify you of the outcome within 24 hours."
          description: "A human-readable message regarding the status."
        rejectionReason:
          type: string
          nullable: true
          example: "Document blurry or details not legible."
          description: "If rejected, the AI-identified primary reason for rejection."
        requiredActions:
          type: string
          nullable: true
          example: "Please upload a clearer image of your passport's photo page."
          description: "If additional information is required, a description of the necessary steps."
        lastUpdated:
          type: string
          format: date-time
          example: "2024-07-21T15:00:00Z"
    CashFlowForecast:
      type: object
      description: "AI-driven cash flow forecast for an organization, projecting liquidity and identifying trends."
      properties:
        organizationId:
          type: string
          example: "org_global_corp_123"
          description: "The ID of the organization for which the forecast was generated."
        forecastHorizonDays:
          type: integer
          example: 90
          description: "The number of days into the future for the forecast."
        baseDate:
          type: string
          format: date
          example: "2024-07-21"
          description: "The starting date of the forecast."
        netCashFlowProjection:
          type: array
          items:
            type: object
            properties:
              date: {type: string, format: date, example: "2024-07-22"}
              projectedBalance: {type: number, format: float, example: 1250000.50}
          description: "Daily projection of the organization's net cash balance."
        inflowProjections:
          type: object
          description: "AI-projected inflows categorized."
          properties:
            total: {type: number, format: float, example: 3000000, description: "Total projected inflows for the horizon."}
            salesRevenue: {type: number, format: float, example: 2500000}
            investmentIncome: {type: number, format: float, example: 500000}
        outflowProjections:
          type: object
          description: "AI-projected outflows categorized."
          properties:
            total: {type: number, format: float, example: 2800000, description: "Total projected outflows for the horizon."}
            payroll: {type: number, format: float, example: 1200000}
            vendorPayments: {type: number, format: float, example: 1000000}
            operatingExpenses: {type: number, format: float, example: 600000}
        liquidityAlerts:
          type: array
          items:
            type: object
            properties:
              date: {type: string, format: date, example: "2024-08-15"}
              type: {type: string, enum: [deficit, surplus, low_threshold]}
              message: {type: string, example: "Projected liquidity deficit of $50,000. Consider extending payment terms or drawing from credit line."}
          description: "AI-generated alerts for potential liquidity issues or opportunities."
        scenarioAnalysis:
          type: array
          items:
            type: object
            properties:
              scenarioName: {type: string, example: "Worst Case (Delayed Collections)"}
              impactOnCashFlow: {type: number, format: float, example: -250000}
              riskProbability: {type: number, format: float, minimum: 0, maximum: 1, example: 0.15}
          description: "Optional: AI-generated best-case, worst-case, and most-likely scenarios."
        recommendations:
          type: array
          items:
            $ref: "#/components/schemas/AIInsight"
          description: "AI-driven recommendations for optimizing cash flow and liquidity."
    FraudRule:
      type: object
      description: "Definition of an AI-powered fraud detection rule."
      properties:
        id:
          type: string
          example: "fraud_rule_high_value_inactive"
          description: "Unique identifier for the fraud rule."
        name:
          type: string
          example: "High Value Transaction from Inactive Account"
          description: "Human-readable name for the rule."
        description:
          type: string
          example: "Flags any single transaction over $10,000 from an account that has been dormant for more than 90 days."
          description: "Detailed description of the rule's logic."
        status:
          type: string
          enum: [active, inactive, draft]
          example: "active"
          description: "Current status of the rule."
        severity:
          type: string
          enum: [Low, Medium, High, Critical]
          example: "Critical"
          description: "Default severity for anomalies detected by this rule."
        triggers:
          type: array
          items:
            type: object
            properties:
              metric: {type: string, enum: [transaction_amount, account_activity_days, transaction_count_24h, ip_country_mismatch], example: "transaction_amount"}
              operator: {type: string, enum: [gt, lt, eq, gte, lte], example: "gt"}
              value: {type: string, example: "10000"}
              unit: {type: string, nullable: true, example: "USD"}
          description: "Conditions that trigger the rule. Supports complex boolean logic."
        actions:
          type: array
          items:
            type: object
            properties:
              type: {type: string, enum: [flag_for_review, block_transaction, freeze_card, send_alert_email, require_mfa], example: "block_transaction"}
              details: {type: string, nullable: true, example: "Transaction automatically blocked. Anomaly created."}
          description: "Automated actions to take when the rule is triggered."
        createdAt:
          type: string
          format: date-time
          example: "2024-05-01T08:00:00Z"
        lastModifiedAt:
          type: string
          format: date-time
          example: "2024-07-10T11:20:00Z"
        createdBy:
          type: string
          example: "admin_security"
    FraudRuleCreationRequest:
      type: object
      description: "Request to create a new AI-powered fraud detection rule."
      required:
        - name
        - description
        - severity
        - triggers
        - actions
      properties:
        name:
          type: string
          example: "High Velocity Small Transactions"
          description: "Human-readable name for the new rule."
        description:
          type: string
          example: "Flags multiple small transactions (under $50) to different merchants within a very short timeframe (e.g., 5 transactions in 10 minutes), indicative of card testing."
          description: "Detailed description of the rule's logic."
        severity:
          type: string
          enum: [Low, Medium, High, Critical]
          example: "High"
          description: "Default severity for anomalies detected by this rule."
        triggers:
          type: array
          items:
            type: object
            properties:
              metric: {type: string, enum: [transaction_amount, account_activity_days, transaction_count_24h, ip_country_mismatch], example: "transaction_count_24h"}
              operator: {type: string, enum: [gt, lt, eq, gte, lte], example: "gte"}
              value: {type: string, example: "5"}
              timeWindowSeconds: {type: integer, example: 600, description: "Time window for aggregation in seconds (e.g., 600 for 10 minutes)."}
              additionalConditions:
                type: array
                items:
                  type: object
                  properties:
                    metric: {type: string, enum: [transaction_amount], example: "transaction_amount"}
                    operator: {type: string, enum: [lt], example: "lt"}
                    value: {type: string, example: "50"}
          description: "Conditions that trigger the rule."
        actions:
          type: array
          items:
            type: object
            properties:
              type: {type: string, enum: [flag_for_review, block_transaction, freeze_card, send_alert_email, require_mfa], example: "flag_for_review"}
              details: {type: string, nullable: true, example: "Flagged for immediate review by fraud analyst."}
          description: "Automated actions to take when the rule is triggered."
        status:
          type: string
          enum: [active, inactive, draft]
          default: "active"
          description: "Initial status of the rule upon creation."
    Error:
      type: object
      required:
        - code
        - message
      properties:
        code:
          type: string
          example: "validation_error"
          description: "A machine-readable error code, useful for programmatic error handling."
        message:
          type: string
          example: "The 'amount' parameter must be a positive number and within the daily limit."
          description: "A human-readable explanation of the error."
        details:
          type: object
          nullable: true
          description: "Optional: Detailed context about the error, such as specific fields that failed validation."
          example: {"field": "amount", "reason": "must be positive and less than 1000", "current_limit": 1000}
        traceId:
          type: string
          nullable: true
          example: "trc_xyz123abc456"
          description: "A unique trace ID for this specific request, useful for debugging and support."

# Further schemas to support the exponential expansion for other tags and paths (placeholders for brevity, but would be fully defined)
# This is where the expansion truly becomes exponential, defining schemas for all brainstormed concepts.

# Schemas for "Budgets & Financial Planning"
    Budget:
      type: object
      properties:
        id: {type: string, example: "budget_monthly_aug"}
        name: {type: string, example: "August Personal Spending"}
        period: {type: string, enum: [monthly, weekly, yearly, custom], example: "monthly"}
        startDate: {type: string, format: date, example: "2024-08-01"}
        endDate: {type: string, format: date, example: "2024-08-31"}
        totalBudgetAmount: {type: number, format: float, example: 3000.00}
        spentAmount: {type: number, format: float, example: 1250.00}
        remainingAmount: {type: number, format: float, example: 1750.00}
        categories:
          type: array
          items:
            type: object
            properties:
              category: {type: string, example: "Dining & Restaurants"}
              budgeted: {type: number, format: float, example: 500.00}
              spent: {type: number, format: float, example: 320.00}
              remaining: {type: number, format: float, example: 180.00}
              alertThreshold: {type: number, example: 0.8, description: "Percentage of budget spent to trigger an alert."}
        status: {type: string, enum: [on_track, overspent, underspent, completed], example: "on_track"}
        aiRecommendations: {type: string, nullable: true, example: "Consider reallocating $50 from 'Shopping' to 'Dining' due to current spending trends."}
    BudgetCreationRequest:
      type: object
      properties:
        name: {type: string, example: "September Personal Spending"}
        period: {type: string, enum: [monthly, weekly, yearly, custom], example: "monthly"}
        startDate: {type: string, format: date, example: "2024-09-01"}
        endDate: {type: string, format: date, example: "2024-09-30"}
        autoPopulateFromAI: {type: boolean, default: true, description: "If true, AI will suggest categories and amounts based on history."}

# Schemas for "Investments & Portfolio Intelligence"
    InvestmentPortfolio:
      type: object
      properties:
        id: {type: string, example: "portfolio_equity_growth"}
        name: {type: string, example: "Aggressive Growth Stocks"}
        currency: {type: string, example: "USD"}
        totalValue: {type: number, format: float, example: 150000.00}
        gainLoss: {type: number, format: float, example: 15000.00, description: "Absolute gain/loss since inception."}
        gainLossPercentage: {type: number, format: float, example: 11.11}
        riskTolerance: {type: string, enum: [low, medium, high, aggressive], example: "aggressive"}
        aiPerformanceInsights: {type: string, example: "Portfolio significantly outperformed benchmark due to strong tech sector exposure."}
        holdings:
          type: array
          items:
            type: object
            properties:
              symbol: {type: string, example: "NVDA"}
              name: {type: string, example: "NVIDIA Corp"}
              quantity: {type: number, format: float, example: 50.0}
              currentPrice: {type: number, format: float, example: 1200.00}
              totalValue: {type: number, format: float, example: 60000.00}
              averageCost: {type: number, format: float, example: 800.00}
              gainLoss: {type: number, format: float, example: 20000.00}
              esgScore: {type: number, format: float, nullable: true, example: 7.5}
    RebalanceRequest:
      type: object
      properties:
        portfolioId: {type: string, example: "portfolio_equity_growth"}
        targetRiskTolerance: {type: string, enum: [low, medium, high, aggressive], example: "medium"}
        rebalanceStrategy: {type: string, enum: [ai_optimized, tax_loss_harvesting, equal_weight], example: "ai_optimized"}
        confirmAutomaticExecution: {type: boolean, default: false}
    ESGAssetSearchResult:
      type: object
      properties:
        symbol: {type: string, example: "TSLA"}
        companyName: {type: string, example: "Tesla Inc."}
        industry: {type: string, example: "Automotive"}
        esgRating: {type: string, enum: [AAA, AA, A, BBB, BB, B, CCC], example: "A"}
        esgScore: {type: number, format: float, example: 7.2}
        environmentalScore: {type: number, format: float, example: 8.0}
        socialScore: {type: number, format: float, example: 6.5}
        governanceScore: {type: number, format: float, example: 7.0}
        aiImpactSummary: {type: string, example: "Strong environmental performance due to EV production, but faces scrutiny on social aspects like labor relations."}

# Schemas for "Financial Goals & Strategic Planning"
    FinancialGoal:
      type: object
      properties:
        id: {type: string, example: "goal_retirement_2050"}
        name: {type: string, example: "Retirement Savings 2050"}
        type: {type: string, enum: [retirement, home_purchase, education, debt_payoff, large_purchase], example: "retirement"}
        targetAmount: {type: number, format: float, example: 1000000.00}
        currentAmount: {type: number, format: float, example: 250000.00}
        targetDate: {type: string, format: date, example: "2050-12-31"}
        progressPercentage: {type: number, format: float, example: 25.0}
        status: {type: string, enum: [on_track, behind, ahead, completed, paused], example: "on_track"}
        aiStrategicPlan:
          $ref: "#/components/schemas/AIPlan"
        aiForecast:
          type: object
          properties:
            projectedCompletionDate: {type: string, format: date, example: "2050-08-01"}
            confidenceScore: {type: integer, minimum: 0, maximum: 100, example: 85}
            monthlyContributionRequired: {type: number, format: float, example: 1500.00}
    GoalCreationRequest:
      type: object
      properties:
        name: {type: string, example: "Dream Home Fund"}
        type: {type: string, enum: [retirement, home_purchase, education, debt_payoff, large_purchase], example: "home_purchase"}
        targetAmount: {type: number, format: float, example: 100000.00}
        targetDate: {type: string, format: date, example: "2029-06-30"}
        autoGeneratePlan: {type: boolean, default: true}

# Schemas for "Marketplace (Plato AI)"
    ProductListing:
      type: object
      properties:
        id: {type: string, example: "prod_smart_speaker_001"}
        name: {type: string, example: "Quantum Sound AI Smart Speaker"}
        description: {type: string, example: "Experience unparalleled audio and integrated Quantum AI assistance in your home."}
        category: {type: string, example: "Smart Home Devices"}
        price: {type: number, format: float, example: 299.99}
        currency: {type: string, example: "USD"}
        imageUrl: {type: string, format: uri, example: "https://demobank-marketplace.com/products/speaker.jpg"}
        affiliateLink: {type: string, format: uri, example: "https://partner.com/product/speaker?ref=demobank"}
        aiRecommendationScore: {type: number, format: float, example: 0.95, description: "AI's personalized recommendation score for the user (0-1)."}
        tags: {type: array, items: {type: string}, example: ["AI", "Smart Home", "Audio", "Premium"]}
    ProductImpactSimulationRequest:
      type: object
      properties:
        productId: {type: string, example: "prod_smart_speaker_001"}
        purchasePrice: {type: number, format: float, example: 299.99}
        paymentMethod: {type: string, enum: [cash, credit_card, installment_plan], example: "cash"}
        installmentsMonths: {type: integer, nullable: true, example: 12}
    ProductImpactSimulationResponse:
      type: object
      properties:
        simulationId: {type: string, example: "prod_sim_007"}
        narrativeSummary: {type: string, example: "Purchasing the Quantum Sound AI speaker via cash will reduce your available checking balance by $299.99. However, our AI predicts your overall net worth remains stable, and no critical budget categories will be impacted."}
        financialImpact:
          type: object
          properties:
            cashFlowChange: {type: number, format: float, example: -299.99}
            debtIncrease: {type: number, format: float, example: 0.00}
            budgetCategoryImpact:
              type: object
              properties:
                category: {type: string, example: "Electronics"}
                impactAmount: {type: number, format: float, example: -299.99}
                status: {type: string, enum: [within_budget, over_budget], example: "within_budget"}
        aiAdvice: {type: string, example: "Your current 'Discretionary' budget can comfortably absorb this purchase. Enjoy your new smart speaker!"}

# Schemas for "Rewards & Gamification Engine"
    RewardBalance:
      type: object
      properties:
        points: {type: integer, example: 12500}
        tier: {type: string, example: "Zenith Platinum"}
        nextTierPoints: {type: integer, nullable: true, example: 25000}
        benefits: {type: array, items: {type: string}, example: ["Priority Support", "Exclusive AI Features", "1.5x Point Earning"]}
    RedemptionRequest:
      type: object
      properties:
        rewardItemId: {type: string, example: "item_amazon_gift_100"}
        pointsToRedeem: {type: integer, example: 10000}
        confirmationRequired: {type: boolean, default: true}
    RedemptionConfirmation:
      type: object
      properties:
        redemptionId: {type: string, example: "redemption_xyzabc"}
        status: {type: string, enum: [success, pending, failed, insufficient_points], example: "success"}
        message: {type: string, example: "Congratulations! Your $100 Amazon gift card has been sent to your email."}

# Schemas for "Credit Health & AI Underwriting"
    CreditScoreDetails:
      type: object
      properties:
        score: {type: integer, example: 780}
        provider: {type: string, example: "Experian"}
        lastUpdated: {type: string, format: date, example: "2024-07-15"}
        scoreFactors:
          type: array
          items:
            type: object
            properties:
              factor: {type: string, example: "Payment History"}
              impact: {type: string, enum: [positive, negative, neutral], example: "positive"}
              description: {type: string, example: "Excellent record of on-time payments."}
        aiRecommendations: {type: string, example: "Your credit health is strong. To potentially reach the 800+ tier, consider maintaining low credit utilization across all cards."}
    CreditImprovementPlan:
      type: object
      properties:
        planId: {type: string, example: "credit_plan_boost_001"}
        title: {type: string, example: "Credit Score Boost Plan"}
        targetScore: {type: integer, example: 800}
        estimatedTimelineMonths: {type: integer, example: 12}
        status: {type: string, enum: [active, completed, paused], example: "active"}
        steps:
          type: array
          items:
            $ref: "#/components/schemas/AIPlanStep"

# Schemas for "Notifications & Proactive Alerts"
    Notification:
      type: object
      properties:
        id: {type: string, example: "notif_txn_alert_001"}
        type: {type: string, enum: [transaction_alert, security_alert, budget_alert, ai_insight, system_update], example: "transaction_alert"}
        title: {type: string, example: "Large Transaction Alert"}
        body: {type: string, example: "A transaction of $500.00 was made at 'Quantum Electronics'. If this was not you, please contact support."}
        timestamp: {type: string, format: date-time, example: "2024-07-21T16:00:00Z"}
        read: {type: boolean, example: false}
        link: {type: string, format: uri, nullable: true, example: "https://demobank.com/transactions/txn_xyz"}
        severity: {type: string, enum: [info, warning, critical], example: "critical"}
        actionable: {type: boolean, example: true}
    NotificationSettings:
      type: object
      properties:
        push: {type: boolean, example: true}
        email: {type: boolean, example: true}
        sms: {type: boolean, example: false}
        transactionAlerts: {type: boolean, example: true}
        securityAlerts: {type: boolean, example: true}
        aiInsights: {type: boolean, example: true}
        marketingPromotions: {type: boolean, example: false}

# Schemas for "Security & Open Banking Ecosystem"
    ApiKey:
      type: object
      properties:
        id: {type: string, example: "api_key_dev_app_01"}
        name: {type: string, example: "My Budgeting App Integration"}
        key: {type: string, readOnly: true, example: "sk_live_xyzabcdef1234567890"}
        scopes: {type: array, items: {type: string}, example: ["read:transactions", "write:transactions"]}
        createdAt: {type: string, format: date-time, example: "2024-01-01T00:00:00Z"}
        expiresAt: {type: string, format: date-time, nullable: true, example: "2025-01-01T00:00:00Z"}
        lastUsedAt: {type: string, format: date-time, nullable: true, example: "2024-07-21T16:30:00Z"}
        status: {type: string, enum: [active, revoked, expired], example: "active"}
    ThirdPartyConnection:
      type: object
      properties:
        id: {type: string, example: "tpc_plaid_app_789"}
        appName: {type: string, example: "Plaid Financial Aggregator"}
        description: {type: string, example: "Connected for account linking and transaction data via Plaid."}
        scopesGranted: {type: array, items: {type: string}, example: ["read:accounts", "read:transactions"]}
        connectedAt: {type: string, format: date-time, example: "2023-11-15T10:00:00Z"}
        lastAccessedAt: {type: string, format: date-time, example: "2024-07-21T16:45:00Z"}
        status: {type: string, enum: [active, revoked, expired], example: "active"}

# Schemas for "Real-time Analytics & Predictive Intelligence"
    PersonalDashboard:
      type: object
      properties:
        userId: {type: string, example: "user-quantum-visionary-001"}
        overviewSummary: {type: string, example: "Your financial health is strong, with significant growth in investments. Focus on optimizing your 'Subscription' spending."}
        netWorth: {type: number, format: float, example: 520000.00}
        cashFlowLast30Days: {type: number, format: float, example: 1500.00}
        topSpendingCategories:
          type: array
          items:
            type: object
            properties:
              category: {type: string, example: "Dining & Restaurants"}
              amount: {type: number, format: float, example: 650.00}
        financialForecast:
          $ref: "#/components/schemas/FinancialForecast"
        investmentPerformance:
          type: object
          properties:
            portfolioValue: {type: number, format: float, example: 350000.00}
            ytdReturn: {type: number, format: float, example: 0.18}
        alerts:
          type: array
          items:
            $ref: "#/components/schemas/AIInsight"
    FinancialForecast:
      type: object
      properties:
        forecastId: {type: string, example: "forecast_personal_3m_001"}
        horizonMonths: {type: integer, example: 3}
        currentNetWorth: {type: number, format: float, example: 520000.00}
        projectedNetWorth: {type: number, format: float, example: 535000.00}
        projectedSavings: {type: number, format: float, example: 4500.00}
        projectedDebtReduction: {type: number, format: float, example: 1200.00}
        confidenceScore: {type: integer, example: 92}
        breakdown:
          type: array
          items:
            type: object
            properties:
              month: {type: string, example: "2024-08"}
              projectedIncome: {type: number, format: float, example: 8000.00}
              projectedExpenses: {type: number, format: float, example: 6500.00}
              projectedSavings: {type: number, format: float, example: 1500.00}
    CustomReportRequest:
      type: object
      properties:
        reportName: {type: string, example: "Q2 Expense Report"}
        reportType: {type: string, enum: [expenses_by_category, income_vs_expenses, net_worth_over_time, investment_performance], example: "expenses_by_category"}
        startDate: {type: string, format: date, example: "2024-04-01"}
        endDate: {type: string, format: date, example: "2024-06-30"}
        filters:
          type: object
          nullable: true
          example: {"category": "Travel", "minAmount": 100}
        outputFormat: {type: string, enum: [pdf, csv, json, interactive_dashboard], default: "pdf"}
        aiSummaryRequested: {type: boolean, default: true}

# Schemas for "Digital Identity & Verifiable Credentials"
    VerifiableCredential:
      type: object
      properties:
        id: {type: string, example: "vc_proof_of_age_001"}
        type: {type: string, example: "ProofOfAgeCredential"}
        issuer: {type: string, example: "Government of Quantumland"}
        subject: {type: string, example: "did:example:123456789abcdefghi"}
        issueDate: {type: string, format: date, example: "2023-01-01"}
        expirationDate: {type: string, format: date, nullable: true, example: "2033-01-01"}
        status: {type: string, enum: [active, revoked, expired], example: "active"}
        details:
          type: object
          example: {"ageOver18": true, "name": "John Doe"}
        proof: {type: string, description: "Cryptographic proof of the credential's validity."}
    CredentialIssuanceRequest:
      type: object
      properties:
        credentialType: {type: string, example: "ProofOfResidency"}
        data:
          type: object
          example: {"address": "123 Main St", "city": "Anytown"}
        userConsent: {type: boolean, default: true}

# Schemas for "Enterprise Risk & Fraud Prevention"
    EnterpriseRiskAlert:
      type: object
      properties:
        id: {type: string, example: "risk_alert_system_001"}
        title: {type: string, example: "Potential Systemic Payment Anomaly"}
        description: {type: string, example: "AI has detected an unusual surge in payment failures across a specific vendor category, potentially indicating a wider issue."}
        severity: {type: string, enum: [Low, Medium, High, Critical], example: "High"}
        category: {type: string, enum: [systemic_fraud, operational_risk, compliance_breach, market_risk], example: "operational_risk"}
        timestamp: {type: string, format: date-time, example: "2024-07-21T17:00:00Z"}
        status: {type: string, enum: [new, acknowledged, mitigated, resolved], example: "new"}
        relatedEntities:
          type: array
          items:
            type: object
            properties:
              type: {type: string, example: "Vendor"}
              id: {type: string, example: "vendor_global_suppliers"}
              name: {type: string, example: "Global Suppliers Inc."}

    # NEW SCHEMAS FOR MULTIVERSE FINANCIAL PROJECTION

    MultiverseSimulation:
      type: object
      description: "A high-level overview of a multiverse financial projection simulation."
      properties:
        id:
          type: string
          example: "sim_quantum_future_001"
          description: "Unique identifier for the multiverse simulation."
        name:
          type: string
          example: "Global Macro Outlook 2030"
          description: "User-defined name for the simulation."
        description:
          type: string
          example: "Simulating global economic and market futures through 2030, focusing on interest rate hikes and AI policy changes."
          description: "Detailed description of the simulation's purpose."
        createdAt:
          type: string
          format: date-time
          example: "2024-07-21T17:00:00Z"
        lastUpdated:
          type: string
          format: date-time
          example: "2024-07-21T18:30:00Z"
        status:
          type: string
          enum: [QUEUED, PROCESSING, PAUSED, COMPLETED, ERROR, CANCELLED]
          example: "PROCESSING"
          description: "Current operational status of the simulation."
        progressPercentage:
          type: integer
          minimum: 0
          maximum: 100
          nullable: true
          example: 65
          description: "Estimated completion percentage of the simulation by Gemini AI."
        simulationHorizon:
          type: string
          example: "2030-12-31"
          description: "The projected end date of the simulated realities."
        objective:
          type: string
          enum: [MAXIMIZE_GROWTH, MINIMIZE_RISK, OPTIMIZE_LIQUIDITY, ACHIEVE_GOAL, CUSTOM_KPI]
          example: "MAXIMIZE_GROWTH"
          description: "The primary financial objective driving the AI's optimization and analysis."
        realityCount:
          type: integer
          example: 12500
          description: "Number of divergent financial realities being simulated."
        activeRealities:
          type: integer
          example: 9800
          description: "Number of realities still actively being computed."
        aiInsightsSummary:
          type: string
          nullable: true
          example: "Early indicators suggest high volatility in emerging markets across 70% of realities. Diversification crucial."
          description: "A high-level summary of initial insights generated by Gemini AI."

    MultiverseSimulationCreationRequest:
      type: object
      description: "Request to create a new multiverse simulation."
      required:
        - name
        - simulationHorizon
        - objective
        - baselineFinancialState
      properties:
        name: {type: string, example: "Post-Election Economic Futures"}
        description: {type: string, nullable: true, example: "Analyze market reactions to various election outcomes over the next 5 years."}
        simulationHorizon: {type: string, format: date, example: "2029-12-31"}
        objective:
          type: string
          enum: [MAXIMIZE_GROWTH, MINIMIZE_RISK, OPTIMIZE_LIQUIDITY, ACHIEVE_GOAL, CUSTOM_KPI]
          example: "MINIMIZE_RISK"
        baselineFinancialState:
          type: object
          description: "The initial financial conditions for the 'seed' reality from which all others will branch."
          properties:
            netWorth: {type: number, format: float, example: 5000000.00}
            portfolioComposition:
              type: array
              items:
                type: object
                properties:
                  assetClass: {type: string, example: "Equities"}
                  percentage: {type: number, format: float, example: 0.6}
            cashReserves: {type: number, format: float, example: 100000.00}
            debtLevel: {type: number, format: float, example: 250000.00}
        branchingProbabilityModel:
          type: string
          enum: [STOCHASTIC_GAUSSIAN, DETERMINISTIC_THRESHOLD, AI_ADAPTIVE]
          default: "STOCHASTIC_GAUSSIAN"
          description: "The model Gemini AI uses to introduce probabilistic branches into realities."
        initialScenarios:
          type: array
          items:
            $ref: "#/components/schemas/SimulationScenarioCreationRequest"
          nullable: true
          description: "Optional list of initial scenarios to guide early branching."
        geminiResourceAllocation:
          type: string
          enum: [LOW, MEDIUM, HIGH, PRIORITY]
          default: "MEDIUM"
          description: "Desired level of Gemini AI computational resource allocation."

    MultiverseSimulationDetailed:
      type: object
      description: "Detailed information for a specific multiverse simulation."
      allOf:
        - $ref: "#/components/schemas/MultiverseSimulation"
        - type: object
          properties:
            baselineRealityId:
              type: string
              example: "reality_initial_seed_000"
              description: "The ID of the primary, non-divergent baseline reality."
            totalComputeHoursUsed:
              type: number
              format: float
              example: 125.7
              description: "Total Gemini AI computational hours consumed by this simulation."
            lastCheckpoint:
              type: string
              format: date-time
              nullable: true
              example: "2024-07-21T18:00:00Z"
              description: "Timestamp of the last major state save."
            errorLog:
              type: array
              items:
                $ref: "#/components/schemas/Error"
              nullable: true
              description: "A log of any errors encountered during simulation processing."
            activeFeedbackLoopId:
              type: string
              nullable: true
              example: "feedback_loop_sim_001"
              description: "If an AI feedback loop is active, its ID."
            attachedMacroDrivers:
              type: array
              items:
                $ref: "#/components/schemas/MacroEconomicDriver"
              description: "List of macro-economic drivers actively influencing this simulation."

    MultiverseSimulationUpdateRequest:
      type: object
      description: "Request to update an existing multiverse simulation's configuration."
      properties:
        name: {type: string, nullable: true, example: "Q3 Strategy Refinement Simulation"}
        description: {type: string, nullable: true, example: "Updated focus to include new regulatory risks."}
        simulationHorizon: {type: string, format: date, nullable: true, example: "2031-06-30"}
        objective:
          type: string
          enum: [MAXIMIZE_GROWTH, MINIMIZE_RISK, OPTIMIZE_LIQUIDITY, ACHIEVE_GOAL, CUSTOM_KPI]
          nullable: true
          example: "OPTIMIZE_LIQUIDITY"
        branchingProbabilityModel:
          type: string
          enum: [STOCHASTIC_GAUSSIAN, DETERMINISTIC_THRESHOLD, AI_ADAPTIVE]
          nullable: true
          example: "AI_ADAPTIVE"
        geminiResourceAllocation:
          type: string
          enum: [LOW, MEDIUM, HIGH, PRIORITY]
          nullable: true
          example: "HIGH"
        allowNewBranches:
          type: boolean
          nullable: true
          description: "If false, the simulation will no longer generate new probabilistic branches."
          example: false

    MultiverseSimulationStatus:
      type: object
      description: "Current status of a multiverse simulation."
      properties:
        simulationId:
          type: string
          example: "sim_quantum_future_001"
          description: "Unique identifier for the multiverse simulation."
        status:
          type: string
          enum: [QUEUED, PROCESSING, PAUSED, COMPLETED, ERROR, CANCELLED]
          example: "PAUSED"
          description: "Current operational status of the simulation."
        message:
          type: string
          example: "Simulation paused successfully. Awaiting user input."
          description: "A human-readable message about the status change."
        lastStatusChange:
          type: string
          format: date-time
          example: "2024-07-21T19:00:00Z"

    MultiverseReality:
      type: object
      description: "A high-level overview of a single financial reality within a multiverse simulation."
      properties:
        id:
          type: string
          example: "reality_market_boom_001_branch_A"
          description: "Unique identifier for this specific reality/timeline."
        simulationId:
          type: string
          example: "sim_quantum_future_001"
          description: "ID of the parent multiverse simulation."
        name:
          type: string
          example: "High Growth with Early Rate Hike"
          description: "AI-generated or user-defined descriptive name for this reality."
        probability:
          type: number
          format: float
          minimum: 0
          maximum: 1
          example: 0.15
          description: "AI-calculated probabilistic likelihood of this reality occurring (0-1)."
        currentDate:
          type: string
          format: date
          example: "2027-03-15"
          description: "The current simulated date within this reality."
        status:
          type: string
          enum: [ACTIVE, TERMINATED, OPTIMIZED, STABLE, DIVERGENT, PAUSED]
          example: "ACTIVE"
          description: "Current processing status of this reality."
        netWorthProjection:
          type: number
          format: float
          example: 7800000.00
          description: "Projected net worth at the end of this reality's horizon."
        riskScore:
          type: integer
          minimum: 0
          maximum: 100
          example: 45
          description: "AI-assessed risk score for this reality's trajectory."
        keyEvents:
          type: array
          items:
            type: string
          example: ["event_rate_hike_2025", "event_tech_bubble_2027"]
          description: "IDs of significant events that have occurred or are highly probable in this reality."
        divergenceFromBaseline:
          type: number
          format: float
          minimum: 0
          maximum: 1
          example: 0.42
          description: "A normalized score (0-1) indicating how much this reality has diverged from the baseline reality."

    MultiverseRealityState:
      type: object
      description: "The detailed financial and event state of a specific multiverse reality at a given temporal node."
      allOf:
        - $ref: "#/components/schemas/MultiverseReality"
        - type: object
          properties:
            financialMetrics:
              type: object
              description: "Key financial metrics at the current temporal node."
              properties:
                liquidAssets: {type: number, format: float, example: 350000.00}
                investmentPortfolioValue: {type: number, format: float, example: 6500000.00}
                totalDebt: {type: number, format: float, example: 1800000.00}
                incomeStream: {type: number, format: float, example: 15000.00, description: "Monthly income."}
            eventHistory:
              type: array
              items:
                $ref: "#/components/schemas/TemporalEvent"
              description: "Chronological list of all significant events that have shaped this reality up to the current date."
            predictedFutureEvents:
              type: array
              items:
                $ref: "#/components/schemas/TemporalEvent"
              description: "AI's prediction of highly probable future events in this reality."
            aiSummary:
              type: string
              example: "This reality shows robust growth despite an early market correction due to aggressive strategic adjustments made in 2026. However, inflation risk is rising."
              description: "A detailed AI-generated summary of the reality's trajectory and key characteristics."
            appliedInterventions:
              type: array
              items:
                $ref: "#/components/schemas/AppliedIntervention"
              description: "List of user-defined or AI-driven interventions applied to this reality."
            visualisationUrl:
              type: string
              format: uri
              nullable: true
              example: "https://demobank.com/multiverse/visualize/reality_market_boom_001_branch_A"
              description: "URL to an interactive visualization of this reality's timeline and metrics."

    RealityInterventionRequest:
      type: object
      description: "Request to intervene in a specific multiverse reality."
      required:
        - temporalNodeId
        - intervention
      properties:
        temporalNodeId:
          type: string
          example: "node_2026-01-01"
          description: "The ID of the temporal node from which the intervention should take effect."
        intervention:
          type: object
          description: "The specific action or change to introduce into the reality."
          properties:
            type:
              type: string
              enum: [FINANCIAL_DECISION, POLICY_CHANGE, MACRO_ADJUSTMENT, CUSTOM_EVENT]
              example: "FINANCIAL_DECISION"
            details:
              type: object
              example: {"action": "INVEST_IN_CLEAN_ENERGY", "amount": 250000, "investmentType": "ETF"}
            description:
              type: string
              nullable: true
              example: "Invest $250k into clean energy ETFs at the start of 2026."
        reason:
          type: string
          example: "Testing impact of sustainable investment strategy."
          description: "The reason for this intervention."
        propagateToBranches:
          type: boolean
          default: false
          description: "If true, this intervention will also apply to all realities branched *from* this point in this reality."

    TemporalNode:
      type: object
      description: "A significant point in time within a simulated reality, often marking a major event or decision."
      properties:
        id:
          type: string
          example: "node_2026-01-01"
          description: "Unique identifier for the temporal node."
        date:
          type: string
          format: date
          example: "2026-01-01"
          description: "The simulated date of this temporal node."
        description:
          type: string
          example: "Beginning of new fiscal year; major policy decision point."
          description: "A brief description of the significance of this node."
        eventType:
          type: string
          enum: [BRANCH_POINT, MAJOR_EVENT, USER_INTERVENTION, CHECKPOINT]
          example: "MAJOR_EVENT"
          description: "The type of event or significance of this temporal node."
        isBranchPoint:
          type: boolean
          example: true
          description: "Indicates if this node was a point where new realities diverged."

    SimulationScenario:
      type: object
      description: "A defined sequence of events and conditions that can influence realities within a simulation."
      properties:
        id:
          type: string
          example: "scenario_tech_bust"
          description: "Unique identifier for the scenario."
        name:
          type: string
          example: "Dot-Com 2.0 Burst"
          description: "Descriptive name for the scenario."
        description:
          type: string
          example: "A scenario modeling a rapid decline in technology stock valuations over 18 months."
          description: "Detailed description of the scenario's premise."
        status:
          type: string
          enum: [ACTIVE, INACTIVE, DRAFT]
          example: "ACTIVE"
        events:
          type: array
          items:
            $ref: "#/components/schemas/ScenarioEvent"
          description: "A chronological list of events defined within this scenario."
        triggerConditions:
          type: object
          nullable: true
          description: "Optional conditions that must be met for this scenario to activate in a reality."
          example: {"marketIndex": {"operator": "LT", "value": 0.8, "relativeTo": "baseline"}}

    SimulationScenarioCreationRequest:
      type: object
      description: "Request to create a new simulation scenario."
      required:
        - name
        - description
        - events
      properties:
        name: {type: string, example: "Geopolitical Instability Escalation"}
        description: {type: string, example: "Models the financial impact of increasing geopolitical tensions and trade wars over five years."}
        events:
          type: array
          items:
            $ref: "#/components/schemas/ScenarioEvent"
        triggerConditions:
          type: object
          nullable: true
          example: {"globalTradeVolume": {"operator": "LTE", "value": 0.1, "relativeTo": "priorYear"}}
        activateImmediately:
          type: boolean
          default: true
          description: "If true, the scenario will start influencing new reality branches immediately."

    SimulationScenarioUpdateRequest:
      type: object
      description: "Request to update an existing simulation scenario."
      properties:
        name: {type: string, nullable: true, example: "Refined Geopolitical Instability"}
        description: {type: string, nullable: true, example: "Updated to include specific commodity price shocks."}
        events:
          type: array
          items:
            $ref: "#/components/schemas/ScenarioEvent"
          nullable: true
        status:
          type: string
          enum: [ACTIVE, INACTIVE, DRAFT]
          nullable: true
          example: "INACTIVE"

    ScenarioEvent:
      type: object
      description: "A single event within a simulation scenario or directly injected into a reality."
      properties:
        id:
          type: string
          example: "event_trade_war_tariff"
          description: "Unique identifier for the event."
        name:
          type: string
          example: "Global Tariff Implementation"
          description: "Short, descriptive name of the event."
        description:
          type: string
          example: "Major global powers implement significant tariffs on key imports, impacting supply chains."
          description: "Detailed description of the event."
        type:
          type: string
          enum: [MARKET_SHOCK, POLICY_CHANGE, GEOPOLITICAL_EVENT, TECHNOLOGICAL_DISRUPTION, NATURAL_DISASTER, PERSONAL_MILESTONE, BLACK_SWAN]
          example: "GEOPOLITICAL_EVENT"
        impactDate:
          type: string
          format: date
          example: "2026-07-01"
          description: "The simulated date when this event takes effect."
        probability:
          type: number
          format: float
          minimum: 0
          maximum: 1
          example: 0.3
          description: "The probability (0-1) of this event occurring in any given reality."
        impactParameters:
          type: object
          description: "Specific numerical or categorical impacts of the event."
          example: {"gdpGrowthReduction": 0.015, "equityMarketDrop": 0.10, "inflationIncrease": 0.02}
        durationDays:
          type: integer
          nullable: true
          example: 365
          description: "Optional: Duration of the event's primary impact in days."
        source:
          type: string
          enum: [USER_DEFINED, AI_GENERATED, TEMPLATE]
          example: "USER_DEFINED"

    OptimalPathway:
      type: object
      description: "An AI-identified sequence of interventions that lead to optimal outcomes across diverse realities."
      properties:
        id:
          type: string
          example: "pathway_robust_growth_001"
          description: "Unique identifier for the optimal pathway."
        name:
          type: string
          example: "Robust Growth Strategy (Conservative Variant)"
          description: "Descriptive name for the pathway."
        simulationId:
          type: string
          example: "sim_quantum_future_001"
          description: "ID of the parent simulation."
        objectiveAchieved:
          type: string
          example: "MAXIMIZE_GROWTH"
          description: "The primary objective this pathway optimizes."
        averageOutcome:
          type: object
          description: "Average financial outcome across realities following this pathway."
          properties:
            netWorthIncrease: {type: number, format: float, example: 0.35, description: "Average percentage increase in net worth."}
            roi: {type: number, format: float, example: 0.18, description: "Average return on investment."}
        robustnessScore:
          type: number
          format: float
          minimum: 0
          maximum: 1
          example: 0.88
          description: "AI score (0-1) indicating how consistently this pathway performs well across different realities."
        confidenceScore:
          type: number
          format: float
          minimum: 0
          maximum: 1
          example: 0.92
          description: "AI's confidence in the optimality of this pathway."
        interventions:
          type: array
          items:
            $ref: "#/components/schemas/AppliedIntervention"
          description: "The sequence of interventions comprising this optimal pathway."
        aiSummary:
          type: string
          example: "This pathway suggests a phased investment into clean energy, followed by a defensive stance during expected market corrections. It delivers strong growth while maintaining capital preservation across 88% of realities."

    AppliedIntervention:
      type: object
      description: "A specific intervention applied to a reality, whether user-defined or AI-driven."
      properties:
        id:
          type: string
          example: "interv_invest_tech_2025"
          description: "Unique identifier for the applied intervention."
        type:
          type: string
          enum: [FINANCIAL_DECISION, POLICY_CHANGE, ASSET_REALLOCATION, DEBT_RESTRUCTURING, AI_OPTIMIZATION, MACRO_ADJUSTMENT]
          example: "FINANCIAL_DECISION"
        description:
          type: string
          example: "Execute a strategic investment of $100,000 into high-growth AI startups."
          description: "Description of the intervention."
        temporalNodeId:
          type: string
          example: "node_2025-01-01"
          description: "The temporal node when the intervention was applied or initiated."
        impactDurationDays:
          type: integer
          nullable: true
          example: 730
          description: "Estimated duration of the intervention's primary impact."
        appliedBy:
          type: string
          enum: [USER, AI_AUTONOMOUS, FEEDBACK_LOOP]
          example: "USER"
        resultSummary:
          type: string
          nullable: true
          example: "Increased portfolio value by 15% in associated realities."

    InterventionStrategyProposal:
      type: object
      description: "A proposed intervention strategy to be evaluated by Gemini AI across a multiverse simulation."
      required:
        - name
        - description
        - actions
      properties:
        name: {type: string, example: "Dynamic Hedging Strategy"}
        description: {type: string, example: "A strategy that automatically hedges against market downturns if volatility exceeds a threshold."}
        actions:
          type: array
          items:
            type: object
            properties:
              type: {type: string, enum: [INVEST, DIVEST, HEDGE, REALLOCATE, ADJUST_DEBT], example: "HEDGE"}
              details: {type: object, example: {"asset": "S&P 500 Futures", "amount": 0.10, "threshold": "VOLATILITY_HIGH"}}
              triggerConditions:
                type: object
                description: "Conditions under which this action should be taken."
                example: {"marketVolatilityIndex": {"operator": "GT", "value": 0.25}}
        targetObjective:
          type: string
          enum: [MAXIMIZE_GROWTH, MINIMIZE_RISK, OPTIMIZE_LIQUIDITY, ACHIEVE_GOAL, CUSTOM_KPI]
          example: "MINIMIZE_RISK"
        riskTolerance:
          type: string
          enum: [LOW, MEDIUM, HIGH, AGGRESSIVE]
          default: "MEDIUM"

    InterventionStrategyEvaluation:
      type: object
      description: "Detailed evaluation results for a proposed intervention strategy."
      properties:
        strategyId:
          type: string
          example: "strat_opt_growth_001"
        status:
          type: string
          enum: [EVALUATING, COMPLETED, FAILED]
          example: "COMPLETED"
        evaluationSummary:
          type: string
          example: "The Dynamic Hedging Strategy significantly reduced downside risk across 75% of market downturn realities, but slightly dampened growth in bullish scenarios."
        averageImpact:
          type: object
          properties:
            netWorthChange: {type: number, format: float, example: 0.05, description: "Average percentage change compared to no-intervention scenario."}
            riskReduction: {type: number, format: float, example: 0.15, description: "Average percentage reduction in max drawdown."}
        robustnessMetrics:
          type: object
          properties:
            successRateAcrossRealities: {type: number, format: float, example: 0.75}
            worstCaseScenarioPerformance: {type: string, example: "Limited losses to 5% instead of 20%."}
        aiRecommendations:
          type: string
          example: "Consider refining the hedging trigger to be more granular, potentially using AI-predicted indicators rather than simple thresholds."
        relatedInsights:
          type: array
          items:
            $ref: "#/components/schemas/QuantumNexusInsight"

    QuantumNexusInsight:
      type: object
      description: "A high-level, AI-generated insight derived from cross-reality analysis by the Quantum Nexus."
      properties:
        id:
          type: string
          example: "nexus_insight_emerging_market_risk"
        type:
          type: string
          enum: [RISK_TREND, OPPORTUNITY_PATTERN, PREDICTIVE_ANOMALY, CAUSAL_RELATIONSHIP, EMERGENT_PROPERTY]
          example: "RISK_TREND"
        title:
          type: string
          example: "Convergent Emerging Market Liquidity Crunch"
        description:
          type: string
          example: "Across 60% of divergent realities, a significant liquidity crunch in emerging markets is observed around Q4 2027, irrespective of initial macro conditions, suggesting a systemic vulnerability."
        severity:
          type: string
          enum: [LOW, MEDIUM, HIGH, CRITICAL]
          example: "CRITICAL"
        impactScore:
          type: number
          format: float
          minimum: 0
          maximum: 1
          example: 0.85
        realitiesAffected:
          type: integer
          example: 7500
        recommendedActions:
          type: array
          items:
            type: string
          example: ["Increase hedge positions in emerging market currencies.", "Diversify exposure away from high-debt emerging economies."]
        visualisationLink:
          type: string
          format: uri
          nullable: true
          example: "https://demobank.com/multiverse/nexus/viz/liquidity_crunch_2027"
        generatedAt:
          type: string
          format: date-time
          example: "2024-07-21T20:00:00Z"

    TemporalParadox:
      type: object
      description: "A detected logical inconsistency or causal contradiction within or across simulated realities."
      properties:
        id:
          type: string
          example: "paradox_causal_loop_001"
        type:
          type: string
          enum: [CAUSAL_LOOP, CONTRADICTORY_OUTCOME, DATA_INCONSISTENCY, INTERVENTION_FAIL]
          example: "CAUSAL_LOOP"
        description:
          type: string
          example: "An intervention in Reality A appears to cause an event that logically precedes it in the same reality, creating a temporal loop."
        severity:
          type: string
          enum: [MINOR, MODERATE, CRITICAL]
          example: "MODERATE"
        detectedInRealities:
          type: array
          items:
            type: string
          example: ["reality_intervention_branch_A", "reality_intervention_branch_B"]
        temporalNode:
          type: string
          nullable: true
          example: "node_2026-03-01"
          description: "The approximate temporal node where the paradox was detected."
        aiDiagnosis:
          type: string
          example: "Likely caused by a misconfigured feedback loop attempting to optimize a self-referential metric. Recommend reviewing 'Optimized Portfolio Rebalancing' strategy."
        recommendedResolution:
          type: string
          example: "Pause feedback loop, review `OptimalPathway` definitions, or manually adjust reality to break the loop."
        status:
          type: string
          enum: [DETECTED, UNDER_REVIEW, RESOLVED_AUTO, RESOLVED_MANUAL, IGNORED]
          example: "DETECTED"

    MacroEconomicDriver:
      type: object
      description: "A configurable macro-economic factor that can influence multiverse simulations."
      properties:
        id:
          type: string
          example: "driver_global_inflation"
        name:
          type: string
          example: "Global Inflationary Pressure"
        description:
          type: string
          example: "Models the impact of sustained global inflation rates on asset values, consumer spending, and interest rates."
        category:
          type: string
          enum: [MONETARY, FISCAL, GEOPOLITICAL, TECHNOLOGICAL, MARKET, SOCIAL]
          example: "MONETARY"
        defaultImpactSeverity:
          type: number
          format: float
          minimum: 0
          maximum: 1
          example: 0.7
        configurableParameters:
          type: array
          items:
            type: object
            properties:
              paramName: {type: string, example: "peakInflationRate"}
              type: {type: string, enum: [FLOAT, INTEGER, ENUM, BOOLEAN], example: "FLOAT"}
              defaultValue: {type: number, format: float, example: 0.05}
              unit: {type: string, nullable: true, example: "percentage"}
        aiPredictionModel:
          type: string
          example: "Gemini_Macro_Forecast_v3"
          description: "The internal Gemini AI model used to simulate this driver's behavior."

    MacroDriverImpactSimulationRequest:
      type: object
      description: "Request to simulate the isolated impact of a macro-economic driver."
      required:
        - driverId
        - simulationDurationMonths
        - intensity
      properties:
        driverId: {type: string, example: "driver_global_inflation"}
        simulationDurationMonths: {type: integer, example: 24, description: "Duration of the mini-simulation in months."}
        intensity:
          type: number
          format: float
          minimum: 0
          maximum: 1
          example: 0.8
          description: "Intensity of the driver's impact (0-1, 1 being maximum defined impact)."
        applyToRealities:
          type: array
          items:
            type: string
          nullable: true
          description: "Optional: A list of specific reality IDs within a simulation to apply this driver to. If null, a new mini-multiverse is created."
        baselineOverride:
          type: object
          nullable: true
          description: "Optional: Override the default baseline financial state for this simulation."
          example: {"initialGDPGrowth": 0.02, "currentInterestRate": 0.03}

    PersonalFinancialTrajectory:
      type: object
      description: "A summary of a personal financial trajectory multiverse simulation."
      properties:
        id:
          type: string
          example: "traj_retirement_alex_2050"
        userId:
          type: string
          example: "user-quantum-visionary-001"
        name:
          type: string
          example: "Alex's Retirement Path to 2050"
        simulationId:
          type: string
          example: "sim_personal_alex_retirement"
          description: "ID of the underlying multiverse simulation."
        primaryGoal:
          type: string
          enum: [RETIREMENT, HOME_PURCHASE, EDUCATION_FUND, DEBT_PAYOFF, ENTREPRENEURSHIP]
          example: "RETIREMENT"
        targetAmount:
          type: number
          format: float
          example: 2500000.00
        targetDate:
          type: string
          format: date
          example: "2050-01-01"
        status:
          type: string
          enum: [ACTIVE, COMPLETED, PAUSED, RECALCULATING]
          example: "ACTIVE"
        optimalPathwayIdentified:
          type: boolean
          example: true
        aiSummary:
          type: string
          example: "Analysis suggests Alex is on track for early retirement by 2045 with current savings, but a career change to entrepreneurship introduces higher volatility."
        realitiesCount:
          type: integer
          example: 1500
        highestProbabilityOutcome:
          type: object
          properties:
            netWorth: {type: number, format: float, example: 3100000.00}
            retirementAge: {type: integer, example: 62}

    PersonalFinancialTrajectoryCreationRequest:
      type: object
      description: "Request to create a new personal financial trajectory simulation."
      required:
        - name
        - primaryGoal
        - targetAmount
        - targetDate
      properties:
        name: {type: string, example: "Jessica's Early Retirement Scenario"}
        primaryGoal: {type: string, enum: [RETIREMENT, HOME_PURCHASE, EDUCATION_FUND, DEBT_PAYOFF, ENTREPRENEURSHIP], example: "RETIREMENT"}
        targetAmount: {type: number, format: float, example: 2000000.00}
        targetDate: {type: string, format: date, example: "2045-12-31"}
        includeLifeEvents:
          type: array
          items:
            type: object
            properties:
              type: {type: string, enum: [CAREER_CHANGE, MAJOR_PURCHASE, FAMILY_EVENT, HEALTH_EVENT], example: "CAREER_CHANGE"}
              details: {type: object, example: {"role": "Startup Founder", "salaryImpact": -0.2, "probability": 0.3}}
              expectedDate: {type: string, format: date, example: "2030-06-01"}
          nullable: true
          description: "List of personal life events to incorporate into probabilistic branching."
        riskAppetite:
          type: string
          enum: [CONSERVATIVE, MODERATE, GROWTH, AGGRESSIVE]
          default: "MODERATE"
        aiOptimizationPreference:
          type: string
          enum: [FINANCIAL_GAIN, WORK_LIFE_BALANCE, SOCIAL_IMPACT]
          default: "FINANCIAL_GAIN"

    OptimalPersonalLifePath:
      type: object
      description: "The AI-identified optimal sequence of personal and financial decisions for an individual's goals."
      properties:
        trajectoryId:
          type: string
          example: "traj_retirement_alex_2050"
        summary:
          type: string
          example: "To achieve early retirement by 2045, the optimal path involves aggressive investment in high-growth tech, relocating to a lower cost-of-living area in 2035, and a gradual reduction in work hours from 2040."
        primaryObjectiveMet:
          type: boolean
          example: true
        projectedOutcome:
          type: object
          properties:
            retirementAge: {type: integer, example: 62}
            finalNetWorth: {type: number, format: float, example: 2800000.00}
            lifestyleIndex: {type: number, format: float, example: 0.85, description: "AI-assessed quality of life index (0-1)."}
        keyDecisions:
          type: array
          items:
            type: object
            properties:
              decision: {type: string, example: "Relocate to Texas"}
              impactDate: {type: string, format: date, example: "2035-01-01"}
              description: {type: string, example: "Reduce housing costs by 40% and optimize tax burden."}
              aiConfidence: {type: number, format: float, example: 0.92}
        associatedRisks:
          type: string
          example: "Risk of local job market changes in new location. Mitigate by building remote work skills."

    MultiverseReportRequest:
      type: object
      description: "Request to generate a comprehensive multiverse simulation report."
      required:
        - simulationId
        - reportFormat
        - includeInsights
      properties:
        simulationId: {type: string, example: "sim_quantum_future_001"}
        reportFormat:
          type: string
          enum: [PDF, CSV, JSON, INTERACTIVE_DASHBOARD]
          default: "PDF"
        includeInsights:
          type: boolean
          default: true
          description: "If true, include Quantum Nexus insights and anomaly detection summaries."
        includeRealityComparison:
          type: boolean
          default: true
          description: "If true, include comparative analysis of most divergent and most optimal realities."
        customSections:
          type: array
          items:
            type: string
          nullable: true
          example: ["MACRO_IMPACT_ANALYSIS", "PERSONAL_TRAJECTORY_ALIGNMENT"]
          description: "Additional custom sections to include in the report."
        emailRecipients:
          type: array
          items:
            type: string
            format: email
          nullable: true
          example: ["ceo@demobank.com", "cfo@demobank.com"]

    MultiverseReportStatus:
      type: object
      description: "Status and download link for a generated multiverse simulation report."
      properties:
        operationId:
          type: string
          example: "report_op_multiverse_xyz123"
        status:
          type: string
          enum: [QUEUED, PROCESSING, GENERATED, FAILED]
          example: "GENERATED"
        progressPercentage:
          type: integer
          minimum: 0
          maximum: 100
          nullable: true
          example: 100
        reportUrl:
          type: string
          format: uri
          nullable: true
          example: "https://demobank-reports.com/multiverse/sim_quantum_future_001_report.pdf?sig=..."
        generatedAt:
          type: string
          format: date-time
          nullable: true
          example: "2024-07-21T21:00:00Z"
        errorMessage:
          type: string
          nullable: true
          example: "Report generation failed due to missing data for a custom section."

    TemporalJumpRequest:
      type: object
      description: "Request to execute a quantum temporal jump to a specific point in time or event."
      required:
        - targetType
      properties:
        targetType:
          type: string
          enum: [DATE, EVENT_ID, TEMPORAL_NODE_ID]
          example: "DATE"
        targetDate:
          type: string
          format: date
          nullable: true
          example: "2028-01-01"
          description: "The specific date to jump to."
        targetEventId:
          type: string
          nullable: true
          example: "event_market_recovery_2027"
          description: "The ID of a known event to jump to."
        targetTemporalNodeId:
          type: string
          nullable: true
          example: "node_critical_decision_2026"
          description: "The ID of a specific temporal node to jump to."
        description:
          type: string
          nullable: true
          example: "Jumping to analyze the impact of the 2028 elections."

    ForceBranchRequest:
      type: object
      description: "Request to manually force a new reality branch at a specific temporal node."
      required:
        - temporalNodeId
        - newBranchName
        - divergentEvent
      properties:
        temporalNodeId:
          type: string
          example: "node_2026-06-30"
          description: "The temporal node from which the new branch will diverge."
        newBranchName:
          type: string
          example: "Aggressive Expansion (Unforeseen Success)"
          description: "A descriptive name for the newly forced reality branch."
        divergentEvent:
          $ref: "#/components/schemas/ScenarioEvent"
          description: "The specific event or condition that causes this new reality to diverge."
        description:
          type: string
          nullable: true
          example: "Manually creating a branch where a new product launch significantly overperforms expectations."

    RealityMergeCandidate:
      type: object
      description: "A candidate reality identified by AI as suitable for merging with a primary reality."
      properties:
        realityId: {type: string, example: "reality_baseline_stable_002"}
        similarityScore:
          type: number
          format: float
          minimum: 0
          maximum: 1
          example: 0.98
          description: "AI-calculated similarity score (0-1) to the primary reality."
        divergenceMetric:
          type: object
          properties:
            maxNetWorthDifference: {type: number, format: float, example: 0.005, description: "Max percentage difference in net worth trajectory."}
            eventMismatchCount: {type: integer, example: 1, description: "Number of differing minor events."}
          description: "Detailed metrics on how this reality diverges from the primary one."
        aiRecommendation:
          type: string
          example: "Highly recommended for merging due to negligible long-term divergence."

    RealityMergeRequest:
      type: object
      description: "Request to merge multiple realities into one."
      required:
        - primaryRealityId
        - realitiesToMerge
      properties:
        primaryRealityId:
          type: string
          example: "reality_baseline_stable_001"
          description: "The ID of the main reality into which others will be merged."
        realitiesToMerge:
          type: array
          minItems: 1
          items:
            type: string
          example: ["reality_baseline_stable_002", "reality_baseline_stable_003"]
          description: "A list of reality IDs to merge into the primary one."
        mergeStrategy:
          type: string
          enum: [PROBABILISTIC_AVERAGE, DOMINANT_PATH, AI_OPTIMIZED]
          default: "AI_OPTIMIZED"
          description: "The strategy Gemini AI should use to synthesize the merged reality's history and future."
        description:
          type: string
          nullable: true
          example: "Merging highly similar realities to consolidate analytical focus."

    PredictiveAnomaly:
      type: object
      description: "An AI-detected pattern or event that is unusually probable in some realities but absent/reversed in others."
      properties:
        id:
          type: string
          example: "anomaly_tech_stock_divergence"
        title:
          type: string
          example: "Divergent Tech Sector Performance Anomaly"
        description:
          type: string
          example: "In 40% of realities, the tech sector experiences a sustained boom, while in another 35% (with similar initial conditions), it crashes. This high divergence is anomalous and suggests a critical, unidentified branching factor."
        severity:
          type: string
          enum: [LOW, MEDIUM, HIGH, CRITICAL]
          example: "HIGH"
        detectedAt:
          type: string
          format: date-time
          example: "2024-07-21T22:00:00Z"
        divergenceScore:
          type: number
          format: float
          minimum: 0
          maximum: 1
          example: 0.95
          description: "AI score (0-1) indicating the magnitude of the divergence."
        potentialCauses:
          type: array
          items:
            type: string
          example: ["Uncertainty in regulatory policy for AI.", "Variable success rates of new disruptive technologies."]
        recommendedInvestigation:
          type: string
          example: "Initiate a focused sub-simulation on AI regulatory frameworks and their market impact."
        affectedRealitiesCount:
          type: integer
          example: 7500

    CausalLink:
      type: object
      description: "An AI-identified cause-and-effect relationship between events and outcomes across realities."
      properties:
        id:
          type: string
          example: "causal_link_interest_rates_gdp"
        description:
          type: string
          example: "A 1% increase in central bank interest rates consistently leads to a 0.5% reduction in GDP growth in the subsequent 12 months across 90% of realities."
        causeEvent:
          type: object
          properties:
            type: {type: string, example: "POLICY_CHANGE"}
            name: {type: string, example: "Interest Rate Hike"}
        effectOutcome:
          type: object
          properties:
            metric: {type: string, example: "GDP Growth"}
            impactDirection: {type: string, enum: [POSITIVE, NEGATIVE, NEUTRAL], example: "NEGATIVE"}
            averageMagnitude: {type: number, format: float, example: -0.005}
        confidenceScore:
          type: number
          format: float
          minimum: 0
          maximum: 1
          example: 0.90
          description: "AI's confidence in the strength of this causal link."
        influencedRealitiesCount:
          type: integer
          example: 9000
        visualizationLink:
          type: string
          format: uri
          nullable: true
          example: "https://demobank.com/multiverse/causal-graph/g