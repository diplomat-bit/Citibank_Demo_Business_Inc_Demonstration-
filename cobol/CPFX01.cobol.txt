      ******************************************************************
      * FINANCIAL SYSTEM - COPYBOOK FOR FX TRADE RECORD (V2.0)
      * This structure defines the data elements for a foreign
      * exchange trade within a robust mainframe financial system,
      * enhanced to support advanced analytics and AI integration.
      ******************************************************************
       01 FX-TRADE-RECORD.
          05 FX-TRADE-IDENTIFIERS.
             10 FX-TRADE-ID          PIC X(16).      *> Unique identifier for the foreign exchange trade
             10 FX-CUSTOMER-ID       PIC 9(10).      *> Identifier of the customer initiating the trade
             10 FX-ORDER-ID          PIC X(16).      *> Optional: Corresponds to an internal order management ID
          05 FX-PARTIES-DETAILS.
             10 FX-INITIATING-PARTY  PIC X(30).      *> Name or identifier of the party originating the trade
             10 FX-COUNTERPARTY      PIC X(30).      *> Name or identifier of the primary counterparty
             10 FX-COUNTERPARTY-TYPE PIC X(05).      *> Type of counterparty (e.g., 'BANK', 'CORP', 'FUND', 'INDIV')
             10 FX-COUNTERPARTY-RISK PIC X(01).      *> Internal risk rating for the counterparty ('A'=Low, 'B'=Medium, 'C'=High)
          05 FX-TRADE-CURRENCY-AMOUNTS.
             10 FX-FROM-CURRENCY    PIC X(03).      *> ISO currency code for the currency being sold
             10 FX-TO-CURRENCY      PIC X(03).      *> ISO currency code for the currency being bought
             10 FX-FROM-AMOUNT      PIC S9(13)V99 COMP-3. *> Amount of the 'From' currency
             10 FX-TO-AMOUNT        PIC S9(13)V99 COMP-3.   *> Amount of the 'To' currency
             10 FX-SETTLEMENT-CCY   PIC X(03).      *> Currency for settlement if different from 'To' or 'From'
          05 FX-EXCHANGE-RATE-INFO.
             10 FX-EXCHANGE-RATE    PIC S9(5)V9(6) COMP-3.  *> Actual executed exchange rate
             10 FX-BID-RATE         PIC S9(5)V9(6) COMP-3.  *> Bid rate observed at the time of execution
             10 FX-ASK-RATE         PIC S9(5)V9(6) COMP-3.  *> Ask rate observed at the time of execution
             10 FX-RATE-SOURCE      PIC X(10).      *> Source of the exchange rate (e.g., 'API-EXT', 'INTERNAL', 'MANUAL')
             10 FX-RATE-TIMESTAMP   PIC X(14).      *> Timestamp (YYYYMMDDHHMMSS) when the rate was captured
          05 FX-DATE-TIME-DETAILS.
             10 FX-TRADE-DATE       PIC X(10).      *> Date (YYYY-MM-DD) when the trade was agreed
             10 FX-TRADE-TIME       PIC X(08).      *> Time (HH.MM.SS) when the trade was agreed
             10 FX-VALUE-DATE       PIC X(10).      *> Date (YYYY-MM-DD) when funds are exchanged
             10 FX-SETTLEMENT-DATE  PIC X(10).      *> Actual or projected settlement date (YYYY-MM-DD)
             10 FX-CAPTURE-TIMESTAMP PIC X(14).     *> System timestamp (YYYYMMDDHHMMSS) for record creation
          05 FX-TRADE-STATUS.
             10 FX-STATUS           PIC X(01).      *> Current operational status of the trade
                88 FX-BOOKED           VALUE 'B'.   *> Trade has been recorded and is active
                88 FX-PENDING-APPROVAL VALUE 'P'.   *> Trade is awaiting necessary internal approval
                88 FX-REJECTED         VALUE 'R'.   *> Trade was rejected by system or approver
                88 FX-SETTLED          VALUE 'S'.   *> Trade has successfully completed settlement
                88 FX-CANCELED         VALUE 'C'.   *> Trade was canceled before or during settlement
                88 FX-FAILED-SETTLE    VALUE 'F'.   *> Settlement encountered an issue and failed
             10 FX-SETTLEMENT-STATUS PIC X(01).     *> Detailed status of the settlement process
                88 FX-SETTL-PENDING    VALUE 'P'.   *> Settlement process is in progress
                88 FX-SETTL-COMPLETE   VALUE 'C'.   *> Settlement has been fully confirmed
                88 FX-SETTL-EXCEPTION  VALUE 'E'.   *> Settlement encountered an exception requiring manual review
          05 FX-COMPLIANCE-DETAILS.
             10 FX-COMPLIANCE-FLAG  PIC X(01).      *> 'Y' if trade passed all automated compliance checks, 'N' otherwise
             10 FX-COMPLIANCE-CODE  PIC X(04).      *> Specific code indicating compliance result or issue
             10 FX-REGULATORY-REPORT PIC X(01).     *> 'Y' if this trade is subject to regulatory reporting, 'N' if not
          05 FX-AI-ASSISTED-INSIGHTS.                *> Fields for AI-driven analytics and insights
             10 FX-AI-PREDICTED-TREND PIC X(10).    *> AI's prediction on the short-term market trend for this currency pair (e.g., 'UPLIFT', 'DOWNTURN', 'STABLE', 'VOLATILE')
             10 FX-AI-RISK-SCORE    PIC S9(03) COMP-3. *> AI-calculated risk score for the trade (0-100, higher is riskier)
             10 FX-AI-CLASSIFICATION PIC X(15).     *> AI-generated category for the trade (e.g., 'HEDGE', 'SPECULATION', 'ARBITRAGE', 'LIQUIDITY-MGMT')
             10 FX-AI-ADVISORY-FLAG PIC X(01).      *> 'Y' if an AI model provided advice/recommendation for this trade, 'N' otherwise
             10 FX-AI-ADVISORY-ID   PIC X(20).      *> Identifier for the specific AI model or advisory session used
             10 FX-AI-CONFIDENCE-SCORE PIC S9(03) COMP-3. *> AI's confidence level (0-100) in its prediction or advice
             10 FX-AI-LAST-ANALYSIS-DATE PIC X(10). *> Date (YYYY-MM-DD) when AI last processed/analyzed this trade record
          05 FX-AUDIT-TRAIL.
             10 FX-CREATED-BY       PIC X(10).      *> User ID or system ID that initially created the trade record
             10 FX-APPROVED-BY      PIC X(10).      *> User ID or system ID that approved the trade (if applicable)
             10 FX-LAST-UPDATED-BY  PIC X(10).      *> User ID or system ID that performed the last modification
             10 FX-LAST-UPDATE-TIMESTAMP PIC X(14). *> Timestamp (YYYYMMDDHHMMSS) of the last update
          05 FX-ADDITIONAL-INFO.
             10 FX-COMMENT          PIC X(50).      *> General comments or internal notes about the trade
             10 FX-RESERVED-DATA    PIC X(30).      *> Filler for future expansion, ensuring record length consistency